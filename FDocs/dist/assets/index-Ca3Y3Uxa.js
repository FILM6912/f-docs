(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function as(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qp={exports:{}},vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function RR(){if($b)return vl;$b=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,a){var l=null;if(a!==void 0&&(l=""+a),o.key!==void 0&&(l=""+o.key),"key"in o){a={};for(var c in o)c!=="key"&&(a[c]=o[c])}else a=o;return o=a.ref,{$$typeof:e,type:r,key:l,ref:o!==void 0?o:null,props:a}}return vl.Fragment=t,vl.jsx=n,vl.jsxs=n,vl}var Lb;function IR(){return Lb||(Lb=1,qp.exports=RR()),qp.exports}var x=IR(),Vp={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function MR(){if(qb)return Xe;qb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function w(z,B,D){this.props=z,this.context=B,this.refs=k,this.updater=D||E}w.prototype.isReactComponent={},w.prototype.setState=function(z,B){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,B,"setState")},w.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function T(){}T.prototype=w.prototype;function A(z,B,D){this.props=z,this.context=B,this.refs=k,this.updater=D||E}var M=A.prototype=new T;M.constructor=A,R(M,w.prototype),M.isPureReactComponent=!0;var C=Array.isArray;function N(){}var P={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function j(z,B,D){var O=D.ref;return{$$typeof:e,type:z,key:B,ref:O!==void 0?O:null,props:D}}function q(z,B){return j(z.type,B,z.props)}function H(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function K(z){var B={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(D){return B[D]})}var ee=/\/+/g;function Q(z,B){return typeof z=="object"&&z!==null&&z.key!=null?K(""+z.key):B.toString(36)}function W(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(N,N):(z.status="pending",z.then(function(B){z.status==="pending"&&(z.status="fulfilled",z.value=B)},function(B){z.status==="pending"&&(z.status="rejected",z.reason=B)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function G(z,B,D,O,V){var X=typeof z;(X==="undefined"||X==="boolean")&&(z=null);var se=!1;if(z===null)se=!0;else switch(X){case"bigint":case"string":case"number":se=!0;break;case"object":switch(z.$$typeof){case e:case t:se=!0;break;case p:return se=z._init,G(se(z._payload),B,D,O,V)}}if(se)return V=V(z),se=O===""?"."+Q(z,0):O,C(V)?(D="",se!=null&&(D=se.replace(ee,"$&/")+"/"),G(V,B,D,"",function(Ue){return Ue})):V!=null&&(H(V)&&(V=q(V,D+(V.key==null||z&&z.key===V.key?"":(""+V.key).replace(ee,"$&/")+"/")+se)),B.push(V)),1;se=0;var xe=O===""?".":O+":";if(C(z))for(var Ce=0;Ce<z.length;Ce++)O=z[Ce],X=xe+Q(O,Ce),se+=G(O,B,D,X,V);else if(Ce=b(z),typeof Ce=="function")for(z=Ce.call(z),Ce=0;!(O=z.next()).done;)O=O.value,X=xe+Q(O,Ce++),se+=G(O,B,D,X,V);else if(X==="object"){if(typeof z.then=="function")return G(W(z),B,D,O,V);throw B=String(z),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return se}function ce(z,B,D){if(z==null)return z;var O=[],V=0;return G(z,O,"","",function(X){return B.call(D,X,V++)}),O}function _e(z){if(z._status===-1){var B=z._result;B=B(),B.then(function(D){(z._status===0||z._status===-1)&&(z._status=1,z._result=D)},function(D){(z._status===0||z._status===-1)&&(z._status=2,z._result=D)}),z._status===-1&&(z._status=0,z._result=B)}if(z._status===1)return z._result.default;throw z._result}var ze=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},$={map:ce,forEach:function(z,B,D){ce(z,function(){B.apply(this,arguments)},D)},count:function(z){var B=0;return ce(z,function(){B++}),B},toArray:function(z){return ce(z,function(B){return B})||[]},only:function(z){if(!H(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Xe.Activity=g,Xe.Children=$,Xe.Component=w,Xe.Fragment=n,Xe.Profiler=o,Xe.PureComponent=A,Xe.StrictMode=r,Xe.Suspense=d,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return P.H.useMemoCache(z)}},Xe.cache=function(z){return function(){return z.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(z,B,D){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var O=R({},z.props),V=z.key;if(B!=null)for(X in B.key!==void 0&&(V=""+B.key),B)!L.call(B,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&B.ref===void 0||(O[X]=B[X]);var X=arguments.length-2;if(X===1)O.children=D;else if(1<X){for(var se=Array(X),xe=0;xe<X;xe++)se[xe]=arguments[xe+2];O.children=se}return j(z.type,V,O)},Xe.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:a,_context:z},z},Xe.createElement=function(z,B,D){var O,V={},X=null;if(B!=null)for(O in B.key!==void 0&&(X=""+B.key),B)L.call(B,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(V[O]=B[O]);var se=arguments.length-2;if(se===1)V.children=D;else if(1<se){for(var xe=Array(se),Ce=0;Ce<se;Ce++)xe[Ce]=arguments[Ce+2];V.children=xe}if(z&&z.defaultProps)for(O in se=z.defaultProps,se)V[O]===void 0&&(V[O]=se[O]);return j(z,X,V)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(z){return{$$typeof:c,render:z}},Xe.isValidElement=H,Xe.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:_e}},Xe.memo=function(z,B){return{$$typeof:f,type:z,compare:B===void 0?null:B}},Xe.startTransition=function(z){var B=P.T,D={};P.T=D;try{var O=z(),V=P.S;V!==null&&V(D,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(N,ze)}catch(X){ze(X)}finally{B!==null&&D.types!==null&&(B.types=D.types),P.T=B}},Xe.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Xe.use=function(z){return P.H.use(z)},Xe.useActionState=function(z,B,D){return P.H.useActionState(z,B,D)},Xe.useCallback=function(z,B){return P.H.useCallback(z,B)},Xe.useContext=function(z){return P.H.useContext(z)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(z,B){return P.H.useDeferredValue(z,B)},Xe.useEffect=function(z,B){return P.H.useEffect(z,B)},Xe.useEffectEvent=function(z){return P.H.useEffectEvent(z)},Xe.useId=function(){return P.H.useId()},Xe.useImperativeHandle=function(z,B,D){return P.H.useImperativeHandle(z,B,D)},Xe.useInsertionEffect=function(z,B){return P.H.useInsertionEffect(z,B)},Xe.useLayoutEffect=function(z,B){return P.H.useLayoutEffect(z,B)},Xe.useMemo=function(z,B){return P.H.useMemo(z,B)},Xe.useOptimistic=function(z,B){return P.H.useOptimistic(z,B)},Xe.useReducer=function(z,B,D){return P.H.useReducer(z,B,D)},Xe.useRef=function(z){return P.H.useRef(z)},Xe.useState=function(z){return P.H.useState(z)},Xe.useSyncExternalStore=function(z,B,D){return P.H.useSyncExternalStore(z,B,D)},Xe.useTransition=function(){return P.H.useTransition()},Xe.version="19.2.3",Xe}var Vb;function rf(){return Vb||(Vb=1,Vp.exports=MR()),Vp.exports}var oe=rf();const ET=as(oe);var jp={exports:{}},_l={},Hp={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb;function PR(){return jb||(jb=1,(function(e){function t(G,ce){var _e=G.length;G.push(ce);e:for(;0<_e;){var ze=_e-1>>>1,$=G[ze];if(0<o($,ce))G[ze]=ce,G[_e]=$,_e=ze;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ce=G[0],_e=G.pop();if(_e!==ce){G[0]=_e;e:for(var ze=0,$=G.length,z=$>>>1;ze<z;){var B=2*(ze+1)-1,D=G[B],O=B+1,V=G[O];if(0>o(D,_e))O<$&&0>o(V,D)?(G[ze]=V,G[O]=_e,ze=O):(G[ze]=D,G[B]=_e,ze=B);else if(O<$&&0>o(V,_e))G[ze]=V,G[O]=_e,ze=O;else break e}}return ce}function o(G,ce){var _e=G.sortIndex-ce.sortIndex;return _e!==0?_e:G.id-ce.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,g=null,v=3,b=!1,E=!1,R=!1,k=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function M(G){for(var ce=n(f);ce!==null;){if(ce.callback===null)r(f);else if(ce.startTime<=G)r(f),ce.sortIndex=ce.expirationTime,t(d,ce);else break;ce=n(f)}}function C(G){if(R=!1,M(G),!E)if(n(d)!==null)E=!0,N||(N=!0,K());else{var ce=n(f);ce!==null&&W(C,ce.startTime-G)}}var N=!1,P=-1,L=5,j=-1;function q(){return k?!0:!(e.unstable_now()-j<L)}function H(){if(k=!1,N){var G=e.unstable_now();j=G;var ce=!0;try{e:{E=!1,R&&(R=!1,T(P),P=-1),b=!0;var _e=v;try{t:{for(M(G),g=n(d);g!==null&&!(g.expirationTime>G&&q());){var ze=g.callback;if(typeof ze=="function"){g.callback=null,v=g.priorityLevel;var $=ze(g.expirationTime<=G);if(G=e.unstable_now(),typeof $=="function"){g.callback=$,M(G),ce=!0;break t}g===n(d)&&r(d),M(G)}else r(d);g=n(d)}if(g!==null)ce=!0;else{var z=n(f);z!==null&&W(C,z.startTime-G),ce=!1}}break e}finally{g=null,v=_e,b=!1}ce=void 0}}finally{ce?K():N=!1}}}var K;if(typeof A=="function")K=function(){A(H)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Q=ee.port2;ee.port1.onmessage=H,K=function(){Q.postMessage(null)}}else K=function(){w(H,0)};function W(G,ce){P=w(function(){G(e.unstable_now())},ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(G){switch(v){case 1:case 2:case 3:var ce=3;break;default:ce=v}var _e=v;v=ce;try{return G()}finally{v=_e}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(G,ce){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var _e=v;v=G;try{return ce()}finally{v=_e}},e.unstable_scheduleCallback=function(G,ce,_e){var ze=e.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?ze+_e:ze):_e=ze,G){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=_e+$,G={id:p++,callback:ce,priorityLevel:G,startTime:_e,expirationTime:$,sortIndex:-1},_e>ze?(G.sortIndex=_e,t(f,G),n(d)===null&&G===n(f)&&(R?(T(P),P=-1):R=!0,W(C,_e-ze))):(G.sortIndex=$,t(d,G),E||b||(E=!0,N||(N=!0,K()))),G},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(G){var ce=v;return function(){var _e=v;v=ce;try{return G.apply(this,arguments)}finally{v=_e}}}})(Bp)),Bp}var Hb;function DR(){return Hb||(Hb=1,Hp.exports=PR()),Hp.exports}var Fp={exports:{}},$n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb;function zR(){if(Bb)return $n;Bb=1;var e=rf();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return $n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$n.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(d,f,null,p)},$n.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},$n.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},$n.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},$n.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},$n.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},$n.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},$n.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},$n.requestFormReset=function(d){r.d.r(d)},$n.unstable_batchedUpdates=function(d,f){return d(f)},$n.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},$n.useFormStatus=function(){return l.H.useHostTransitionStatus()},$n.version="19.2.3",$n}var Fb;function OR(){if(Fb)return Fp.exports;Fb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fp.exports=zR(),Fp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gb;function UR(){if(Gb)return _l;Gb=1;var e=DR(),t=rf(),n=OR();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function l(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function c(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(a(i)!==i)throw Error(r(188))}function f(i){var s=i.alternate;if(!s){if(s=a(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,h=s;;){var _=u.return;if(_===null)break;var S=_.alternate;if(S===null){if(h=_.return,h!==null){u=h;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===u)return d(_),i;if(S===h)return d(_),s;S=S.sibling}throw Error(r(188))}if(u.return!==h.return)u=_,h=S;else{for(var I=!1,U=_.child;U;){if(U===u){I=!0,u=_,h=S;break}if(U===h){I=!0,h=_,u=S;break}U=U.sibling}if(!I){for(U=S.child;U;){if(U===u){I=!0,u=S,h=_;break}if(U===h){I=!0,h=S,u=_;break}U=U.sibling}if(!I)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var ee=Symbol.for("react.client.reference");function Q(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ee?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case w:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case E:return"Portal";case A:return i.displayName||"Context";case T:return(i._context.displayName||"Context")+".Consumer";case M:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return s=i.displayName||null,s!==null?s:Q(i.type)||"Memo";case L:s=i._payload,i=i._init;try{return Q(i(s))}catch{}}return null}var W=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},ze=[],$=-1;function z(i){return{current:i}}function B(i){0>$||(i.current=ze[$],ze[$]=null,$--)}function D(i,s){$++,ze[$]=i.current,i.current=s}var O=z(null),V=z(null),X=z(null),se=z(null);function xe(i,s){switch(D(X,s),D(V,i),D(O,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?ab(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=ab(s),i=lb(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}B(O),D(O,i)}function Ce(){B(O),B(V),B(X)}function Ue(i){i.memoizedState!==null&&D(se,i);var s=O.current,u=lb(s,i.type);s!==u&&(D(V,i),D(O,u))}function Y(i){V.current===i&&(B(O),B(V)),se.current===i&&(B(se),pl._currentValue=_e)}var ne,me;function be(i){if(ne===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);ne=s&&s[1]||"",me=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+i+me}var Ae=!1;function He(i,s){if(!i||Ae)return"";Ae=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(de){var ue=de}Reflect.construct(i,[],ve)}else{try{ve.call()}catch(de){ue=de}i.call(ve.prototype)}}else{try{throw Error()}catch(de){ue=de}(ve=i())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(de){if(de&&ue&&typeof de.stack=="string")return[de.stack,ue.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=h.DetermineComponentFrameRoot(),I=S[0],U=S[1];if(I&&U){var F=I.split(`
`),le=U.split(`
`);for(_=h=0;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;for(;_<le.length&&!le[_].includes("DetermineComponentFrameRoot");)_++;if(h===F.length||_===le.length)for(h=F.length-1,_=le.length-1;1<=h&&0<=_&&F[h]!==le[_];)_--;for(;1<=h&&0<=_;h--,_--)if(F[h]!==le[_]){if(h!==1||_!==1)do if(h--,_--,0>_||F[h]!==le[_]){var he=`
`+F[h].replace(" at new "," at ");return i.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",i.displayName)),he}while(1<=h&&0<=_);break}}}finally{Ae=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?be(u):""}function It(i,s){switch(i.tag){case 26:case 27:case 5:return be(i.type);case 16:return be("Lazy");case 13:return i.child!==s&&s!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return He(i.type,!1);case 11:return He(i.type.render,!1);case 1:return He(i.type,!0);case 31:return be("Activity");default:return""}}function Ye(i){try{var s="",u=null;do s+=It(i,u),u=i,i=i.return;while(i);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var gt=Object.prototype.hasOwnProperty,wt=e.unstable_scheduleCallback,xt=e.unstable_cancelCallback,Tn=e.unstable_shouldYield,fe=e.unstable_requestPaint,Ee=e.unstable_now,Te=e.unstable_getCurrentPriorityLevel,re=e.unstable_ImmediatePriority,we=e.unstable_UserBlockingPriority,ye=e.unstable_NormalPriority,Pe=e.unstable_LowPriority,Ve=e.unstable_IdlePriority,Gt=e.log,mn=e.unstable_setDisableYieldValue,nt=null,Se=null;function Ze(i){if(typeof Gt=="function"&&mn(i),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(nt,i)}catch{}}var De=Math.clz32?Math.clz32:nn,Ge=Math.log,ht=Math.LN2;function nn(i){return i>>>=0,i===0?32:31-(Ge(i)/ht|0)|0}var bn=256,kt=262144,Hn=4194304;function kn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function gn(i,s,u){var h=i.pendingLanes;if(h===0)return 0;var _=0,S=i.suspendedLanes,I=i.pingedLanes;i=i.warmLanes;var U=h&134217727;return U!==0?(h=U&~S,h!==0?_=kn(h):(I&=U,I!==0?_=kn(I):u||(u=U&~i,u!==0&&(_=kn(u))))):(U=h&~S,U!==0?_=kn(U):I!==0?_=kn(I):u||(u=h&~i,u!==0&&(_=kn(u)))),_===0?0:s!==0&&s!==_&&(s&S)===0&&(S=_&-_,u=s&-s,S>=u||S===32&&(u&4194048)!==0)?s:_}function sn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Wr(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function an(){var i=Hn;return Hn<<=1,(Hn&62914560)===0&&(Hn=4194304),i}function lr(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function ui(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ao(i,s,u,h,_,S){var I=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var U=i.entanglements,F=i.expirationTimes,le=i.hiddenUpdates;for(u=I&~u;0<u;){var he=31-De(u),ve=1<<he;U[he]=0,F[he]=-1;var ue=le[he];if(ue!==null)for(le[he]=null,he=0;he<ue.length;he++){var de=ue[he];de!==null&&(de.lane&=-536870913)}u&=~ve}h!==0&&ci(i,h,0),S!==0&&_===0&&i.tag!==0&&(i.suspendedLanes|=S&~(I&~s))}function ci(i,s,u){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-De(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|u&261930}function No(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var h=31-De(u),_=1<<h;_&s|i[h]&s&&(i[h]|=s),u&=~_}}function Yn(i,s){var u=s&-s;return u=(u&42)!==0?1:ur(u),(u&(i.suspendedLanes|s))!==0?0:u}function ur(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function di(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ro(){var i=ce.p;return i!==0?i:(i=window.event,i===void 0?32:Ib(i.type))}function Vi(i,s){var u=ce.p;try{return ce.p=i,s()}finally{ce.p=u}}var ei=Math.random().toString(36).slice(2),yn="__reactFiber$"+ei,xn="__reactProps$"+ei,ji="__reactContainer$"+ei,Io="__reactEvents$"+ei,Na="__reactListeners$"+ei,Ra="__reactHandles$"+ei,ie="__reactResources$"+ei,Re="__reactMarker$"+ei;function Ct(i){delete i[yn],delete i[xn],delete i[Io],delete i[Na],delete i[Ra]}function zt(i){var s=i[yn];if(s)return s;for(var u=i.parentNode;u;){if(s=u[ji]||u[yn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=mb(i);i!==null;){if(u=i[yn])return u;i=mb(i)}return s}i=u,u=i.parentNode}return null}function Cn(i){if(i=i[yn]||i[ji]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function fi(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function hi(i){var s=i[ie];return s||(s=i[ie]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Lt(i){i[Re]=!0}var Hi=new Set,Mf={};function Mo(i,s){ds(i,s),ds(i+"Capture",s)}function ds(i,s){for(Mf[i]=s,i=0;i<s.length;i++)Hi.add(s[i])}var xA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),X0={},Q0={};function SA(i){return gt.call(Q0,i)?!0:gt.call(X0,i)?!1:xA.test(i)?Q0[i]=!0:(X0[i]=!0,!1)}function iu(i,s,u){if(SA(s))if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+u)}}function ou(i,s,u){if(u===null)i.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+u)}}function pi(i,s,u,h){if(h===null)i.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(s,u,""+h)}}function Sr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function W0(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function wA(i,s,u){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,S=h.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return _.call(this)},set:function(I){u=""+I,S.call(this,I)}}),Object.defineProperty(i,s,{enumerable:h.enumerable}),{getValue:function(){return u},setValue:function(I){u=""+I},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Pf(i){if(!i._valueTracker){var s=W0(i)?"checked":"value";i._valueTracker=wA(i,s,""+i[s])}}function ey(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return i&&(h=W0(i)?i.checked?"true":"false":i.value),i=h,i!==u?(s.setValue(i),!0):!1}function su(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var EA=/[\n"\\]/g;function wr(i){return i.replace(EA,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Df(i,s,u,h,_,S,I,U){i.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.type=I:i.removeAttribute("type"),s!=null?I==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Sr(s)):i.value!==""+Sr(s)&&(i.value=""+Sr(s)):I!=="submit"&&I!=="reset"||i.removeAttribute("value"),s!=null?zf(i,I,Sr(s)):u!=null?zf(i,I,Sr(u)):h!=null&&i.removeAttribute("value"),_==null&&S!=null&&(i.defaultChecked=!!S),_!=null&&(i.checked=_&&typeof _!="function"&&typeof _!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?i.name=""+Sr(U):i.removeAttribute("name")}function ty(i,s,u,h,_,S,I,U){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),s!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||s!=null)){Pf(i);return}u=u!=null?""+Sr(u):"",s=s!=null?""+Sr(s):u,U||s===i.value||(i.value=s),i.defaultValue=s}h=h??_,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=U?i.checked:!!h,i.defaultChecked=!!h,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.name=I),Pf(i)}function zf(i,s,u){s==="number"&&su(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function fs(i,s,u,h){if(i=i.options,s){s={};for(var _=0;_<u.length;_++)s["$"+u[_]]=!0;for(u=0;u<i.length;u++)_=s.hasOwnProperty("$"+i[u].value),i[u].selected!==_&&(i[u].selected=_),_&&h&&(i[u].defaultSelected=!0)}else{for(u=""+Sr(u),s=null,_=0;_<i.length;_++){if(i[_].value===u){i[_].selected=!0,h&&(i[_].defaultSelected=!0);return}s!==null||i[_].disabled||(s=i[_])}s!==null&&(s.selected=!0)}}function ny(i,s,u){if(s!=null&&(s=""+Sr(s),s!==i.value&&(i.value=s),u==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=u!=null?""+Sr(u):""}function ry(i,s,u,h){if(s==null){if(h!=null){if(u!=null)throw Error(r(92));if(W(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),s=u}u=Sr(s),i.defaultValue=u,h=i.textContent,h===u&&h!==""&&h!==null&&(i.value=h),Pf(i)}function hs(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var TA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function iy(i,s,u){var h=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,u):typeof u!="number"||u===0||TA.has(s)?s==="float"?i.cssFloat=u:i[s]=(""+u).trim():i[s]=u+"px"}function oy(i,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var _ in s)h=s[_],s.hasOwnProperty(_)&&u[_]!==h&&iy(i,_,h)}else for(var S in s)s.hasOwnProperty(S)&&iy(i,S,s[S])}function Of(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function au(i){return CA.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function mi(){}var Uf=null;function $f(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ps=null,ms=null;function sy(i){var s=Cn(i);if(s&&(i=s.stateNode)){var u=i[xn]||null;e:switch(i=s.stateNode,s.type){case"input":if(Df(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+wr(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==i&&h.form===i.form){var _=h[xn]||null;if(!_)throw Error(r(90));Df(h,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(s=0;s<u.length;s++)h=u[s],h.form===i.form&&ey(h)}break e;case"textarea":ny(i,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&fs(i,!!u.multiple,s,!1)}}}var Lf=!1;function ay(i,s,u){if(Lf)return i(s,u);Lf=!0;try{var h=i(s);return h}finally{if(Lf=!1,(ps!==null||ms!==null)&&(Zu(),ps&&(s=ps,i=ms,ms=ps=null,sy(s),i)))for(s=0;s<i.length;s++)sy(i[s])}}function Ia(i,s){var u=i.stateNode;if(u===null)return null;var h=u[xn]||null;if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qf=!1;if(gi)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){qf=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{qf=!1}var Bi=null,Vf=null,lu=null;function ly(){if(lu)return lu;var i,s=Vf,u=s.length,h,_="value"in Bi?Bi.value:Bi.textContent,S=_.length;for(i=0;i<u&&s[i]===_[i];i++);var I=u-i;for(h=1;h<=I&&s[u-h]===_[S-h];h++);return lu=_.slice(i,1<h?1-h:void 0)}function uu(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function cu(){return!0}function uy(){return!1}function Xn(i){function s(u,h,_,S,I){this._reactName=u,this._targetInst=_,this.type=h,this.nativeEvent=S,this.target=I,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(u=i[U],this[U]=u?u(S):S[U]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?cu:uy,this.isPropagationStopped=uy,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=cu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=cu)},persist:function(){},isPersistent:cu}),s}var Po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=Xn(Po),Pa=g({},Po,{view:0,detail:0}),AA=Xn(Pa),jf,Hf,Da,fu=g({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ff,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Da&&(Da&&i.type==="mousemove"?(jf=i.screenX-Da.screenX,Hf=i.screenY-Da.screenY):Hf=jf=0,Da=i),jf)},movementY:function(i){return"movementY"in i?i.movementY:Hf}}),cy=Xn(fu),NA=g({},fu,{dataTransfer:0}),RA=Xn(NA),IA=g({},Pa,{relatedTarget:0}),Bf=Xn(IA),MA=g({},Po,{animationName:0,elapsedTime:0,pseudoElement:0}),PA=Xn(MA),DA=g({},Po,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),zA=Xn(DA),OA=g({},Po,{data:0}),dy=Xn(OA),UA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$A={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qA(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=LA[i])?!!s[i]:!1}function Ff(){return qA}var VA=g({},Pa,{key:function(i){if(i.key){var s=UA[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=uu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$A[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ff,charCode:function(i){return i.type==="keypress"?uu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?uu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),jA=Xn(VA),HA=g({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fy=Xn(HA),BA=g({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ff}),FA=Xn(BA),GA=g({},Po,{propertyName:0,elapsedTime:0,pseudoElement:0}),JA=Xn(GA),ZA=g({},fu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),KA=Xn(ZA),YA=g({},Po,{newState:0,oldState:0}),XA=Xn(YA),QA=[9,13,27,32],Gf=gi&&"CompositionEvent"in window,za=null;gi&&"documentMode"in document&&(za=document.documentMode);var WA=gi&&"TextEvent"in window&&!za,hy=gi&&(!Gf||za&&8<za&&11>=za),py=" ",my=!1;function gy(i,s){switch(i){case"keyup":return QA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var gs=!1;function eN(i,s){switch(i){case"compositionend":return yy(s);case"keypress":return s.which!==32?null:(my=!0,py);case"textInput":return i=s.data,i===py&&my?null:i;default:return null}}function tN(i,s){if(gs)return i==="compositionend"||!Gf&&gy(i,s)?(i=ly(),lu=Vf=Bi=null,gs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hy&&s.locale!=="ko"?null:s.data;default:return null}}var nN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!nN[i.type]:s==="textarea"}function _y(i,s,u,h){ps?ms?ms.push(h):ms=[h]:ps=h,s=tc(s,"onChange"),0<s.length&&(u=new du("onChange","change",null,u,h),i.push({event:u,listeners:s}))}var Oa=null,Ua=null;function rN(i){tb(i,0)}function hu(i){var s=fi(i);if(ey(s))return i}function by(i,s){if(i==="change")return s}var xy=!1;if(gi){var Jf;if(gi){var Zf="oninput"in document;if(!Zf){var Sy=document.createElement("div");Sy.setAttribute("oninput","return;"),Zf=typeof Sy.oninput=="function"}Jf=Zf}else Jf=!1;xy=Jf&&(!document.documentMode||9<document.documentMode)}function wy(){Oa&&(Oa.detachEvent("onpropertychange",Ey),Ua=Oa=null)}function Ey(i){if(i.propertyName==="value"&&hu(Ua)){var s=[];_y(s,Ua,i,$f(i)),ay(rN,s)}}function iN(i,s,u){i==="focusin"?(wy(),Oa=s,Ua=u,Oa.attachEvent("onpropertychange",Ey)):i==="focusout"&&wy()}function oN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return hu(Ua)}function sN(i,s){if(i==="click")return hu(s)}function aN(i,s){if(i==="input"||i==="change")return hu(s)}function lN(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var cr=typeof Object.is=="function"?Object.is:lN;function $a(i,s){if(cr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var _=u[h];if(!gt.call(s,_)||!cr(i[_],s[_]))return!1}return!0}function Ty(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ky(i,s){var u=Ty(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=s&&h>=s)return{node:u,offset:s-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ty(u)}}function Cy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Cy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Ay(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=su(i.document);s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=su(i.document)}return s}function Kf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var uN=gi&&"documentMode"in document&&11>=document.documentMode,ys=null,Yf=null,La=null,Xf=!1;function Ny(i,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Xf||ys==null||ys!==su(h)||(h=ys,"selectionStart"in h&&Kf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),La&&$a(La,h)||(La=h,h=tc(Yf,"onSelect"),0<h.length&&(s=new du("onSelect","select",null,s,u),i.push({event:s,listeners:h}),s.target=ys)))}function Do(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var vs={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionrun:Do("Transition","TransitionRun"),transitionstart:Do("Transition","TransitionStart"),transitioncancel:Do("Transition","TransitionCancel"),transitionend:Do("Transition","TransitionEnd")},Qf={},Ry={};gi&&(Ry=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function zo(i){if(Qf[i])return Qf[i];if(!vs[i])return i;var s=vs[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in Ry)return Qf[i]=s[u];return i}var Iy=zo("animationend"),My=zo("animationiteration"),Py=zo("animationstart"),cN=zo("transitionrun"),dN=zo("transitionstart"),fN=zo("transitioncancel"),Dy=zo("transitionend"),zy=new Map,Wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wf.push("scrollEnd");function Lr(i,s){zy.set(i,s),Mo(s,[i])}var pu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Er=[],_s=0,eh=0;function mu(){for(var i=_s,s=eh=_s=0;s<i;){var u=Er[s];Er[s++]=null;var h=Er[s];Er[s++]=null;var _=Er[s];Er[s++]=null;var S=Er[s];if(Er[s++]=null,h!==null&&_!==null){var I=h.pending;I===null?_.next=_:(_.next=I.next,I.next=_),h.pending=_}S!==0&&Oy(u,_,S)}}function gu(i,s,u,h){Er[_s++]=i,Er[_s++]=s,Er[_s++]=u,Er[_s++]=h,eh|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function th(i,s,u,h){return gu(i,s,u,h),yu(i)}function Oo(i,s){return gu(i,null,null,s),yu(i)}function Oy(i,s,u){i.lanes|=u;var h=i.alternate;h!==null&&(h.lanes|=u);for(var _=!1,S=i.return;S!==null;)S.childLanes|=u,h=S.alternate,h!==null&&(h.childLanes|=u),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(_=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,_&&s!==null&&(_=31-De(u),i=S.hiddenUpdates,h=i[_],h===null?i[_]=[s]:h.push(s),s.lane=u|536870912),S):null}function yu(i){if(50<al)throw al=0,cp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var bs={};function hN(i,s,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(i,s,u,h){return new hN(i,s,u,h)}function nh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function yi(i,s){var u=i.alternate;return u===null?(u=dr(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function Uy(i,s){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,s=u.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function vu(i,s,u,h,_,S){var I=0;if(h=i,typeof i=="function")nh(i)&&(I=1);else if(typeof i=="string")I=vR(i,u,O.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case j:return i=dr(31,u,s,_),i.elementType=j,i.lanes=S,i;case R:return Uo(u.children,_,S,s);case k:I=8,_|=24;break;case w:return i=dr(12,u,s,_|2),i.elementType=w,i.lanes=S,i;case C:return i=dr(13,u,s,_),i.elementType=C,i.lanes=S,i;case N:return i=dr(19,u,s,_),i.elementType=N,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:I=10;break e;case T:I=9;break e;case M:I=11;break e;case P:I=14;break e;case L:I=16,h=null;break e}I=29,u=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=dr(I,u,s,_),s.elementType=i,s.type=h,s.lanes=S,s}function Uo(i,s,u,h){return i=dr(7,i,h,s),i.lanes=u,i}function rh(i,s,u){return i=dr(6,i,null,s),i.lanes=u,i}function $y(i){var s=dr(18,null,null,0);return s.stateNode=i,s}function ih(i,s,u){return s=dr(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ly=new WeakMap;function Tr(i,s){if(typeof i=="object"&&i!==null){var u=Ly.get(i);return u!==void 0?u:(s={value:i,source:s,stack:Ye(s)},Ly.set(i,s),s)}return{value:i,source:s,stack:Ye(s)}}var xs=[],Ss=0,_u=null,qa=0,kr=[],Cr=0,Fi=null,ti=1,ni="";function vi(i,s){xs[Ss++]=qa,xs[Ss++]=_u,_u=i,qa=s}function qy(i,s,u){kr[Cr++]=ti,kr[Cr++]=ni,kr[Cr++]=Fi,Fi=i;var h=ti;i=ni;var _=32-De(h)-1;h&=~(1<<_),u+=1;var S=32-De(s)+_;if(30<S){var I=_-_%5;S=(h&(1<<I)-1).toString(32),h>>=I,_-=I,ti=1<<32-De(s)+_|u<<_|h,ni=S+i}else ti=1<<S|u<<_|h,ni=i}function oh(i){i.return!==null&&(vi(i,1),qy(i,1,0))}function sh(i){for(;i===_u;)_u=xs[--Ss],xs[Ss]=null,qa=xs[--Ss],xs[Ss]=null;for(;i===Fi;)Fi=kr[--Cr],kr[Cr]=null,ni=kr[--Cr],kr[Cr]=null,ti=kr[--Cr],kr[Cr]=null}function Vy(i,s){kr[Cr++]=ti,kr[Cr++]=ni,kr[Cr++]=Fi,ti=s.id,ni=s.overflow,Fi=i}var An=null,qt=null,pt=!1,Gi=null,Ar=!1,ah=Error(r(519));function Ji(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Va(Tr(s,i)),ah}function jy(i){var s=i.stateNode,u=i.type,h=i.memoizedProps;switch(s[yn]=i,s[xn]=h,u){case"dialog":lt("cancel",s),lt("close",s);break;case"iframe":case"object":case"embed":lt("load",s);break;case"video":case"audio":for(u=0;u<ul.length;u++)lt(ul[u],s);break;case"source":lt("error",s);break;case"img":case"image":case"link":lt("error",s),lt("load",s);break;case"details":lt("toggle",s);break;case"input":lt("invalid",s),ty(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":lt("invalid",s);break;case"textarea":lt("invalid",s),ry(s,h.value,h.defaultValue,h.children)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||h.suppressHydrationWarning===!0||ob(s.textContent,u)?(h.popover!=null&&(lt("beforetoggle",s),lt("toggle",s)),h.onScroll!=null&&lt("scroll",s),h.onScrollEnd!=null&&lt("scrollend",s),h.onClick!=null&&(s.onclick=mi),s=!0):s=!1,s||Ji(i,!0)}function Hy(i){for(An=i.return;An;)switch(An.tag){case 5:case 31:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:An=An.return}}function ws(i){if(i!==An)return!1;if(!pt)return Hy(i),pt=!0,!1;var s=i.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Tp(i.type,i.memoizedProps)),u=!u),u&&qt&&Ji(i),Hy(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));qt=pb(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));qt=pb(i)}else s===27?(s=qt,ao(i.type)?(i=Rp,Rp=null,qt=i):qt=s):qt=An?Rr(i.stateNode.nextSibling):null;return!0}function $o(){qt=An=null,pt=!1}function lh(){var i=Gi;return i!==null&&(tr===null?tr=i:tr.push.apply(tr,i),Gi=null),i}function Va(i){Gi===null?Gi=[i]:Gi.push(i)}var uh=z(null),Lo=null,_i=null;function Zi(i,s,u){D(uh,s._currentValue),s._currentValue=u}function bi(i){i._currentValue=uh.current,B(uh)}function ch(i,s,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===u)break;i=i.return}}function dh(i,s,u,h){var _=i.child;for(_!==null&&(_.return=i);_!==null;){var S=_.dependencies;if(S!==null){var I=_.child;S=S.firstContext;e:for(;S!==null;){var U=S;S=_;for(var F=0;F<s.length;F++)if(U.context===s[F]){S.lanes|=u,U=S.alternate,U!==null&&(U.lanes|=u),ch(S.return,u,i),h||(I=null);break e}S=U.next}}else if(_.tag===18){if(I=_.return,I===null)throw Error(r(341));I.lanes|=u,S=I.alternate,S!==null&&(S.lanes|=u),ch(I,u,i),I=null}else I=_.child;if(I!==null)I.return=_;else for(I=_;I!==null;){if(I===i){I=null;break}if(_=I.sibling,_!==null){_.return=I.return,I=_;break}I=I.return}_=I}}function Es(i,s,u,h){i=null;for(var _=s,S=!1;_!==null;){if(!S){if((_.flags&524288)!==0)S=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var I=_.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var U=_.type;cr(_.pendingProps.value,I.value)||(i!==null?i.push(U):i=[U])}}else if(_===se.current){if(I=_.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(i!==null?i.push(pl):i=[pl])}_=_.return}i!==null&&dh(s,i,u,h),s.flags|=262144}function bu(i){for(i=i.firstContext;i!==null;){if(!cr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function qo(i){Lo=i,_i=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Nn(i){return By(Lo,i)}function xu(i,s){return Lo===null&&qo(i),By(i,s)}function By(i,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},_i===null){if(i===null)throw Error(r(308));_i=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else _i=_i.next=s;return u}var pN=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(u,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(u){return u()})}},mN=e.unstable_scheduleCallback,gN=e.unstable_NormalPriority,ln={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fh(){return{controller:new pN,data:new Map,refCount:0}}function ja(i){i.refCount--,i.refCount===0&&mN(gN,function(){i.controller.abort()})}var Ha=null,hh=0,Ts=0,ks=null;function yN(i,s){if(Ha===null){var u=Ha=[];hh=0,Ts=gp(),ks={status:"pending",value:void 0,then:function(h){u.push(h)}}}return hh++,s.then(Fy,Fy),s}function Fy(){if(--hh===0&&Ha!==null){ks!==null&&(ks.status="fulfilled");var i=Ha;Ha=null,Ts=0,ks=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function vN(i,s){var u=[],h={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var _=0;_<u.length;_++)(0,u[_])(s)},function(_){for(h.status="rejected",h.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),h}var Gy=G.S;G.S=function(i,s){N_=Ee(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&yN(i,s),Gy!==null&&Gy(i,s)};var Vo=z(null);function ph(){var i=Vo.current;return i!==null?i:Ot.pooledCache}function Su(i,s){s===null?D(Vo,Vo.current):D(Vo,s.pool)}function Jy(){var i=ph();return i===null?null:{parent:ln._currentValue,pool:i}}var Cs=Error(r(460)),mh=Error(r(474)),wu=Error(r(542)),Eu={then:function(){}};function Zy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ky(i,s,u){switch(u=i[u],u===void 0?i.push(s):u!==s&&(s.then(mi,mi),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Xy(i),i;default:if(typeof s.status=="string")s.then(mi,mi);else{if(i=Ot,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var _=s;_.status="fulfilled",_.value=h}},function(h){if(s.status==="pending"){var _=s;_.status="rejected",_.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Xy(i),i}throw Ho=s,Cs}}function jo(i){try{var s=i._init;return s(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ho=u,Cs):u}}var Ho=null;function Yy(){if(Ho===null)throw Error(r(459));var i=Ho;return Ho=null,i}function Xy(i){if(i===Cs||i===wu)throw Error(r(483))}var As=null,Ba=0;function Tu(i){var s=Ba;return Ba+=1,As===null&&(As=[]),Ky(As,i,s)}function Fa(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function ku(i,s){throw s.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Qy(i){function s(te,Z){if(i){var ae=te.deletions;ae===null?(te.deletions=[Z],te.flags|=16):ae.push(Z)}}function u(te,Z){if(!i)return null;for(;Z!==null;)s(te,Z),Z=Z.sibling;return null}function h(te){for(var Z=new Map;te!==null;)te.key!==null?Z.set(te.key,te):Z.set(te.index,te),te=te.sibling;return Z}function _(te,Z){return te=yi(te,Z),te.index=0,te.sibling=null,te}function S(te,Z,ae){return te.index=ae,i?(ae=te.alternate,ae!==null?(ae=ae.index,ae<Z?(te.flags|=67108866,Z):ae):(te.flags|=67108866,Z)):(te.flags|=1048576,Z)}function I(te){return i&&te.alternate===null&&(te.flags|=67108866),te}function U(te,Z,ae,ge){return Z===null||Z.tag!==6?(Z=rh(ae,te.mode,ge),Z.return=te,Z):(Z=_(Z,ae),Z.return=te,Z)}function F(te,Z,ae,ge){var je=ae.type;return je===R?he(te,Z,ae.props.children,ge,ae.key):Z!==null&&(Z.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===L&&jo(je)===Z.type)?(Z=_(Z,ae.props),Fa(Z,ae),Z.return=te,Z):(Z=vu(ae.type,ae.key,ae.props,null,te.mode,ge),Fa(Z,ae),Z.return=te,Z)}function le(te,Z,ae,ge){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ae.containerInfo||Z.stateNode.implementation!==ae.implementation?(Z=ih(ae,te.mode,ge),Z.return=te,Z):(Z=_(Z,ae.children||[]),Z.return=te,Z)}function he(te,Z,ae,ge,je){return Z===null||Z.tag!==7?(Z=Uo(ae,te.mode,ge,je),Z.return=te,Z):(Z=_(Z,ae),Z.return=te,Z)}function ve(te,Z,ae){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=rh(""+Z,te.mode,ae),Z.return=te,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return ae=vu(Z.type,Z.key,Z.props,null,te.mode,ae),Fa(ae,Z),ae.return=te,ae;case E:return Z=ih(Z,te.mode,ae),Z.return=te,Z;case L:return Z=jo(Z),ve(te,Z,ae)}if(W(Z)||K(Z))return Z=Uo(Z,te.mode,ae,null),Z.return=te,Z;if(typeof Z.then=="function")return ve(te,Tu(Z),ae);if(Z.$$typeof===A)return ve(te,xu(te,Z),ae);ku(te,Z)}return null}function ue(te,Z,ae,ge){var je=Z!==null?Z.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return je!==null?null:U(te,Z,""+ae,ge);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return ae.key===je?F(te,Z,ae,ge):null;case E:return ae.key===je?le(te,Z,ae,ge):null;case L:return ae=jo(ae),ue(te,Z,ae,ge)}if(W(ae)||K(ae))return je!==null?null:he(te,Z,ae,ge,null);if(typeof ae.then=="function")return ue(te,Z,Tu(ae),ge);if(ae.$$typeof===A)return ue(te,Z,xu(te,ae),ge);ku(te,ae)}return null}function de(te,Z,ae,ge,je){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return te=te.get(ae)||null,U(Z,te,""+ge,je);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case b:return te=te.get(ge.key===null?ae:ge.key)||null,F(Z,te,ge,je);case E:return te=te.get(ge.key===null?ae:ge.key)||null,le(Z,te,ge,je);case L:return ge=jo(ge),de(te,Z,ae,ge,je)}if(W(ge)||K(ge))return te=te.get(ae)||null,he(Z,te,ge,je,null);if(typeof ge.then=="function")return de(te,Z,ae,Tu(ge),je);if(ge.$$typeof===A)return de(te,Z,ae,xu(Z,ge),je);ku(Z,ge)}return null}function Oe(te,Z,ae,ge){for(var je=null,yt=null,$e=Z,et=Z=0,ft=null;$e!==null&&et<ae.length;et++){$e.index>et?(ft=$e,$e=null):ft=$e.sibling;var vt=ue(te,$e,ae[et],ge);if(vt===null){$e===null&&($e=ft);break}i&&$e&&vt.alternate===null&&s(te,$e),Z=S(vt,Z,et),yt===null?je=vt:yt.sibling=vt,yt=vt,$e=ft}if(et===ae.length)return u(te,$e),pt&&vi(te,et),je;if($e===null){for(;et<ae.length;et++)$e=ve(te,ae[et],ge),$e!==null&&(Z=S($e,Z,et),yt===null?je=$e:yt.sibling=$e,yt=$e);return pt&&vi(te,et),je}for($e=h($e);et<ae.length;et++)ft=de($e,te,et,ae[et],ge),ft!==null&&(i&&ft.alternate!==null&&$e.delete(ft.key===null?et:ft.key),Z=S(ft,Z,et),yt===null?je=ft:yt.sibling=ft,yt=ft);return i&&$e.forEach(function(ho){return s(te,ho)}),pt&&vi(te,et),je}function Fe(te,Z,ae,ge){if(ae==null)throw Error(r(151));for(var je=null,yt=null,$e=Z,et=Z=0,ft=null,vt=ae.next();$e!==null&&!vt.done;et++,vt=ae.next()){$e.index>et?(ft=$e,$e=null):ft=$e.sibling;var ho=ue(te,$e,vt.value,ge);if(ho===null){$e===null&&($e=ft);break}i&&$e&&ho.alternate===null&&s(te,$e),Z=S(ho,Z,et),yt===null?je=ho:yt.sibling=ho,yt=ho,$e=ft}if(vt.done)return u(te,$e),pt&&vi(te,et),je;if($e===null){for(;!vt.done;et++,vt=ae.next())vt=ve(te,vt.value,ge),vt!==null&&(Z=S(vt,Z,et),yt===null?je=vt:yt.sibling=vt,yt=vt);return pt&&vi(te,et),je}for($e=h($e);!vt.done;et++,vt=ae.next())vt=de($e,te,et,vt.value,ge),vt!==null&&(i&&vt.alternate!==null&&$e.delete(vt.key===null?et:vt.key),Z=S(vt,Z,et),yt===null?je=vt:yt.sibling=vt,yt=vt);return i&&$e.forEach(function(NR){return s(te,NR)}),pt&&vi(te,et),je}function Dt(te,Z,ae,ge){if(typeof ae=="object"&&ae!==null&&ae.type===R&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:e:{for(var je=ae.key;Z!==null;){if(Z.key===je){if(je=ae.type,je===R){if(Z.tag===7){u(te,Z.sibling),ge=_(Z,ae.props.children),ge.return=te,te=ge;break e}}else if(Z.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===L&&jo(je)===Z.type){u(te,Z.sibling),ge=_(Z,ae.props),Fa(ge,ae),ge.return=te,te=ge;break e}u(te,Z);break}else s(te,Z);Z=Z.sibling}ae.type===R?(ge=Uo(ae.props.children,te.mode,ge,ae.key),ge.return=te,te=ge):(ge=vu(ae.type,ae.key,ae.props,null,te.mode,ge),Fa(ge,ae),ge.return=te,te=ge)}return I(te);case E:e:{for(je=ae.key;Z!==null;){if(Z.key===je)if(Z.tag===4&&Z.stateNode.containerInfo===ae.containerInfo&&Z.stateNode.implementation===ae.implementation){u(te,Z.sibling),ge=_(Z,ae.children||[]),ge.return=te,te=ge;break e}else{u(te,Z);break}else s(te,Z);Z=Z.sibling}ge=ih(ae,te.mode,ge),ge.return=te,te=ge}return I(te);case L:return ae=jo(ae),Dt(te,Z,ae,ge)}if(W(ae))return Oe(te,Z,ae,ge);if(K(ae)){if(je=K(ae),typeof je!="function")throw Error(r(150));return ae=je.call(ae),Fe(te,Z,ae,ge)}if(typeof ae.then=="function")return Dt(te,Z,Tu(ae),ge);if(ae.$$typeof===A)return Dt(te,Z,xu(te,ae),ge);ku(te,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Z!==null&&Z.tag===6?(u(te,Z.sibling),ge=_(Z,ae),ge.return=te,te=ge):(u(te,Z),ge=rh(ae,te.mode,ge),ge.return=te,te=ge),I(te)):u(te,Z)}return function(te,Z,ae,ge){try{Ba=0;var je=Dt(te,Z,ae,ge);return As=null,je}catch($e){if($e===Cs||$e===wu)throw $e;var yt=dr(29,$e,null,te.mode);return yt.lanes=ge,yt.return=te,yt}finally{}}}var Bo=Qy(!0),Wy=Qy(!1),Ki=!1;function gh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Yi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xi(i,s,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(St&2)!==0){var _=h.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),h.pending=s,s=yu(i),Oy(i,null,u),s}return gu(i,h,s,u),yu(i)}function Ga(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,No(i,u)}}function vh(i,s){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var _=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var I={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?_=S=I:S=S.next=I,u=u.next}while(u!==null);S===null?_=S=s:S=S.next=s}else _=S=s;u={baseState:h.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:h.shared,callbacks:h.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}var _h=!1;function Ja(){if(_h){var i=ks;if(i!==null)throw i}}function Za(i,s,u,h){_h=!1;var _=i.updateQueue;Ki=!1;var S=_.firstBaseUpdate,I=_.lastBaseUpdate,U=_.shared.pending;if(U!==null){_.shared.pending=null;var F=U,le=F.next;F.next=null,I===null?S=le:I.next=le,I=F;var he=i.alternate;he!==null&&(he=he.updateQueue,U=he.lastBaseUpdate,U!==I&&(U===null?he.firstBaseUpdate=le:U.next=le,he.lastBaseUpdate=F))}if(S!==null){var ve=_.baseState;I=0,he=le=F=null,U=S;do{var ue=U.lane&-536870913,de=ue!==U.lane;if(de?(dt&ue)===ue:(h&ue)===ue){ue!==0&&ue===Ts&&(_h=!0),he!==null&&(he=he.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var Oe=i,Fe=U;ue=s;var Dt=u;switch(Fe.tag){case 1:if(Oe=Fe.payload,typeof Oe=="function"){ve=Oe.call(Dt,ve,ue);break e}ve=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Fe.payload,ue=typeof Oe=="function"?Oe.call(Dt,ve,ue):Oe,ue==null)break e;ve=g({},ve,ue);break e;case 2:Ki=!0}}ue=U.callback,ue!==null&&(i.flags|=64,de&&(i.flags|=8192),de=_.callbacks,de===null?_.callbacks=[ue]:de.push(ue))}else de={lane:ue,tag:U.tag,payload:U.payload,callback:U.callback,next:null},he===null?(le=he=de,F=ve):he=he.next=de,I|=ue;if(U=U.next,U===null){if(U=_.shared.pending,U===null)break;de=U,U=de.next,de.next=null,_.lastBaseUpdate=de,_.shared.pending=null}}while(!0);he===null&&(F=ve),_.baseState=F,_.firstBaseUpdate=le,_.lastBaseUpdate=he,S===null&&(_.shared.lanes=0),no|=I,i.lanes=I,i.memoizedState=ve}}function ev(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function tv(i,s){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)ev(u[i],s)}var Ns=z(null),Cu=z(0);function nv(i,s){i=Ni,D(Cu,i),D(Ns,s),Ni=i|s.baseLanes}function bh(){D(Cu,Ni),D(Ns,Ns.current)}function xh(){Ni=Cu.current,B(Ns),B(Cu)}var fr=z(null),Nr=null;function Qi(i){var s=i.alternate;D(rn,rn.current&1),D(fr,i),Nr===null&&(s===null||Ns.current!==null||s.memoizedState!==null)&&(Nr=i)}function Sh(i){D(rn,rn.current),D(fr,i),Nr===null&&(Nr=i)}function rv(i){i.tag===22?(D(rn,rn.current),D(fr,i),Nr===null&&(Nr=i)):Wi()}function Wi(){D(rn,rn.current),D(fr,fr.current)}function hr(i){B(fr),Nr===i&&(Nr=null),B(rn)}var rn=z(0);function Au(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Ap(u)||Np(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var xi=0,We=null,Mt=null,un=null,Nu=!1,Rs=!1,Fo=!1,Ru=0,Ka=0,Is=null,_N=0;function Wt(){throw Error(r(321))}function wh(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!cr(i[u],s[u]))return!1;return!0}function Eh(i,s,u,h,_,S){return xi=S,We=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,G.H=i===null||i.memoizedState===null?qv:Lh,Fo=!1,S=u(h,_),Fo=!1,Rs&&(S=ov(s,u,h,_)),iv(i),S}function iv(i){G.H=Qa;var s=Mt!==null&&Mt.next!==null;if(xi=0,un=Mt=We=null,Nu=!1,Ka=0,Is=null,s)throw Error(r(300));i===null||cn||(i=i.dependencies,i!==null&&bu(i)&&(cn=!0))}function ov(i,s,u,h){We=i;var _=0;do{if(Rs&&(Is=null),Ka=0,Rs=!1,25<=_)throw Error(r(301));if(_+=1,un=Mt=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}G.H=Vv,S=s(u,h)}while(Rs);return S}function bN(){var i=G.H,s=i.useState()[0];return s=typeof s.then=="function"?Ya(s):s,i=i.useState()[0],(Mt!==null?Mt.memoizedState:null)!==i&&(We.flags|=1024),s}function Th(){var i=Ru!==0;return Ru=0,i}function kh(i,s,u){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~u}function Ch(i){if(Nu){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Nu=!1}xi=0,un=Mt=We=null,Rs=!1,Ka=Ru=0,Is=null}function Bn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?We.memoizedState=un=i:un=un.next=i,un}function on(){if(Mt===null){var i=We.alternate;i=i!==null?i.memoizedState:null}else i=Mt.next;var s=un===null?We.memoizedState:un.next;if(s!==null)un=s,Mt=i;else{if(i===null)throw We.alternate===null?Error(r(467)):Error(r(310));Mt=i,i={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},un===null?We.memoizedState=un=i:un=un.next=i}return un}function Iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ya(i){var s=Ka;return Ka+=1,Is===null&&(Is=[]),i=Ky(Is,i,s),s=We,(un===null?s.memoizedState:un.next)===null&&(s=s.alternate,G.H=s===null||s.memoizedState===null?qv:Lh),i}function Mu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ya(i);if(i.$$typeof===A)return Nn(i)}throw Error(r(438,String(i)))}function Ah(i){var s=null,u=We.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var h=We.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(_){return _.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Iu(),We.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(i),h=0;h<i;h++)u[h]=q;return s.index++,u}function Si(i,s){return typeof s=="function"?s(i):s}function Pu(i){var s=on();return Nh(s,Mt,i)}function Nh(i,s,u){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var _=i.baseQueue,S=h.pending;if(S!==null){if(_!==null){var I=_.next;_.next=S.next,S.next=I}s.baseQueue=_=S,h.pending=null}if(S=i.baseState,_===null)i.memoizedState=S;else{s=_.next;var U=I=null,F=null,le=s,he=!1;do{var ve=le.lane&-536870913;if(ve!==le.lane?(dt&ve)===ve:(xi&ve)===ve){var ue=le.revertLane;if(ue===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),ve===Ts&&(he=!0);else if((xi&ue)===ue){le=le.next,ue===Ts&&(he=!0);continue}else ve={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},F===null?(U=F=ve,I=S):F=F.next=ve,We.lanes|=ue,no|=ue;ve=le.action,Fo&&u(S,ve),S=le.hasEagerState?le.eagerState:u(S,ve)}else ue={lane:ve,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},F===null?(U=F=ue,I=S):F=F.next=ue,We.lanes|=ve,no|=ve;le=le.next}while(le!==null&&le!==s);if(F===null?I=S:F.next=U,!cr(S,i.memoizedState)&&(cn=!0,he&&(u=ks,u!==null)))throw u;i.memoizedState=S,i.baseState=I,i.baseQueue=F,h.lastRenderedState=S}return _===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Rh(i){var s=on(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=u.dispatch,_=u.pending,S=s.memoizedState;if(_!==null){u.pending=null;var I=_=_.next;do S=i(S,I.action),I=I.next;while(I!==_);cr(S,s.memoizedState)||(cn=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),u.lastRenderedState=S}return[S,h]}function sv(i,s,u){var h=We,_=on(),S=pt;if(S){if(u===void 0)throw Error(r(407));u=u()}else u=s();var I=!cr((Mt||_).memoizedState,u);if(I&&(_.memoizedState=u,cn=!0),_=_.queue,Ph(uv.bind(null,h,_,i),[i]),_.getSnapshot!==s||I||un!==null&&un.memoizedState.tag&1){if(h.flags|=2048,Ms(9,{destroy:void 0},lv.bind(null,h,_,u,s),null),Ot===null)throw Error(r(349));S||(xi&127)!==0||av(h,s,u)}return u}function av(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=We.updateQueue,s===null?(s=Iu(),We.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function lv(i,s,u,h){s.value=u,s.getSnapshot=h,cv(s)&&dv(i)}function uv(i,s,u){return u(function(){cv(s)&&dv(i)})}function cv(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!cr(i,u)}catch{return!0}}function dv(i){var s=Oo(i,2);s!==null&&nr(s,i,2)}function Ih(i){var s=Bn();if(typeof i=="function"){var u=i;if(i=u(),Fo){Ze(!0);try{u()}finally{Ze(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:i},s}function fv(i,s,u,h){return i.baseState=u,Nh(i,Mt,typeof h=="function"?h:Si)}function xN(i,s,u,h,_){if(Ou(i))throw Error(r(485));if(i=s.action,i!==null){var S={payload:_,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){S.listeners.push(I)}};G.T!==null?u(!0):S.isTransition=!1,h(S),u=s.pending,u===null?(S.next=s.pending=S,hv(s,S)):(S.next=u.next,s.pending=u.next=S)}}function hv(i,s){var u=s.action,h=s.payload,_=i.state;if(s.isTransition){var S=G.T,I={};G.T=I;try{var U=u(_,h),F=G.S;F!==null&&F(I,U),pv(i,s,U)}catch(le){Mh(i,s,le)}finally{S!==null&&I.types!==null&&(S.types=I.types),G.T=S}}else try{S=u(_,h),pv(i,s,S)}catch(le){Mh(i,s,le)}}function pv(i,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){mv(i,s,h)},function(h){return Mh(i,s,h)}):mv(i,s,u)}function mv(i,s,u){s.status="fulfilled",s.value=u,gv(s),i.state=u,s=i.pending,s!==null&&(u=s.next,u===s?i.pending=null:(u=u.next,s.next=u,hv(i,u)))}function Mh(i,s,u){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=u,gv(s),s=s.next;while(s!==h)}i.action=null}function gv(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function yv(i,s){return s}function vv(i,s){if(pt){var u=Ot.formState;if(u!==null){e:{var h=We;if(pt){if(qt){t:{for(var _=qt,S=Ar;_.nodeType!==8;){if(!S){_=null;break t}if(_=Rr(_.nextSibling),_===null){_=null;break t}}S=_.data,_=S==="F!"||S==="F"?_:null}if(_){qt=Rr(_.nextSibling),h=_.data==="F!";break e}}Ji(h)}h=!1}h&&(s=u[0])}}return u=Bn(),u.memoizedState=u.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yv,lastRenderedState:s},u.queue=h,u=Uv.bind(null,We,h),h.dispatch=u,h=Ih(!1),S=$h.bind(null,We,!1,h.queue),h=Bn(),_={state:s,dispatch:null,action:i,pending:null},h.queue=_,u=xN.bind(null,We,_,S,u),_.dispatch=u,h.memoizedState=i,[s,u,!1]}function _v(i){var s=on();return bv(s,Mt,i)}function bv(i,s,u){if(s=Nh(i,s,yv)[0],i=Pu(Si)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Ya(s)}catch(I){throw I===Cs?wu:I}else h=s;s=on();var _=s.queue,S=_.dispatch;return u!==s.memoizedState&&(We.flags|=2048,Ms(9,{destroy:void 0},SN.bind(null,_,u),null)),[h,S,i]}function SN(i,s){i.action=s}function xv(i){var s=on(),u=Mt;if(u!==null)return bv(s,u,i);on(),s=s.memoizedState,u=on();var h=u.queue.dispatch;return u.memoizedState=i,[s,h,!1]}function Ms(i,s,u,h){return i={tag:i,create:u,deps:h,inst:s,next:null},s=We.updateQueue,s===null&&(s=Iu(),We.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,s.lastEffect=i),i}function Sv(){return on().memoizedState}function Du(i,s,u,h){var _=Bn();We.flags|=i,_.memoizedState=Ms(1|s,{destroy:void 0},u,h===void 0?null:h)}function zu(i,s,u,h){var _=on();h=h===void 0?null:h;var S=_.memoizedState.inst;Mt!==null&&h!==null&&wh(h,Mt.memoizedState.deps)?_.memoizedState=Ms(s,S,u,h):(We.flags|=i,_.memoizedState=Ms(1|s,S,u,h))}function wv(i,s){Du(8390656,8,i,s)}function Ph(i,s){zu(2048,8,i,s)}function wN(i){We.flags|=4;var s=We.updateQueue;if(s===null)s=Iu(),We.updateQueue=s,s.events=[i];else{var u=s.events;u===null?s.events=[i]:u.push(i)}}function Ev(i){var s=on().memoizedState;return wN({ref:s,nextImpl:i}),function(){if((St&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Tv(i,s){return zu(4,2,i,s)}function kv(i,s){return zu(4,4,i,s)}function Cv(i,s){if(typeof s=="function"){i=i();var u=s(i);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Av(i,s,u){u=u!=null?u.concat([i]):null,zu(4,4,Cv.bind(null,s,i),u)}function Dh(){}function Nv(i,s){var u=on();s=s===void 0?null:s;var h=u.memoizedState;return s!==null&&wh(s,h[1])?h[0]:(u.memoizedState=[i,s],i)}function Rv(i,s){var u=on();s=s===void 0?null:s;var h=u.memoizedState;if(s!==null&&wh(s,h[1]))return h[0];if(h=i(),Fo){Ze(!0);try{i()}finally{Ze(!1)}}return u.memoizedState=[h,s],h}function zh(i,s,u){return u===void 0||(xi&1073741824)!==0&&(dt&261930)===0?i.memoizedState=s:(i.memoizedState=u,i=I_(),We.lanes|=i,no|=i,u)}function Iv(i,s,u,h){return cr(u,s)?u:Ns.current!==null?(i=zh(i,u,h),cr(i,s)||(cn=!0),i):(xi&42)===0||(xi&1073741824)!==0&&(dt&261930)===0?(cn=!0,i.memoizedState=u):(i=I_(),We.lanes|=i,no|=i,s)}function Mv(i,s,u,h,_){var S=ce.p;ce.p=S!==0&&8>S?S:8;var I=G.T,U={};G.T=U,$h(i,!1,s,u);try{var F=_(),le=G.S;if(le!==null&&le(U,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var he=vN(F,h);Xa(i,s,he,gr(i))}else Xa(i,s,h,gr(i))}catch(ve){Xa(i,s,{then:function(){},status:"rejected",reason:ve},gr())}finally{ce.p=S,I!==null&&U.types!==null&&(I.types=U.types),G.T=I}}function EN(){}function Oh(i,s,u,h){if(i.tag!==5)throw Error(r(476));var _=Pv(i).queue;Mv(i,_,s,_e,u===null?EN:function(){return Dv(i),u(h)})}function Pv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:_e},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:u},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Dv(i){var s=Pv(i);s.next===null&&(s=i.alternate.memoizedState),Xa(i,s.next.queue,{},gr())}function Uh(){return Nn(pl)}function zv(){return on().memoizedState}function Ov(){return on().memoizedState}function TN(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var u=gr();i=Yi(u);var h=Xi(s,i,u);h!==null&&(nr(h,s,u),Ga(h,s,u)),s={cache:fh()},i.payload=s;return}s=s.return}}function kN(i,s,u){var h=gr();u={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ou(i)?$v(s,u):(u=th(i,s,u,h),u!==null&&(nr(u,i,h),Lv(u,s,h)))}function Uv(i,s,u){var h=gr();Xa(i,s,u,h)}function Xa(i,s,u,h){var _={lane:h,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ou(i))$v(s,_);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var I=s.lastRenderedState,U=S(I,u);if(_.hasEagerState=!0,_.eagerState=U,cr(U,I))return gu(i,s,_,0),Ot===null&&mu(),!1}catch{}finally{}if(u=th(i,s,_,h),u!==null)return nr(u,i,h),Lv(u,s,h),!0}return!1}function $h(i,s,u,h){if(h={lane:2,revertLane:gp(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Ou(i)){if(s)throw Error(r(479))}else s=th(i,u,h,2),s!==null&&nr(s,i,2)}function Ou(i){var s=i.alternate;return i===We||s!==null&&s===We}function $v(i,s){Rs=Nu=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Lv(i,s,u){if((u&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,No(i,u)}}var Qa={readContext:Nn,use:Mu,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt};Qa.useEffectEvent=Wt;var qv={readContext:Nn,use:Mu,useCallback:function(i,s){return Bn().memoizedState=[i,s===void 0?null:s],i},useContext:Nn,useEffect:wv,useImperativeHandle:function(i,s,u){u=u!=null?u.concat([i]):null,Du(4194308,4,Cv.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Du(4194308,4,i,s)},useInsertionEffect:function(i,s){Du(4,2,i,s)},useMemo:function(i,s){var u=Bn();s=s===void 0?null:s;var h=i();if(Fo){Ze(!0);try{i()}finally{Ze(!1)}}return u.memoizedState=[h,s],h},useReducer:function(i,s,u){var h=Bn();if(u!==void 0){var _=u(s);if(Fo){Ze(!0);try{u(s)}finally{Ze(!1)}}}else _=s;return h.memoizedState=h.baseState=_,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:_},h.queue=i,i=i.dispatch=kN.bind(null,We,i),[h.memoizedState,i]},useRef:function(i){var s=Bn();return i={current:i},s.memoizedState=i},useState:function(i){i=Ih(i);var s=i.queue,u=Uv.bind(null,We,s);return s.dispatch=u,[i.memoizedState,u]},useDebugValue:Dh,useDeferredValue:function(i,s){var u=Bn();return zh(u,i,s)},useTransition:function(){var i=Ih(!1);return i=Mv.bind(null,We,i.queue,!0,!1),Bn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,u){var h=We,_=Bn();if(pt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),Ot===null)throw Error(r(349));(dt&127)!==0||av(h,s,u)}_.memoizedState=u;var S={value:u,getSnapshot:s};return _.queue=S,wv(uv.bind(null,h,S,i),[i]),h.flags|=2048,Ms(9,{destroy:void 0},lv.bind(null,h,S,u,s),null),u},useId:function(){var i=Bn(),s=Ot.identifierPrefix;if(pt){var u=ni,h=ti;u=(h&~(1<<32-De(h)-1)).toString(32)+u,s="_"+s+"R_"+u,u=Ru++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=_N++,s="_"+s+"r_"+u.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Uh,useFormState:vv,useActionState:vv,useOptimistic:function(i){var s=Bn();s.memoizedState=s.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=$h.bind(null,We,!0,u),u.dispatch=s,[i,s]},useMemoCache:Ah,useCacheRefresh:function(){return Bn().memoizedState=TN.bind(null,We)},useEffectEvent:function(i){var s=Bn(),u={impl:i};return s.memoizedState=u,function(){if((St&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Lh={readContext:Nn,use:Mu,useCallback:Nv,useContext:Nn,useEffect:Ph,useImperativeHandle:Av,useInsertionEffect:Tv,useLayoutEffect:kv,useMemo:Rv,useReducer:Pu,useRef:Sv,useState:function(){return Pu(Si)},useDebugValue:Dh,useDeferredValue:function(i,s){var u=on();return Iv(u,Mt.memoizedState,i,s)},useTransition:function(){var i=Pu(Si)[0],s=on().memoizedState;return[typeof i=="boolean"?i:Ya(i),s]},useSyncExternalStore:sv,useId:zv,useHostTransitionStatus:Uh,useFormState:_v,useActionState:_v,useOptimistic:function(i,s){var u=on();return fv(u,Mt,i,s)},useMemoCache:Ah,useCacheRefresh:Ov};Lh.useEffectEvent=Ev;var Vv={readContext:Nn,use:Mu,useCallback:Nv,useContext:Nn,useEffect:Ph,useImperativeHandle:Av,useInsertionEffect:Tv,useLayoutEffect:kv,useMemo:Rv,useReducer:Rh,useRef:Sv,useState:function(){return Rh(Si)},useDebugValue:Dh,useDeferredValue:function(i,s){var u=on();return Mt===null?zh(u,i,s):Iv(u,Mt.memoizedState,i,s)},useTransition:function(){var i=Rh(Si)[0],s=on().memoizedState;return[typeof i=="boolean"?i:Ya(i),s]},useSyncExternalStore:sv,useId:zv,useHostTransitionStatus:Uh,useFormState:xv,useActionState:xv,useOptimistic:function(i,s){var u=on();return Mt!==null?fv(u,Mt,i,s):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Ah,useCacheRefresh:Ov};Vv.useEffectEvent=Ev;function qh(i,s,u,h){s=i.memoizedState,u=u(h,s),u=u==null?s:g({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Vh={enqueueSetState:function(i,s,u){i=i._reactInternals;var h=gr(),_=Yi(h);_.payload=s,u!=null&&(_.callback=u),s=Xi(i,_,h),s!==null&&(nr(s,i,h),Ga(s,i,h))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var h=gr(),_=Yi(h);_.tag=1,_.payload=s,u!=null&&(_.callback=u),s=Xi(i,_,h),s!==null&&(nr(s,i,h),Ga(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=gr(),h=Yi(u);h.tag=2,s!=null&&(h.callback=s),s=Xi(i,h,u),s!==null&&(nr(s,i,u),Ga(s,i,u))}};function jv(i,s,u,h,_,S,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,S,I):s.prototype&&s.prototype.isPureReactComponent?!$a(u,h)||!$a(_,S):!0}function Hv(i,s,u,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==i&&Vh.enqueueReplaceState(s,s.state,null)}function Go(i,s){var u=s;if("ref"in s){u={};for(var h in s)h!=="ref"&&(u[h]=s[h])}if(i=i.defaultProps){u===s&&(u=g({},u));for(var _ in i)u[_]===void 0&&(u[_]=i[_])}return u}function Bv(i){pu(i)}function Fv(i){console.error(i)}function Gv(i){pu(i)}function Uu(i,s){try{var u=i.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function Jv(i,s,u){try{var h=i.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function jh(i,s,u){return u=Yi(u),u.tag=3,u.payload={element:null},u.callback=function(){Uu(i,s)},u}function Zv(i){return i=Yi(i),i.tag=3,i}function Kv(i,s,u,h){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var S=h.value;i.payload=function(){return _(S)},i.callback=function(){Jv(s,u,h)}}var I=u.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(i.callback=function(){Jv(s,u,h),typeof _!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var U=h.stack;this.componentDidCatch(h.value,{componentStack:U!==null?U:""})})}function CN(i,s,u,h,_){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=u.alternate,s!==null&&Es(s,u,_,!0),u=fr.current,u!==null){switch(u.tag){case 31:case 13:return Nr===null?Ku():u.alternate===null&&en===0&&(en=3),u.flags&=-257,u.flags|=65536,u.lanes=_,h===Eu?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([h]):s.add(h),hp(i,h,_)),!1;case 22:return u.flags|=65536,h===Eu?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([h]):u.add(h)),hp(i,h,_)),!1}throw Error(r(435,u.tag))}return hp(i,h,_),Ku(),!1}if(pt)return s=fr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=_,h!==ah&&(i=Error(r(422),{cause:h}),Va(Tr(i,u)))):(h!==ah&&(s=Error(r(423),{cause:h}),Va(Tr(s,u))),i=i.current.alternate,i.flags|=65536,_&=-_,i.lanes|=_,h=Tr(h,u),_=jh(i.stateNode,h,_),vh(i,_),en!==4&&(en=2)),!1;var S=Error(r(520),{cause:h});if(S=Tr(S,u),sl===null?sl=[S]:sl.push(S),en!==4&&(en=2),s===null)return!0;h=Tr(h,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,i=_&-_,u.lanes|=i,i=jh(u.stateNode,h,i),vh(u,i),!1;case 1:if(s=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ro===null||!ro.has(S))))return u.flags|=65536,_&=-_,u.lanes|=_,_=Zv(_),Kv(_,i,u,h),vh(u,_),!1}u=u.return}while(u!==null);return!1}var Hh=Error(r(461)),cn=!1;function Rn(i,s,u,h){s.child=i===null?Wy(s,null,u,h):Bo(s,i.child,u,h)}function Yv(i,s,u,h,_){u=u.render;var S=s.ref;if("ref"in h){var I={};for(var U in h)U!=="ref"&&(I[U]=h[U])}else I=h;return qo(s),h=Eh(i,s,u,I,S,_),U=Th(),i!==null&&!cn?(kh(i,s,_),wi(i,s,_)):(pt&&U&&oh(s),s.flags|=1,Rn(i,s,h,_),s.child)}function Xv(i,s,u,h,_){if(i===null){var S=u.type;return typeof S=="function"&&!nh(S)&&S.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=S,Qv(i,s,S,h,_)):(i=vu(u.type,null,h,s,s.mode,_),i.ref=s.ref,i.return=s,s.child=i)}if(S=i.child,!Xh(i,_)){var I=S.memoizedProps;if(u=u.compare,u=u!==null?u:$a,u(I,h)&&i.ref===s.ref)return wi(i,s,_)}return s.flags|=1,i=yi(S,h),i.ref=s.ref,i.return=s,s.child=i}function Qv(i,s,u,h,_){if(i!==null){var S=i.memoizedProps;if($a(S,h)&&i.ref===s.ref)if(cn=!1,s.pendingProps=h=S,Xh(i,_))(i.flags&131072)!==0&&(cn=!0);else return s.lanes=i.lanes,wi(i,s,_)}return Bh(i,s,u,h,_)}function Wv(i,s,u,h){var _=h.children,S=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(S=S!==null?S.baseLanes|u:u,i!==null){for(h=s.child=i.child,_=0;h!==null;)_=_|h.lanes|h.childLanes,h=h.sibling;h=_&~S}else h=0,s.child=null;return e_(i,s,S,u,h)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Su(s,S!==null?S.cachePool:null),S!==null?nv(s,S):bh(),rv(s);else return h=s.lanes=536870912,e_(i,s,S!==null?S.baseLanes|u:u,u,h)}else S!==null?(Su(s,S.cachePool),nv(s,S),Wi(),s.memoizedState=null):(i!==null&&Su(s,null),bh(),Wi());return Rn(i,s,_,u),s.child}function Wa(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function e_(i,s,u,h,_){var S=ph();return S=S===null?null:{parent:ln._currentValue,pool:S},s.memoizedState={baseLanes:u,cachePool:S},i!==null&&Su(s,null),bh(),rv(s),i!==null&&Es(i,s,h,!0),s.childLanes=_,null}function $u(i,s){return s=qu({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function t_(i,s,u){return Bo(s,i.child,null,u),i=$u(s,s.pendingProps),i.flags|=2,hr(s),s.memoizedState=null,i}function AN(i,s,u){var h=s.pendingProps,_=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(pt){if(h.mode==="hidden")return i=$u(s,h),s.lanes=536870912,Wa(null,i);if(Sh(s),(i=qt)?(i=hb(i,Ar),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Fi!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},u=$y(i),u.return=s,s.child=u,An=s,qt=null)):i=null,i===null)throw Ji(s);return s.lanes=536870912,null}return $u(s,h)}var S=i.memoizedState;if(S!==null){var I=S.dehydrated;if(Sh(s),_)if(s.flags&256)s.flags&=-257,s=t_(i,s,u);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(cn||Es(i,s,u,!1),_=(u&i.childLanes)!==0,cn||_){if(h=Ot,h!==null&&(I=Yn(h,u),I!==0&&I!==S.retryLane))throw S.retryLane=I,Oo(i,I),nr(h,i,I),Hh;Ku(),s=t_(i,s,u)}else i=S.treeContext,qt=Rr(I.nextSibling),An=s,pt=!0,Gi=null,Ar=!1,i!==null&&Vy(s,i),s=$u(s,h),s.flags|=4096;return s}return i=yi(i.child,{mode:h.mode,children:h.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Lu(i,s){var u=s.ref;if(u===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(s.flags|=4194816)}}function Bh(i,s,u,h,_){return qo(s),u=Eh(i,s,u,h,void 0,_),h=Th(),i!==null&&!cn?(kh(i,s,_),wi(i,s,_)):(pt&&h&&oh(s),s.flags|=1,Rn(i,s,u,_),s.child)}function n_(i,s,u,h,_,S){return qo(s),s.updateQueue=null,u=ov(s,h,u,_),iv(i),h=Th(),i!==null&&!cn?(kh(i,s,S),wi(i,s,S)):(pt&&h&&oh(s),s.flags|=1,Rn(i,s,u,S),s.child)}function r_(i,s,u,h,_){if(qo(s),s.stateNode===null){var S=bs,I=u.contextType;typeof I=="object"&&I!==null&&(S=Nn(I)),S=new u(h,S),s.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Vh,s.stateNode=S,S._reactInternals=s,S=s.stateNode,S.props=h,S.state=s.memoizedState,S.refs={},gh(s),I=u.contextType,S.context=typeof I=="object"&&I!==null?Nn(I):bs,S.state=s.memoizedState,I=u.getDerivedStateFromProps,typeof I=="function"&&(qh(s,u,I,h),S.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(I=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),I!==S.state&&Vh.enqueueReplaceState(S,S.state,null),Za(s,h,S,_),Ja(),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){S=s.stateNode;var U=s.memoizedProps,F=Go(u,U);S.props=F;var le=S.context,he=u.contextType;I=bs,typeof he=="object"&&he!==null&&(I=Nn(he));var ve=u.getDerivedStateFromProps;he=typeof ve=="function"||typeof S.getSnapshotBeforeUpdate=="function",U=s.pendingProps!==U,he||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(U||le!==I)&&Hv(s,S,h,I),Ki=!1;var ue=s.memoizedState;S.state=ue,Za(s,h,S,_),Ja(),le=s.memoizedState,U||ue!==le||Ki?(typeof ve=="function"&&(qh(s,u,ve,h),le=s.memoizedState),(F=Ki||jv(s,u,F,h,ue,le,I))?(he||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=le),S.props=h,S.state=le,S.context=I,h=F):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{S=s.stateNode,yh(i,s),I=s.memoizedProps,he=Go(u,I),S.props=he,ve=s.pendingProps,ue=S.context,le=u.contextType,F=bs,typeof le=="object"&&le!==null&&(F=Nn(le)),U=u.getDerivedStateFromProps,(le=typeof U=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I!==ve||ue!==F)&&Hv(s,S,h,F),Ki=!1,ue=s.memoizedState,S.state=ue,Za(s,h,S,_),Ja();var de=s.memoizedState;I!==ve||ue!==de||Ki||i!==null&&i.dependencies!==null&&bu(i.dependencies)?(typeof U=="function"&&(qh(s,u,U,h),de=s.memoizedState),(he=Ki||jv(s,u,he,h,ue,de,F)||i!==null&&i.dependencies!==null&&bu(i.dependencies))?(le||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,de,F),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,de,F)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||I===i.memoizedProps&&ue===i.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&ue===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=de),S.props=h,S.state=de,S.context=F,h=he):(typeof S.componentDidUpdate!="function"||I===i.memoizedProps&&ue===i.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===i.memoizedProps&&ue===i.memoizedState||(s.flags|=1024),h=!1)}return S=h,Lu(i,s),h=(s.flags&128)!==0,S||h?(S=s.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:S.render(),s.flags|=1,i!==null&&h?(s.child=Bo(s,i.child,null,_),s.child=Bo(s,null,u,_)):Rn(i,s,u,_),s.memoizedState=S.state,i=s.child):i=wi(i,s,_),i}function i_(i,s,u,h){return $o(),s.flags|=256,Rn(i,s,u,h),s.child}var Fh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gh(i){return{baseLanes:i,cachePool:Jy()}}function Jh(i,s,u){return i=i!==null?i.childLanes&~u:0,s&&(i|=mr),i}function o_(i,s,u){var h=s.pendingProps,_=!1,S=(s.flags&128)!==0,I;if((I=S)||(I=i!==null&&i.memoizedState===null?!1:(rn.current&2)!==0),I&&(_=!0,s.flags&=-129),I=(s.flags&32)!==0,s.flags&=-33,i===null){if(pt){if(_?Qi(s):Wi(),(i=qt)?(i=hb(i,Ar),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Fi!==null?{id:ti,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},u=$y(i),u.return=s,s.child=u,An=s,qt=null)):i=null,i===null)throw Ji(s);return Np(i)?s.lanes=32:s.lanes=536870912,null}var U=h.children;return h=h.fallback,_?(Wi(),_=s.mode,U=qu({mode:"hidden",children:U},_),h=Uo(h,_,u,null),U.return=s,h.return=s,U.sibling=h,s.child=U,h=s.child,h.memoizedState=Gh(u),h.childLanes=Jh(i,I,u),s.memoizedState=Fh,Wa(null,h)):(Qi(s),Zh(s,U))}var F=i.memoizedState;if(F!==null&&(U=F.dehydrated,U!==null)){if(S)s.flags&256?(Qi(s),s.flags&=-257,s=Kh(i,s,u)):s.memoizedState!==null?(Wi(),s.child=i.child,s.flags|=128,s=null):(Wi(),U=h.fallback,_=s.mode,h=qu({mode:"visible",children:h.children},_),U=Uo(U,_,u,null),U.flags|=2,h.return=s,U.return=s,h.sibling=U,s.child=h,Bo(s,i.child,null,u),h=s.child,h.memoizedState=Gh(u),h.childLanes=Jh(i,I,u),s.memoizedState=Fh,s=Wa(null,h));else if(Qi(s),Np(U)){if(I=U.nextSibling&&U.nextSibling.dataset,I)var le=I.dgst;I=le,h=Error(r(419)),h.stack="",h.digest=I,Va({value:h,source:null,stack:null}),s=Kh(i,s,u)}else if(cn||Es(i,s,u,!1),I=(u&i.childLanes)!==0,cn||I){if(I=Ot,I!==null&&(h=Yn(I,u),h!==0&&h!==F.retryLane))throw F.retryLane=h,Oo(i,h),nr(I,i,h),Hh;Ap(U)||Ku(),s=Kh(i,s,u)}else Ap(U)?(s.flags|=192,s.child=i.child,s=null):(i=F.treeContext,qt=Rr(U.nextSibling),An=s,pt=!0,Gi=null,Ar=!1,i!==null&&Vy(s,i),s=Zh(s,h.children),s.flags|=4096);return s}return _?(Wi(),U=h.fallback,_=s.mode,F=i.child,le=F.sibling,h=yi(F,{mode:"hidden",children:h.children}),h.subtreeFlags=F.subtreeFlags&65011712,le!==null?U=yi(le,U):(U=Uo(U,_,u,null),U.flags|=2),U.return=s,h.return=s,h.sibling=U,s.child=h,Wa(null,h),h=s.child,U=i.child.memoizedState,U===null?U=Gh(u):(_=U.cachePool,_!==null?(F=ln._currentValue,_=_.parent!==F?{parent:F,pool:F}:_):_=Jy(),U={baseLanes:U.baseLanes|u,cachePool:_}),h.memoizedState=U,h.childLanes=Jh(i,I,u),s.memoizedState=Fh,Wa(i.child,h)):(Qi(s),u=i.child,i=u.sibling,u=yi(u,{mode:"visible",children:h.children}),u.return=s,u.sibling=null,i!==null&&(I=s.deletions,I===null?(s.deletions=[i],s.flags|=16):I.push(i)),s.child=u,s.memoizedState=null,u)}function Zh(i,s){return s=qu({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function qu(i,s){return i=dr(22,i,null,s),i.lanes=0,i}function Kh(i,s,u){return Bo(s,i.child,null,u),i=Zh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function s_(i,s,u){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),ch(i.return,s,u)}function Yh(i,s,u,h,_,S){var I=i.memoizedState;I===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:_,treeForkCount:S}:(I.isBackwards=s,I.rendering=null,I.renderingStartTime=0,I.last=h,I.tail=u,I.tailMode=_,I.treeForkCount=S)}function a_(i,s,u){var h=s.pendingProps,_=h.revealOrder,S=h.tail;h=h.children;var I=rn.current,U=(I&2)!==0;if(U?(I=I&1|2,s.flags|=128):I&=1,D(rn,I),Rn(i,s,h,u),h=pt?qa:0,!U&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&s_(i,u,s);else if(i.tag===19)s_(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(_){case"forwards":for(u=s.child,_=null;u!==null;)i=u.alternate,i!==null&&Au(i)===null&&(_=u),u=u.sibling;u=_,u===null?(_=s.child,s.child=null):(_=u.sibling,u.sibling=null),Yh(s,!1,_,u,S,h);break;case"backwards":case"unstable_legacy-backwards":for(u=null,_=s.child,s.child=null;_!==null;){if(i=_.alternate,i!==null&&Au(i)===null){s.child=_;break}i=_.sibling,_.sibling=u,u=_,_=i}Yh(s,!0,u,null,S,h);break;case"together":Yh(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function wi(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),no|=s.lanes,(u&s.childLanes)===0)if(i!==null){if(Es(i,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=yi(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=yi(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function Xh(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&bu(i)))}function NN(i,s,u){switch(s.tag){case 3:xe(s,s.stateNode.containerInfo),Zi(s,ln,i.memoizedState.cache),$o();break;case 27:case 5:Ue(s);break;case 4:xe(s,s.stateNode.containerInfo);break;case 10:Zi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Sh(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Qi(s),s.flags|=128,null):(u&s.child.childLanes)!==0?o_(i,s,u):(Qi(s),i=wi(i,s,u),i!==null?i.sibling:null);Qi(s);break;case 19:var _=(i.flags&128)!==0;if(h=(u&s.childLanes)!==0,h||(Es(i,s,u,!1),h=(u&s.childLanes)!==0),_){if(h)return a_(i,s,u);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),D(rn,rn.current),h)break;return null;case 22:return s.lanes=0,Wv(i,s,u,s.pendingProps);case 24:Zi(s,ln,i.memoizedState.cache)}return wi(i,s,u)}function l_(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps)cn=!0;else{if(!Xh(i,u)&&(s.flags&128)===0)return cn=!1,NN(i,s,u);cn=(i.flags&131072)!==0}else cn=!1,pt&&(s.flags&1048576)!==0&&qy(s,qa,s.index);switch(s.lanes=0,s.tag){case 16:e:{var h=s.pendingProps;if(i=jo(s.elementType),s.type=i,typeof i=="function")nh(i)?(h=Go(i,h),s.tag=1,s=r_(null,s,i,h,u)):(s.tag=0,s=Bh(null,s,i,h,u));else{if(i!=null){var _=i.$$typeof;if(_===M){s.tag=11,s=Yv(null,s,i,h,u);break e}else if(_===P){s.tag=14,s=Xv(null,s,i,h,u);break e}}throw s=Q(i)||i,Error(r(306,s,""))}}return s;case 0:return Bh(i,s,s.type,s.pendingProps,u);case 1:return h=s.type,_=Go(h,s.pendingProps),r_(i,s,h,_,u);case 3:e:{if(xe(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var S=s.memoizedState;_=S.element,yh(i,s),Za(s,h,null,u);var I=s.memoizedState;if(h=I.cache,Zi(s,ln,h),h!==S.cache&&dh(s,[ln],u,!0),Ja(),h=I.element,S.isDehydrated)if(S={element:h,isDehydrated:!1,cache:I.cache},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){s=i_(i,s,h,u);break e}else if(h!==_){_=Tr(Error(r(424)),s),Va(_),s=i_(i,s,h,u);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(qt=Rr(i.firstChild),An=s,pt=!0,Gi=null,Ar=!0,u=Wy(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if($o(),h===_){s=wi(i,s,u);break e}Rn(i,s,h,u)}s=s.child}return s;case 26:return Lu(i,s),i===null?(u=_b(s.type,null,s.pendingProps,null))?s.memoizedState=u:pt||(u=s.type,i=s.pendingProps,h=nc(X.current).createElement(u),h[yn]=s,h[xn]=i,In(h,u,i),Lt(h),s.stateNode=h):s.memoizedState=_b(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ue(s),i===null&&pt&&(h=s.stateNode=gb(s.type,s.pendingProps,X.current),An=s,Ar=!0,_=qt,ao(s.type)?(Rp=_,qt=Rr(h.firstChild)):qt=_),Rn(i,s,s.pendingProps.children,u),Lu(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&pt&&((_=h=qt)&&(h=oR(h,s.type,s.pendingProps,Ar),h!==null?(s.stateNode=h,An=s,qt=Rr(h.firstChild),Ar=!1,_=!0):_=!1),_||Ji(s)),Ue(s),_=s.type,S=s.pendingProps,I=i!==null?i.memoizedProps:null,h=S.children,Tp(_,S)?h=null:I!==null&&Tp(_,I)&&(s.flags|=32),s.memoizedState!==null&&(_=Eh(i,s,bN,null,null,u),pl._currentValue=_),Lu(i,s),Rn(i,s,h,u),s.child;case 6:return i===null&&pt&&((i=u=qt)&&(u=sR(u,s.pendingProps,Ar),u!==null?(s.stateNode=u,An=s,qt=null,i=!0):i=!1),i||Ji(s)),null;case 13:return o_(i,s,u);case 4:return xe(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Bo(s,null,h,u):Rn(i,s,h,u),s.child;case 11:return Yv(i,s,s.type,s.pendingProps,u);case 7:return Rn(i,s,s.pendingProps,u),s.child;case 8:return Rn(i,s,s.pendingProps.children,u),s.child;case 12:return Rn(i,s,s.pendingProps.children,u),s.child;case 10:return h=s.pendingProps,Zi(s,s.type,h.value),Rn(i,s,h.children,u),s.child;case 9:return _=s.type._context,h=s.pendingProps.children,qo(s),_=Nn(_),h=h(_),s.flags|=1,Rn(i,s,h,u),s.child;case 14:return Xv(i,s,s.type,s.pendingProps,u);case 15:return Qv(i,s,s.type,s.pendingProps,u);case 19:return a_(i,s,u);case 31:return AN(i,s,u);case 22:return Wv(i,s,u,s.pendingProps);case 24:return qo(s),h=Nn(ln),i===null?(_=ph(),_===null&&(_=Ot,S=fh(),_.pooledCache=S,S.refCount++,S!==null&&(_.pooledCacheLanes|=u),_=S),s.memoizedState={parent:h,cache:_},gh(s),Zi(s,ln,_)):((i.lanes&u)!==0&&(yh(i,s),Za(s,null,null,u),Ja()),_=i.memoizedState,S=s.memoizedState,_.parent!==h?(_={parent:h,cache:h},s.memoizedState=_,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=_),Zi(s,ln,h)):(h=S.cache,Zi(s,ln,h),h!==_.cache&&dh(s,[ln],u,!0))),Rn(i,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ei(i){i.flags|=4}function Qh(i,s,u,h,_){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(_&335544128)===_)if(i.stateNode.complete)i.flags|=8192;else if(z_())i.flags|=8192;else throw Ho=Eu,mh}else i.flags&=-16777217}function u_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Eb(s))if(z_())i.flags|=8192;else throw Ho=Eu,mh}function Vu(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?an():536870912,i.lanes|=s,Os|=s)}function el(i,s){if(!pt)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Vt(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(s)for(var _=i.child;_!==null;)u|=_.lanes|_.childLanes,h|=_.subtreeFlags&65011712,h|=_.flags&65011712,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)u|=_.lanes|_.childLanes,h|=_.subtreeFlags,h|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=h,i.childLanes=u,s}function RN(i,s,u){var h=s.pendingProps;switch(sh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(s),null;case 1:return Vt(s),null;case 3:return u=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),bi(ln),Ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(ws(s)?Ei(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,lh())),Vt(s),null;case 26:var _=s.type,S=s.memoizedState;return i===null?(Ei(s),S!==null?(Vt(s),u_(s,S)):(Vt(s),Qh(s,_,null,h,u))):S?S!==i.memoizedState?(Ei(s),Vt(s),u_(s,S)):(Vt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==h&&Ei(s),Vt(s),Qh(s,_,i,h,u)),null;case 27:if(Y(s),u=X.current,_=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Ei(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Vt(s),null}i=O.current,ws(s)?jy(s):(i=gb(_,h,u),s.stateNode=i,Ei(s))}return Vt(s),null;case 5:if(Y(s),_=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Ei(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Vt(s),null}if(S=O.current,ws(s))jy(s);else{var I=nc(X.current);switch(S){case 1:S=I.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:S=I.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":S=I.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":S=I.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":S=I.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof h.is=="string"?I.createElement("select",{is:h.is}):I.createElement("select"),h.multiple?S.multiple=!0:h.size&&(S.size=h.size);break;default:S=typeof h.is=="string"?I.createElement(_,{is:h.is}):I.createElement(_)}}S[yn]=s,S[xn]=h;e:for(I=s.child;I!==null;){if(I.tag===5||I.tag===6)S.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===s)break e;for(;I.sibling===null;){if(I.return===null||I.return===s)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}s.stateNode=S;e:switch(In(S,_,h),_){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Ei(s)}}return Vt(s),Qh(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,u),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&Ei(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=X.current,ws(s)){if(i=s.stateNode,u=s.memoizedProps,h=null,_=An,_!==null)switch(_.tag){case 27:case 5:h=_.memoizedProps}i[yn]=s,i=!!(i.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||ob(i.nodeValue,u)),i||Ji(s,!0)}else i=nc(i).createTextNode(h),i[yn]=s,s.stateNode=i}return Vt(s),null;case 31:if(u=s.memoizedState,i===null||i.memoizedState!==null){if(h=ws(s),u!==null){if(i===null){if(!h)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[yn]=s}else $o(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Vt(s),i=!1}else u=lh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return s.flags&256?(hr(s),s):(hr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Vt(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(_=ws(s),h!==null&&h.dehydrated!==null){if(i===null){if(!_)throw Error(r(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[yn]=s}else $o(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Vt(s),_=!1}else _=lh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=_),_=!0;if(!_)return s.flags&256?(hr(s),s):(hr(s),null)}return hr(s),(s.flags&128)!==0?(s.lanes=u,s):(u=h!==null,i=i!==null&&i.memoizedState!==null,u&&(h=s.child,_=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(_=h.alternate.memoizedState.cachePool.pool),S=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),S!==_&&(h.flags|=2048)),u!==i&&u&&(s.child.flags|=8192),Vu(s,s.updateQueue),Vt(s),null);case 4:return Ce(),i===null&&bp(s.stateNode.containerInfo),Vt(s),null;case 10:return bi(s.type),Vt(s),null;case 19:if(B(rn),h=s.memoizedState,h===null)return Vt(s),null;if(_=(s.flags&128)!==0,S=h.rendering,S===null)if(_)el(h,!1);else{if(en!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(S=Au(i),S!==null){for(s.flags|=128,el(h,!1),i=S.updateQueue,s.updateQueue=i,Vu(s,i),s.subtreeFlags=0,i=u,u=s.child;u!==null;)Uy(u,i),u=u.sibling;return D(rn,rn.current&1|2),pt&&vi(s,h.treeForkCount),s.child}i=i.sibling}h.tail!==null&&Ee()>Gu&&(s.flags|=128,_=!0,el(h,!1),s.lanes=4194304)}else{if(!_)if(i=Au(S),i!==null){if(s.flags|=128,_=!0,i=i.updateQueue,s.updateQueue=i,Vu(s,i),el(h,!0),h.tail===null&&h.tailMode==="hidden"&&!S.alternate&&!pt)return Vt(s),null}else 2*Ee()-h.renderingStartTime>Gu&&u!==536870912&&(s.flags|=128,_=!0,el(h,!1),s.lanes=4194304);h.isBackwards?(S.sibling=s.child,s.child=S):(i=h.last,i!==null?i.sibling=S:s.child=S,h.last=S)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Ee(),i.sibling=null,u=rn.current,D(rn,_?u&1|2:u&1),pt&&vi(s,h.treeForkCount),i):(Vt(s),null);case 22:case 23:return hr(s),xh(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(u&536870912)!==0&&(s.flags&128)===0&&(Vt(s),s.subtreeFlags&6&&(s.flags|=8192)):Vt(s),u=s.updateQueue,u!==null&&Vu(s,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==u&&(s.flags|=2048),i!==null&&B(Vo),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),bi(ln),Vt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function IN(i,s){switch(sh(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return bi(ln),Ce(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Y(s),null;case 31:if(s.memoizedState!==null){if(hr(s),s.alternate===null)throw Error(r(340));$o()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(hr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));$o()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return B(rn),null;case 4:return Ce(),null;case 10:return bi(s.type),null;case 22:case 23:return hr(s),xh(),i!==null&&B(Vo),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return bi(ln),null;case 25:return null;default:return null}}function c_(i,s){switch(sh(s),s.tag){case 3:bi(ln),Ce();break;case 26:case 27:case 5:Y(s);break;case 4:Ce();break;case 31:s.memoizedState!==null&&hr(s);break;case 13:hr(s);break;case 19:B(rn);break;case 10:bi(s.type);break;case 22:case 23:hr(s),xh(),i!==null&&B(Vo);break;case 24:bi(ln)}}function tl(i,s){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var _=h.next;u=_;do{if((u.tag&i)===i){h=void 0;var S=u.create,I=u.inst;h=S(),I.destroy=h}u=u.next}while(u!==_)}}catch(U){Nt(s,s.return,U)}}function eo(i,s,u){try{var h=s.updateQueue,_=h!==null?h.lastEffect:null;if(_!==null){var S=_.next;h=S;do{if((h.tag&i)===i){var I=h.inst,U=I.destroy;if(U!==void 0){I.destroy=void 0,_=s;var F=u,le=U;try{le()}catch(he){Nt(_,F,he)}}}h=h.next}while(h!==S)}}catch(he){Nt(s,s.return,he)}}function d_(i){var s=i.updateQueue;if(s!==null){var u=i.stateNode;try{tv(s,u)}catch(h){Nt(i,i.return,h)}}}function f_(i,s,u){u.props=Go(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(h){Nt(i,s,h)}}function nl(i,s){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof u=="function"?i.refCleanup=u(h):u.current=h}}catch(_){Nt(i,s,_)}}function ri(i,s){var u=i.ref,h=i.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(_){Nt(i,s,_)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){Nt(i,s,_)}else u.current=null}function h_(i){var s=i.type,u=i.memoizedProps,h=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(_){Nt(i,i.return,_)}}function Wh(i,s,u){try{var h=i.stateNode;WN(h,i.type,u,s),h[xn]=s}catch(_){Nt(i,i.return,_)}}function p_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ao(i.type)||i.tag===4}function ep(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||p_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ao(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function tp(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(i),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=mi));else if(h!==4&&(h===27&&ao(i.type)&&(u=i.stateNode,s=null),i=i.child,i!==null))for(tp(i,s,u),i=i.sibling;i!==null;)tp(i,s,u),i=i.sibling}function ju(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(h!==4&&(h===27&&ao(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(ju(i,s,u),i=i.sibling;i!==null;)ju(i,s,u),i=i.sibling}function m_(i){var s=i.stateNode,u=i.memoizedProps;try{for(var h=i.type,_=s.attributes;_.length;)s.removeAttributeNode(_[0]);In(s,h,u),s[yn]=i,s[xn]=u}catch(S){Nt(i,i.return,S)}}var Ti=!1,dn=!1,np=!1,g_=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function MN(i,s){if(i=i.containerInfo,wp=uc,i=Ay(i),Kf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var _=h.anchorOffset,S=h.focusNode;h=h.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var I=0,U=-1,F=-1,le=0,he=0,ve=i,ue=null;t:for(;;){for(var de;ve!==u||_!==0&&ve.nodeType!==3||(U=I+_),ve!==S||h!==0&&ve.nodeType!==3||(F=I+h),ve.nodeType===3&&(I+=ve.nodeValue.length),(de=ve.firstChild)!==null;)ue=ve,ve=de;for(;;){if(ve===i)break t;if(ue===u&&++le===_&&(U=I),ue===S&&++he===h&&(F=I),(de=ve.nextSibling)!==null)break;ve=ue,ue=ve.parentNode}ve=de}u=U===-1||F===-1?null:{start:U,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ep={focusedElem:i,selectionRange:u},uc=!1,Sn=s;Sn!==null;)if(s=Sn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Sn=i;else for(;Sn!==null;){switch(s=Sn,S=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)_=i[u],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,u=s,_=S.memoizedProps,S=S.memoizedState,h=u.stateNode;try{var Oe=Go(u.type,_);i=h.getSnapshotBeforeUpdate(Oe,S),h.__reactInternalSnapshotBeforeUpdate=i}catch(Fe){Nt(u,u.return,Fe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,u=i.nodeType,u===9)Cp(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Cp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Sn=i;break}Sn=s.return}}function y_(i,s,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Ci(i,u),h&4&&tl(5,u);break;case 1:if(Ci(i,u),h&4)if(i=u.stateNode,s===null)try{i.componentDidMount()}catch(I){Nt(u,u.return,I)}else{var _=Go(u.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(_,s,i.__reactInternalSnapshotBeforeUpdate)}catch(I){Nt(u,u.return,I)}}h&64&&d_(u),h&512&&nl(u,u.return);break;case 3:if(Ci(i,u),h&64&&(i=u.updateQueue,i!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{tv(i,s)}catch(I){Nt(u,u.return,I)}}break;case 27:s===null&&h&4&&m_(u);case 26:case 5:Ci(i,u),s===null&&h&4&&h_(u),h&512&&nl(u,u.return);break;case 12:Ci(i,u);break;case 31:Ci(i,u),h&4&&b_(i,u);break;case 13:Ci(i,u),h&4&&x_(i,u),h&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=VN.bind(null,u),aR(i,u))));break;case 22:if(h=u.memoizedState!==null||Ti,!h){s=s!==null&&s.memoizedState!==null||dn,_=Ti;var S=dn;Ti=h,(dn=s)&&!S?Ai(i,u,(u.subtreeFlags&8772)!==0):Ci(i,u),Ti=_,dn=S}break;case 30:break;default:Ci(i,u)}}function v_(i){var s=i.alternate;s!==null&&(i.alternate=null,v_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ct(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Jt=null,Qn=!1;function ki(i,s,u){for(u=u.child;u!==null;)__(i,s,u),u=u.sibling}function __(i,s,u){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(nt,u)}catch{}switch(u.tag){case 26:dn||ri(u,s),ki(i,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:dn||ri(u,s);var h=Jt,_=Qn;ao(u.type)&&(Jt=u.stateNode,Qn=!1),ki(i,s,u),dl(u.stateNode),Jt=h,Qn=_;break;case 5:dn||ri(u,s);case 6:if(h=Jt,_=Qn,Jt=null,ki(i,s,u),Jt=h,Qn=_,Jt!==null)if(Qn)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(u.stateNode)}catch(S){Nt(u,s,S)}else try{Jt.removeChild(u.stateNode)}catch(S){Nt(u,s,S)}break;case 18:Jt!==null&&(Qn?(i=Jt,db(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Bs(i)):db(Jt,u.stateNode));break;case 4:h=Jt,_=Qn,Jt=u.stateNode.containerInfo,Qn=!0,ki(i,s,u),Jt=h,Qn=_;break;case 0:case 11:case 14:case 15:eo(2,u,s),dn||eo(4,u,s),ki(i,s,u);break;case 1:dn||(ri(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"&&f_(u,s,h)),ki(i,s,u);break;case 21:ki(i,s,u);break;case 22:dn=(h=dn)||u.memoizedState!==null,ki(i,s,u),dn=h;break;default:ki(i,s,u)}}function b_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Bs(i)}catch(u){Nt(s,s.return,u)}}}function x_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Bs(i)}catch(u){Nt(s,s.return,u)}}function PN(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new g_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new g_),s;default:throw Error(r(435,i.tag))}}function Hu(i,s){var u=PN(i);s.forEach(function(h){if(!u.has(h)){u.add(h);var _=jN.bind(null,i,h);h.then(_,_)}})}function Wn(i,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var _=u[h],S=i,I=s,U=I;e:for(;U!==null;){switch(U.tag){case 27:if(ao(U.type)){Jt=U.stateNode,Qn=!1;break e}break;case 5:Jt=U.stateNode,Qn=!1;break e;case 3:case 4:Jt=U.stateNode.containerInfo,Qn=!0;break e}U=U.return}if(Jt===null)throw Error(r(160));__(S,I,_),Jt=null,Qn=!1,S=_.alternate,S!==null&&(S.return=null),_.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)S_(s,i),s=s.sibling}var qr=null;function S_(i,s){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Wn(s,i),er(i),h&4&&(eo(3,i,i.return),tl(3,i),eo(5,i,i.return));break;case 1:Wn(s,i),er(i),h&512&&(dn||u===null||ri(u,u.return)),h&64&&Ti&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var _=qr;if(Wn(s,i),er(i),h&512&&(dn||u===null||ri(u,u.return)),h&4){var S=u!==null?u.memoizedState:null;if(h=i.memoizedState,u===null)if(h===null)if(i.stateNode===null){e:{h=i.type,u=i.memoizedProps,_=_.ownerDocument||_;t:switch(h){case"title":S=_.getElementsByTagName("title")[0],(!S||S[Re]||S[yn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=_.createElement(h),_.head.insertBefore(S,_.querySelector("head > title"))),In(S,h,u),S[yn]=i,Lt(S),h=S;break e;case"link":var I=Sb("link","href",_).get(h+(u.href||""));if(I){for(var U=0;U<I.length;U++)if(S=I[U],S.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){I.splice(U,1);break t}}S=_.createElement(h),In(S,h,u),_.head.appendChild(S);break;case"meta":if(I=Sb("meta","content",_).get(h+(u.content||""))){for(U=0;U<I.length;U++)if(S=I[U],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){I.splice(U,1);break t}}S=_.createElement(h),In(S,h,u),_.head.appendChild(S);break;default:throw Error(r(468,h))}S[yn]=i,Lt(S),h=S}i.stateNode=h}else wb(_,i.type,i.stateNode);else i.stateNode=xb(_,h,i.memoizedProps);else S!==h?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,h===null?wb(_,i.type,i.stateNode):xb(_,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Wh(i,i.memoizedProps,u.memoizedProps)}break;case 27:Wn(s,i),er(i),h&512&&(dn||u===null||ri(u,u.return)),u!==null&&h&4&&Wh(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Wn(s,i),er(i),h&512&&(dn||u===null||ri(u,u.return)),i.flags&32){_=i.stateNode;try{hs(_,"")}catch(Oe){Nt(i,i.return,Oe)}}h&4&&i.stateNode!=null&&(_=i.memoizedProps,Wh(i,_,u!==null?u.memoizedProps:_)),h&1024&&(np=!0);break;case 6:if(Wn(s,i),er(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,u=i.stateNode;try{u.nodeValue=h}catch(Oe){Nt(i,i.return,Oe)}}break;case 3:if(oc=null,_=qr,qr=rc(s.containerInfo),Wn(s,i),qr=_,er(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Bs(s.containerInfo)}catch(Oe){Nt(i,i.return,Oe)}np&&(np=!1,w_(i));break;case 4:h=qr,qr=rc(i.stateNode.containerInfo),Wn(s,i),er(i),qr=h;break;case 12:Wn(s,i),er(i);break;case 31:Wn(s,i),er(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Hu(i,h)));break;case 13:Wn(s,i),er(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Fu=Ee()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Hu(i,h)));break;case 22:_=i.memoizedState!==null;var F=u!==null&&u.memoizedState!==null,le=Ti,he=dn;if(Ti=le||_,dn=he||F,Wn(s,i),dn=he,Ti=le,er(i),h&8192)e:for(s=i.stateNode,s._visibility=_?s._visibility&-2:s._visibility|1,_&&(u===null||F||Ti||dn||Jo(i)),u=null,s=i;;){if(s.tag===5||s.tag===26){if(u===null){F=u=s;try{if(S=F.stateNode,_)I=S.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{U=F.stateNode;var ve=F.memoizedProps.style,ue=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;U.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(Oe){Nt(F,F.return,Oe)}}}else if(s.tag===6){if(u===null){F=s;try{F.stateNode.nodeValue=_?"":F.memoizedProps}catch(Oe){Nt(F,F.return,Oe)}}}else if(s.tag===18){if(u===null){F=s;try{var de=F.stateNode;_?fb(de,!0):fb(F.stateNode,!1)}catch(Oe){Nt(F,F.return,Oe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,Hu(i,u))));break;case 19:Wn(s,i),er(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Hu(i,h)));break;case 30:break;case 21:break;default:Wn(s,i),er(i)}}function er(i){var s=i.flags;if(s&2){try{for(var u,h=i.return;h!==null;){if(p_(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var _=u.stateNode,S=ep(i);ju(i,S,_);break;case 5:var I=u.stateNode;u.flags&32&&(hs(I,""),u.flags&=-33);var U=ep(i);ju(i,U,I);break;case 3:case 4:var F=u.stateNode.containerInfo,le=ep(i);tp(i,le,F);break;default:throw Error(r(161))}}catch(he){Nt(i,i.return,he)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function w_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;w_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ci(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)y_(i,s.alternate,s),s=s.sibling}function Jo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:eo(4,s,s.return),Jo(s);break;case 1:ri(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&f_(s,s.return,u),Jo(s);break;case 27:dl(s.stateNode);case 26:case 5:ri(s,s.return),Jo(s);break;case 22:s.memoizedState===null&&Jo(s);break;case 30:Jo(s);break;default:Jo(s)}i=i.sibling}}function Ai(i,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,_=i,S=s,I=S.flags;switch(S.tag){case 0:case 11:case 15:Ai(_,S,u),tl(4,S);break;case 1:if(Ai(_,S,u),h=S,_=h.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(le){Nt(h,h.return,le)}if(h=S,_=h.updateQueue,_!==null){var U=h.stateNode;try{var F=_.shared.hiddenCallbacks;if(F!==null)for(_.shared.hiddenCallbacks=null,_=0;_<F.length;_++)ev(F[_],U)}catch(le){Nt(h,h.return,le)}}u&&I&64&&d_(S),nl(S,S.return);break;case 27:m_(S);case 26:case 5:Ai(_,S,u),u&&h===null&&I&4&&h_(S),nl(S,S.return);break;case 12:Ai(_,S,u);break;case 31:Ai(_,S,u),u&&I&4&&b_(_,S);break;case 13:Ai(_,S,u),u&&I&4&&x_(_,S);break;case 22:S.memoizedState===null&&Ai(_,S,u),nl(S,S.return);break;case 30:break;default:Ai(_,S,u)}s=s.sibling}}function rp(i,s){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&ja(u))}function ip(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ja(i))}function Vr(i,s,u,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)E_(i,s,u,h),s=s.sibling}function E_(i,s,u,h){var _=s.flags;switch(s.tag){case 0:case 11:case 15:Vr(i,s,u,h),_&2048&&tl(9,s);break;case 1:Vr(i,s,u,h);break;case 3:Vr(i,s,u,h),_&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ja(i)));break;case 12:if(_&2048){Vr(i,s,u,h),i=s.stateNode;try{var S=s.memoizedProps,I=S.id,U=S.onPostCommit;typeof U=="function"&&U(I,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){Nt(s,s.return,F)}}else Vr(i,s,u,h);break;case 31:Vr(i,s,u,h);break;case 13:Vr(i,s,u,h);break;case 23:break;case 22:S=s.stateNode,I=s.alternate,s.memoizedState!==null?S._visibility&2?Vr(i,s,u,h):rl(i,s):S._visibility&2?Vr(i,s,u,h):(S._visibility|=2,Ps(i,s,u,h,(s.subtreeFlags&10256)!==0||!1)),_&2048&&rp(I,s);break;case 24:Vr(i,s,u,h),_&2048&&ip(s.alternate,s);break;default:Vr(i,s,u,h)}}function Ps(i,s,u,h,_){for(_=_&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var S=i,I=s,U=u,F=h,le=I.flags;switch(I.tag){case 0:case 11:case 15:Ps(S,I,U,F,_),tl(8,I);break;case 23:break;case 22:var he=I.stateNode;I.memoizedState!==null?he._visibility&2?Ps(S,I,U,F,_):rl(S,I):(he._visibility|=2,Ps(S,I,U,F,_)),_&&le&2048&&rp(I.alternate,I);break;case 24:Ps(S,I,U,F,_),_&&le&2048&&ip(I.alternate,I);break;default:Ps(S,I,U,F,_)}s=s.sibling}}function rl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=i,h=s,_=h.flags;switch(h.tag){case 22:rl(u,h),_&2048&&rp(h.alternate,h);break;case 24:rl(u,h),_&2048&&ip(h.alternate,h);break;default:rl(u,h)}s=s.sibling}}var il=8192;function Ds(i,s,u){if(i.subtreeFlags&il)for(i=i.child;i!==null;)T_(i,s,u),i=i.sibling}function T_(i,s,u){switch(i.tag){case 26:Ds(i,s,u),i.flags&il&&i.memoizedState!==null&&_R(u,qr,i.memoizedState,i.memoizedProps);break;case 5:Ds(i,s,u);break;case 3:case 4:var h=qr;qr=rc(i.stateNode.containerInfo),Ds(i,s,u),qr=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=il,il=16777216,Ds(i,s,u),il=h):Ds(i,s,u));break;default:Ds(i,s,u)}}function k_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function ol(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];Sn=h,A_(h,i)}k_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)C_(i),i=i.sibling}function C_(i){switch(i.tag){case 0:case 11:case 15:ol(i),i.flags&2048&&eo(9,i,i.return);break;case 3:ol(i);break;case 12:ol(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Bu(i)):ol(i);break;default:ol(i)}}function Bu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var h=s[u];Sn=h,A_(h,i)}k_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:eo(8,s,s.return),Bu(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Bu(s));break;default:Bu(s)}i=i.sibling}}function A_(i,s){for(;Sn!==null;){var u=Sn;switch(u.tag){case 0:case 11:case 15:eo(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:ja(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Sn=h;else e:for(u=i;Sn!==null;){h=Sn;var _=h.sibling,S=h.return;if(v_(h),h===u){Sn=null;break e}if(_!==null){_.return=S,Sn=_;break e}Sn=S}}}var DN={getCacheForType:function(i){var s=Nn(ln),u=s.data.get(i);return u===void 0&&(u=i(),s.data.set(i,u)),u},cacheSignal:function(){return Nn(ln).controller.signal}},zN=typeof WeakMap=="function"?WeakMap:Map,St=0,Ot=null,at=null,dt=0,At=0,pr=null,to=!1,zs=!1,op=!1,Ni=0,en=0,no=0,Zo=0,sp=0,mr=0,Os=0,sl=null,tr=null,ap=!1,Fu=0,N_=0,Gu=1/0,Ju=null,ro=null,vn=0,io=null,Us=null,Ri=0,lp=0,up=null,R_=null,al=0,cp=null;function gr(){return(St&2)!==0&&dt!==0?dt&-dt:G.T!==null?gp():Ro()}function I_(){if(mr===0)if((dt&536870912)===0||pt){var i=kt;kt<<=1,(kt&3932160)===0&&(kt=262144),mr=i}else mr=536870912;return i=fr.current,i!==null&&(i.flags|=32),mr}function nr(i,s,u){(i===Ot&&(At===2||At===9)||i.cancelPendingCommit!==null)&&($s(i,0),oo(i,dt,mr,!1)),ui(i,u),((St&2)===0||i!==Ot)&&(i===Ot&&((St&2)===0&&(Zo|=u),en===4&&oo(i,dt,mr,!1)),ii(i))}function M_(i,s,u){if((St&6)!==0)throw Error(r(327));var h=!u&&(s&127)===0&&(s&i.expiredLanes)===0||sn(i,s),_=h?$N(i,s):fp(i,s,!0),S=h;do{if(_===0){zs&&!h&&oo(i,s,0,!1);break}else{if(u=i.current.alternate,S&&!ON(u)){_=fp(i,s,!1),S=!1;continue}if(_===2){if(S=s,i.errorRecoveryDisabledLanes&S)var I=0;else I=i.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){s=I;e:{var U=i;_=sl;var F=U.current.memoizedState.isDehydrated;if(F&&($s(U,I).flags|=256),I=fp(U,I,!1),I!==2){if(op&&!F){U.errorRecoveryDisabledLanes|=S,Zo|=S,_=4;break e}S=tr,tr=_,S!==null&&(tr===null?tr=S:tr.push.apply(tr,S))}_=I}if(S=!1,_!==2)continue}}if(_===1){$s(i,0),oo(i,s,0,!0);break}e:{switch(h=i,S=_,S){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:oo(h,s,mr,!to);break e;case 2:tr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(_=Fu+300-Ee(),10<_)){if(oo(h,s,mr,!to),gn(h,0,!0)!==0)break e;Ri=s,h.timeoutHandle=ub(P_.bind(null,h,u,tr,Ju,ap,s,mr,Zo,Os,to,S,"Throttled",-0,0),_);break e}P_(h,u,tr,Ju,ap,s,mr,Zo,Os,to,S,null,-0,0)}}break}while(!0);ii(i)}function P_(i,s,u,h,_,S,I,U,F,le,he,ve,ue,de){if(i.timeoutHandle=-1,ve=s.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mi},T_(s,S,ve);var Oe=(S&62914560)===S?Fu-Ee():(S&4194048)===S?N_-Ee():0;if(Oe=bR(ve,Oe),Oe!==null){Ri=S,i.cancelPendingCommit=Oe(V_.bind(null,i,s,S,u,h,_,I,U,F,he,ve,null,ue,de)),oo(i,S,I,!le);return}}V_(i,s,S,u,h,_,I,U,F)}function ON(i){for(var s=i;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var _=u[h],S=_.getSnapshot;_=_.value;try{if(!cr(S(),_))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function oo(i,s,u,h){s&=~sp,s&=~Zo,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var _=s;0<_;){var S=31-De(_),I=1<<S;h[S]=-1,_&=~I}u!==0&&ci(i,u,s)}function Zu(){return(St&6)===0?(ll(0),!1):!0}function dp(){if(at!==null){if(At===0)var i=at.return;else i=at,_i=Lo=null,Ch(i),As=null,Ba=0,i=at;for(;i!==null;)c_(i.alternate,i),i=i.return;at=null}}function $s(i,s){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,nR(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ri=0,dp(),Ot=i,at=u=yi(i.current,null),dt=s,At=0,pr=null,to=!1,zs=sn(i,s),op=!1,Os=mr=sp=Zo=no=en=0,tr=sl=null,ap=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var _=31-De(h),S=1<<_;s|=i[_],h&=~S}return Ni=s,mu(),u}function D_(i,s){We=null,G.H=Qa,s===Cs||s===wu?(s=Yy(),At=3):s===mh?(s=Yy(),At=4):At=s===Hh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,pr=s,at===null&&(en=1,Uu(i,Tr(s,i.current)))}function z_(){var i=fr.current;return i===null?!0:(dt&4194048)===dt?Nr===null:(dt&62914560)===dt||(dt&536870912)!==0?i===Nr:!1}function O_(){var i=G.H;return G.H=Qa,i===null?Qa:i}function U_(){var i=G.A;return G.A=DN,i}function Ku(){en=4,to||(dt&4194048)!==dt&&fr.current!==null||(zs=!0),(no&134217727)===0&&(Zo&134217727)===0||Ot===null||oo(Ot,dt,mr,!1)}function fp(i,s,u){var h=St;St|=2;var _=O_(),S=U_();(Ot!==i||dt!==s)&&(Ju=null,$s(i,s)),s=!1;var I=en;e:do try{if(At!==0&&at!==null){var U=at,F=pr;switch(At){case 8:dp(),I=6;break e;case 3:case 2:case 9:case 6:fr.current===null&&(s=!0);var le=At;if(At=0,pr=null,Ls(i,U,F,le),u&&zs){I=0;break e}break;default:le=At,At=0,pr=null,Ls(i,U,F,le)}}UN(),I=en;break}catch(he){D_(i,he)}while(!0);return s&&i.shellSuspendCounter++,_i=Lo=null,St=h,G.H=_,G.A=S,at===null&&(Ot=null,dt=0,mu()),I}function UN(){for(;at!==null;)$_(at)}function $N(i,s){var u=St;St|=2;var h=O_(),_=U_();Ot!==i||dt!==s?(Ju=null,Gu=Ee()+500,$s(i,s)):zs=sn(i,s);e:do try{if(At!==0&&at!==null){s=at;var S=pr;t:switch(At){case 1:At=0,pr=null,Ls(i,s,S,1);break;case 2:case 9:if(Zy(S)){At=0,pr=null,L_(s);break}s=function(){At!==2&&At!==9||Ot!==i||(At=7),ii(i)},S.then(s,s);break e;case 3:At=7;break e;case 4:At=5;break e;case 7:Zy(S)?(At=0,pr=null,L_(s)):(At=0,pr=null,Ls(i,s,S,7));break;case 5:var I=null;switch(at.tag){case 26:I=at.memoizedState;case 5:case 27:var U=at;if(I?Eb(I):U.stateNode.complete){At=0,pr=null;var F=U.sibling;if(F!==null)at=F;else{var le=U.return;le!==null?(at=le,Yu(le)):at=null}break t}}At=0,pr=null,Ls(i,s,S,5);break;case 6:At=0,pr=null,Ls(i,s,S,6);break;case 8:dp(),en=6;break e;default:throw Error(r(462))}}LN();break}catch(he){D_(i,he)}while(!0);return _i=Lo=null,G.H=h,G.A=_,St=u,at!==null?0:(Ot=null,dt=0,mu(),en)}function LN(){for(;at!==null&&!Tn();)$_(at)}function $_(i){var s=l_(i.alternate,i,Ni);i.memoizedProps=i.pendingProps,s===null?Yu(i):at=s}function L_(i){var s=i,u=s.alternate;switch(s.tag){case 15:case 0:s=n_(u,s,s.pendingProps,s.type,void 0,dt);break;case 11:s=n_(u,s,s.pendingProps,s.type.render,s.ref,dt);break;case 5:Ch(s);default:c_(u,s),s=at=Uy(s,Ni),s=l_(u,s,Ni)}i.memoizedProps=i.pendingProps,s===null?Yu(i):at=s}function Ls(i,s,u,h){_i=Lo=null,Ch(s),As=null,Ba=0;var _=s.return;try{if(CN(i,_,s,u,dt)){en=1,Uu(i,Tr(u,i.current)),at=null;return}}catch(S){if(_!==null)throw at=_,S;en=1,Uu(i,Tr(u,i.current)),at=null;return}s.flags&32768?(pt||h===1?i=!0:zs||(dt&536870912)!==0?i=!1:(to=i=!0,(h===2||h===9||h===3||h===6)&&(h=fr.current,h!==null&&h.tag===13&&(h.flags|=16384))),q_(s,i)):Yu(s)}function Yu(i){var s=i;do{if((s.flags&32768)!==0){q_(s,to);return}i=s.return;var u=RN(s.alternate,s,Ni);if(u!==null){at=u;return}if(s=s.sibling,s!==null){at=s;return}at=s=i}while(s!==null);en===0&&(en=5)}function q_(i,s){do{var u=IN(i.alternate,i);if(u!==null){u.flags&=32767,at=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(i=i.sibling,i!==null)){at=i;return}at=i=u}while(i!==null);en=6,at=null}function V_(i,s,u,h,_,S,I,U,F){i.cancelPendingCommit=null;do Xu();while(vn!==0);if((St&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(S=s.lanes|s.childLanes,S|=eh,Ao(i,u,S,I,U,F),i===Ot&&(at=Ot=null,dt=0),Us=s,io=i,Ri=u,lp=S,up=_,R_=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,HN(ye,function(){return G_(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=G.T,G.T=null,_=ce.p,ce.p=2,I=St,St|=4;try{MN(i,s,u)}finally{St=I,ce.p=_,G.T=h}}vn=1,j_(),H_(),B_()}}function j_(){if(vn===1){vn=0;var i=io,s=Us,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=G.T,G.T=null;var h=ce.p;ce.p=2;var _=St;St|=4;try{S_(s,i);var S=Ep,I=Ay(i.containerInfo),U=S.focusedElem,F=S.selectionRange;if(I!==U&&U&&U.ownerDocument&&Cy(U.ownerDocument.documentElement,U)){if(F!==null&&Kf(U)){var le=F.start,he=F.end;if(he===void 0&&(he=le),"selectionStart"in U)U.selectionStart=le,U.selectionEnd=Math.min(he,U.value.length);else{var ve=U.ownerDocument||document,ue=ve&&ve.defaultView||window;if(ue.getSelection){var de=ue.getSelection(),Oe=U.textContent.length,Fe=Math.min(F.start,Oe),Dt=F.end===void 0?Fe:Math.min(F.end,Oe);!de.extend&&Fe>Dt&&(I=Dt,Dt=Fe,Fe=I);var te=ky(U,Fe),Z=ky(U,Dt);if(te&&Z&&(de.rangeCount!==1||de.anchorNode!==te.node||de.anchorOffset!==te.offset||de.focusNode!==Z.node||de.focusOffset!==Z.offset)){var ae=ve.createRange();ae.setStart(te.node,te.offset),de.removeAllRanges(),Fe>Dt?(de.addRange(ae),de.extend(Z.node,Z.offset)):(ae.setEnd(Z.node,Z.offset),de.addRange(ae))}}}}for(ve=[],de=U;de=de.parentNode;)de.nodeType===1&&ve.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<ve.length;U++){var ge=ve[U];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}uc=!!wp,Ep=wp=null}finally{St=_,ce.p=h,G.T=u}}i.current=s,vn=2}}function H_(){if(vn===2){vn=0;var i=io,s=Us,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=G.T,G.T=null;var h=ce.p;ce.p=2;var _=St;St|=4;try{y_(i,s.alternate,s)}finally{St=_,ce.p=h,G.T=u}}vn=3}}function B_(){if(vn===4||vn===3){vn=0,fe();var i=io,s=Us,u=Ri,h=R_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?vn=5:(vn=0,Us=io=null,F_(i,i.pendingLanes));var _=i.pendingLanes;if(_===0&&(ro=null),di(u),s=s.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(nt,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=G.T,_=ce.p,ce.p=2,G.T=null;try{for(var S=i.onRecoverableError,I=0;I<h.length;I++){var U=h[I];S(U.value,{componentStack:U.stack})}}finally{G.T=s,ce.p=_}}(Ri&3)!==0&&Xu(),ii(i),_=i.pendingLanes,(u&261930)!==0&&(_&42)!==0?i===cp?al++:(al=0,cp=i):al=0,ll(0)}}function F_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ja(s)))}function Xu(){return j_(),H_(),B_(),G_()}function G_(){if(vn!==5)return!1;var i=io,s=lp;lp=0;var u=di(Ri),h=G.T,_=ce.p;try{ce.p=32>u?32:u,G.T=null,u=up,up=null;var S=io,I=Ri;if(vn=0,Us=io=null,Ri=0,(St&6)!==0)throw Error(r(331));var U=St;if(St|=4,C_(S.current),E_(S,S.current,I,u),St=U,ll(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(nt,S)}catch{}return!0}finally{ce.p=_,G.T=h,F_(i,s)}}function J_(i,s,u){s=Tr(u,s),s=jh(i.stateNode,s,2),i=Xi(i,s,2),i!==null&&(ui(i,2),ii(i))}function Nt(i,s,u){if(i.tag===3)J_(i,i,u);else for(;s!==null;){if(s.tag===3){J_(s,i,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ro===null||!ro.has(h))){i=Tr(u,i),u=Zv(2),h=Xi(s,u,2),h!==null&&(Kv(u,h,s,i),ui(h,2),ii(h));break}}s=s.return}}function hp(i,s,u){var h=i.pingCache;if(h===null){h=i.pingCache=new zN;var _=new Set;h.set(s,_)}else _=h.get(s),_===void 0&&(_=new Set,h.set(s,_));_.has(u)||(op=!0,_.add(u),i=qN.bind(null,i,s,u),s.then(i,i))}function qN(i,s,u){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Ot===i&&(dt&u)===u&&(en===4||en===3&&(dt&62914560)===dt&&300>Ee()-Fu?(St&2)===0&&$s(i,0):sp|=u,Os===dt&&(Os=0)),ii(i)}function Z_(i,s){s===0&&(s=an()),i=Oo(i,s),i!==null&&(ui(i,s),ii(i))}function VN(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),Z_(i,u)}function jN(i,s){var u=0;switch(i.tag){case 31:case 13:var h=i.stateNode,_=i.memoizedState;_!==null&&(u=_.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),Z_(i,u)}function HN(i,s){return wt(i,s)}var Qu=null,qs=null,pp=!1,Wu=!1,mp=!1,so=0;function ii(i){i!==qs&&i.next===null&&(qs===null?Qu=qs=i:qs=qs.next=i),Wu=!0,pp||(pp=!0,FN())}function ll(i,s){if(!mp&&Wu){mp=!0;do for(var u=!1,h=Qu;h!==null;){if(i!==0){var _=h.pendingLanes;if(_===0)var S=0;else{var I=h.suspendedLanes,U=h.pingedLanes;S=(1<<31-De(42|i)+1)-1,S&=_&~(I&~U),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(u=!0,Q_(h,S))}else S=dt,S=gn(h,h===Ot?S:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(S&3)===0||sn(h,S)||(u=!0,Q_(h,S));h=h.next}while(u);mp=!1}}function BN(){K_()}function K_(){Wu=pp=!1;var i=0;so!==0&&tR()&&(i=so);for(var s=Ee(),u=null,h=Qu;h!==null;){var _=h.next,S=Y_(h,s);S===0?(h.next=null,u===null?Qu=_:u.next=_,_===null&&(qs=u)):(u=h,(i!==0||(S&3)!==0)&&(Wu=!0)),h=_}vn!==0&&vn!==5||ll(i),so!==0&&(so=0)}function Y_(i,s){for(var u=i.suspendedLanes,h=i.pingedLanes,_=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var I=31-De(S),U=1<<I,F=_[I];F===-1?((U&u)===0||(U&h)!==0)&&(_[I]=Wr(U,s)):F<=s&&(i.expiredLanes|=U),S&=~U}if(s=Ot,u=dt,u=gn(i,i===s?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,u===0||i===s&&(At===2||At===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&xt(h),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||sn(i,u)){if(s=u&-u,s===i.callbackPriority)return s;switch(h!==null&&xt(h),di(u)){case 2:case 8:u=we;break;case 32:u=ye;break;case 268435456:u=Ve;break;default:u=ye}return h=X_.bind(null,i),u=wt(u,h),i.callbackPriority=s,i.callbackNode=u,s}return h!==null&&h!==null&&xt(h),i.callbackPriority=2,i.callbackNode=null,2}function X_(i,s){if(vn!==0&&vn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Xu()&&i.callbackNode!==u)return null;var h=dt;return h=gn(i,i===Ot?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(M_(i,h,s),Y_(i,Ee()),i.callbackNode!=null&&i.callbackNode===u?X_.bind(null,i):null)}function Q_(i,s){if(Xu())return null;M_(i,s,!0)}function FN(){rR(function(){(St&6)!==0?wt(re,BN):K_()})}function gp(){if(so===0){var i=Ts;i===0&&(i=bn,bn<<=1,(bn&261888)===0&&(bn=256)),so=i}return so}function W_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:au(""+i)}function eb(i,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,i.id&&u.setAttribute("form",i.id),s.parentNode.insertBefore(u,s),i=new FormData(i),u.parentNode.removeChild(u),i}function GN(i,s,u,h,_){if(s==="submit"&&u&&u.stateNode===_){var S=W_((_[xn]||null).action),I=h.submitter;I&&(s=(s=I[xn]||null)?W_(s.formAction):I.getAttribute("formAction"),s!==null&&(S=s,I=null));var U=new du("action","action",null,h,_);i.push({event:U,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(so!==0){var F=I?eb(_,I):new FormData(_);Oh(u,{pending:!0,data:F,method:_.method,action:S},null,F)}}else typeof S=="function"&&(U.preventDefault(),F=I?eb(_,I):new FormData(_),Oh(u,{pending:!0,data:F,method:_.method,action:S},S,F))},currentTarget:_}]})}}for(var yp=0;yp<Wf.length;yp++){var vp=Wf[yp],JN=vp.toLowerCase(),ZN=vp[0].toUpperCase()+vp.slice(1);Lr(JN,"on"+ZN)}Lr(Iy,"onAnimationEnd"),Lr(My,"onAnimationIteration"),Lr(Py,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(cN,"onTransitionRun"),Lr(dN,"onTransitionStart"),Lr(fN,"onTransitionCancel"),Lr(Dy,"onTransitionEnd"),ds("onMouseEnter",["mouseout","mouseover"]),ds("onMouseLeave",["mouseout","mouseover"]),ds("onPointerEnter",["pointerout","pointerover"]),ds("onPointerLeave",["pointerout","pointerover"]),Mo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mo("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function tb(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],_=h.event;h=h.listeners;e:{var S=void 0;if(s)for(var I=h.length-1;0<=I;I--){var U=h[I],F=U.instance,le=U.currentTarget;if(U=U.listener,F!==S&&_.isPropagationStopped())break e;S=U,_.currentTarget=le;try{S(_)}catch(he){pu(he)}_.currentTarget=null,S=F}else for(I=0;I<h.length;I++){if(U=h[I],F=U.instance,le=U.currentTarget,U=U.listener,F!==S&&_.isPropagationStopped())break e;S=U,_.currentTarget=le;try{S(_)}catch(he){pu(he)}_.currentTarget=null,S=F}}}}function lt(i,s){var u=s[Io];u===void 0&&(u=s[Io]=new Set);var h=i+"__bubble";u.has(h)||(nb(s,i,2,!1),u.add(h))}function _p(i,s,u){var h=0;s&&(h|=4),nb(u,i,h,s)}var ec="_reactListening"+Math.random().toString(36).slice(2);function bp(i){if(!i[ec]){i[ec]=!0,Hi.forEach(function(u){u!=="selectionchange"&&(KN.has(u)||_p(u,!1,i),_p(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[ec]||(s[ec]=!0,_p("selectionchange",!1,s))}}function nb(i,s,u,h){switch(Ib(s)){case 2:var _=wR;break;case 8:_=ER;break;default:_=zp}u=_.bind(null,s,u,i),_=void 0,!qf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),h?_!==void 0?i.addEventListener(s,u,{capture:!0,passive:_}):i.addEventListener(s,u,!0):_!==void 0?i.addEventListener(s,u,{passive:_}):i.addEventListener(s,u,!1)}function xp(i,s,u,h,_){var S=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var U=h.stateNode.containerInfo;if(U===_)break;if(I===4)for(I=h.return;I!==null;){var F=I.tag;if((F===3||F===4)&&I.stateNode.containerInfo===_)return;I=I.return}for(;U!==null;){if(I=zt(U),I===null)return;if(F=I.tag,F===5||F===6||F===26||F===27){h=S=I;continue e}U=U.parentNode}}h=h.return}ay(function(){var le=S,he=$f(u),ve=[];e:{var ue=zy.get(i);if(ue!==void 0){var de=du,Oe=i;switch(i){case"keypress":if(uu(u)===0)break e;case"keydown":case"keyup":de=jA;break;case"focusin":Oe="focus",de=Bf;break;case"focusout":Oe="blur",de=Bf;break;case"beforeblur":case"afterblur":de=Bf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=cy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=RA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=FA;break;case Iy:case My:case Py:de=PA;break;case Dy:de=JA;break;case"scroll":case"scrollend":de=AA;break;case"wheel":de=KA;break;case"copy":case"cut":case"paste":de=zA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=fy;break;case"toggle":case"beforetoggle":de=XA}var Fe=(s&4)!==0,Dt=!Fe&&(i==="scroll"||i==="scrollend"),te=Fe?ue!==null?ue+"Capture":null:ue;Fe=[];for(var Z=le,ae;Z!==null;){var ge=Z;if(ae=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||ae===null||te===null||(ge=Ia(Z,te),ge!=null&&Fe.push(cl(Z,ge,ae))),Dt)break;Z=Z.return}0<Fe.length&&(ue=new de(ue,Oe,null,u,he),ve.push({event:ue,listeners:Fe}))}}if((s&7)===0){e:{if(ue=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",ue&&u!==Uf&&(Oe=u.relatedTarget||u.fromElement)&&(zt(Oe)||Oe[ji]))break e;if((de||ue)&&(ue=he.window===he?he:(ue=he.ownerDocument)?ue.defaultView||ue.parentWindow:window,de?(Oe=u.relatedTarget||u.toElement,de=le,Oe=Oe?zt(Oe):null,Oe!==null&&(Dt=a(Oe),Fe=Oe.tag,Oe!==Dt||Fe!==5&&Fe!==27&&Fe!==6)&&(Oe=null)):(de=null,Oe=le),de!==Oe)){if(Fe=cy,ge="onMouseLeave",te="onMouseEnter",Z="mouse",(i==="pointerout"||i==="pointerover")&&(Fe=fy,ge="onPointerLeave",te="onPointerEnter",Z="pointer"),Dt=de==null?ue:fi(de),ae=Oe==null?ue:fi(Oe),ue=new Fe(ge,Z+"leave",de,u,he),ue.target=Dt,ue.relatedTarget=ae,ge=null,zt(he)===le&&(Fe=new Fe(te,Z+"enter",Oe,u,he),Fe.target=ae,Fe.relatedTarget=Dt,ge=Fe),Dt=ge,de&&Oe)t:{for(Fe=YN,te=de,Z=Oe,ae=0,ge=te;ge;ge=Fe(ge))ae++;ge=0;for(var je=Z;je;je=Fe(je))ge++;for(;0<ae-ge;)te=Fe(te),ae--;for(;0<ge-ae;)Z=Fe(Z),ge--;for(;ae--;){if(te===Z||Z!==null&&te===Z.alternate){Fe=te;break t}te=Fe(te),Z=Fe(Z)}Fe=null}else Fe=null;de!==null&&rb(ve,ue,de,Fe,!1),Oe!==null&&Dt!==null&&rb(ve,Dt,Oe,Fe,!0)}}e:{if(ue=le?fi(le):window,de=ue.nodeName&&ue.nodeName.toLowerCase(),de==="select"||de==="input"&&ue.type==="file")var yt=by;else if(vy(ue))if(xy)yt=aN;else{yt=oN;var $e=iN}else de=ue.nodeName,!de||de.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?le&&Of(le.elementType)&&(yt=by):yt=sN;if(yt&&(yt=yt(i,le))){_y(ve,yt,u,he);break e}$e&&$e(i,ue,le),i==="focusout"&&le&&ue.type==="number"&&le.memoizedProps.value!=null&&zf(ue,"number",ue.value)}switch($e=le?fi(le):window,i){case"focusin":(vy($e)||$e.contentEditable==="true")&&(ys=$e,Yf=le,La=null);break;case"focusout":La=Yf=ys=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,Ny(ve,u,he);break;case"selectionchange":if(uN)break;case"keydown":case"keyup":Ny(ve,u,he)}var et;if(Gf)e:{switch(i){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else gs?gy(i,u)&&(ft="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ft="onCompositionStart");ft&&(hy&&u.locale!=="ko"&&(gs||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&gs&&(et=ly()):(Bi=he,Vf="value"in Bi?Bi.value:Bi.textContent,gs=!0)),$e=tc(le,ft),0<$e.length&&(ft=new dy(ft,i,null,u,he),ve.push({event:ft,listeners:$e}),et?ft.data=et:(et=yy(u),et!==null&&(ft.data=et)))),(et=WA?eN(i,u):tN(i,u))&&(ft=tc(le,"onBeforeInput"),0<ft.length&&($e=new dy("onBeforeInput","beforeinput",null,u,he),ve.push({event:$e,listeners:ft}),$e.data=et)),GN(ve,i,le,u,he)}tb(ve,s)})}function cl(i,s,u){return{instance:i,listener:s,currentTarget:u}}function tc(i,s){for(var u=s+"Capture",h=[];i!==null;){var _=i,S=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||S===null||(_=Ia(i,u),_!=null&&h.unshift(cl(i,_,S)),_=Ia(i,s),_!=null&&h.push(cl(i,_,S))),i.tag===3)return h;i=i.return}return[]}function YN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function rb(i,s,u,h,_){for(var S=s._reactName,I=[];u!==null&&u!==h;){var U=u,F=U.alternate,le=U.stateNode;if(U=U.tag,F!==null&&F===h)break;U!==5&&U!==26&&U!==27||le===null||(F=le,_?(le=Ia(u,S),le!=null&&I.unshift(cl(u,le,F))):_||(le=Ia(u,S),le!=null&&I.push(cl(u,le,F)))),u=u.return}I.length!==0&&i.push({event:s,listeners:I})}var XN=/\r\n?/g,QN=/\u0000|\uFFFD/g;function ib(i){return(typeof i=="string"?i:""+i).replace(XN,`
`).replace(QN,"")}function ob(i,s){return s=ib(s),ib(i)===s}function Pt(i,s,u,h,_,S){switch(u){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||hs(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&hs(i,""+h);break;case"className":ou(i,"class",h);break;case"tabIndex":ou(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ou(i,u,h);break;case"style":oy(i,h,S);break;case"data":if(s!=="object"){ou(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||u!=="href")){i.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=au(""+h),i.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(s!=="input"&&Pt(i,s,"name",_.name,_,null),Pt(i,s,"formEncType",_.formEncType,_,null),Pt(i,s,"formMethod",_.formMethod,_,null),Pt(i,s,"formTarget",_.formTarget,_,null)):(Pt(i,s,"encType",_.encType,_,null),Pt(i,s,"method",_.method,_,null),Pt(i,s,"target",_.target,_,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(u);break}h=au(""+h),i.setAttribute(u,h);break;case"onClick":h!=null&&(i.onclick=mi);break;case"onScroll":h!=null&&lt("scroll",i);break;case"onScrollEnd":h!=null&&lt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(_.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}u=au(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""+h):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":h===!0?i.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(u,h):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(u,h):i.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(u):i.setAttribute(u,h);break;case"popover":lt("beforetoggle",i),lt("toggle",i),iu(i,"popover",h);break;case"xlinkActuate":pi(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":pi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":pi(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":pi(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":pi(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":pi(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":pi(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":pi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":pi(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":iu(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=kA.get(u)||u,iu(i,u,h))}}function Sp(i,s,u,h,_,S){switch(u){case"style":oy(i,h,S);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(_.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof h=="string"?hs(i,h):(typeof h=="number"||typeof h=="bigint")&&hs(i,""+h);break;case"onScroll":h!=null&&lt("scroll",i);break;case"onScrollEnd":h!=null&&lt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mf.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),s=u.slice(2,_?u.length-7:void 0),S=i[xn]||null,S=S!=null?S[u]:null,typeof S=="function"&&i.removeEventListener(s,S,_),typeof h=="function")){typeof S!="function"&&S!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(s,h,_);break e}u in i?i[u]=h:h===!0?i.setAttribute(u,""):iu(i,u,h)}}}function In(i,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",i),lt("load",i);var h=!1,_=!1,S;for(S in u)if(u.hasOwnProperty(S)){var I=u[S];if(I!=null)switch(S){case"src":h=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Pt(i,s,S,I,u,null)}}_&&Pt(i,s,"srcSet",u.srcSet,u,null),h&&Pt(i,s,"src",u.src,u,null);return;case"input":lt("invalid",i);var U=S=I=_=null,F=null,le=null;for(h in u)if(u.hasOwnProperty(h)){var he=u[h];if(he!=null)switch(h){case"name":_=he;break;case"type":I=he;break;case"checked":F=he;break;case"defaultChecked":le=he;break;case"value":S=he;break;case"defaultValue":U=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,s));break;default:Pt(i,s,h,he,u,null)}}ty(i,S,U,F,le,I,_,!1);return;case"select":lt("invalid",i),h=I=S=null;for(_ in u)if(u.hasOwnProperty(_)&&(U=u[_],U!=null))switch(_){case"value":S=U;break;case"defaultValue":I=U;break;case"multiple":h=U;default:Pt(i,s,_,U,u,null)}s=S,u=I,i.multiple=!!h,s!=null?fs(i,!!h,s,!1):u!=null&&fs(i,!!h,u,!0);return;case"textarea":lt("invalid",i),S=_=h=null;for(I in u)if(u.hasOwnProperty(I)&&(U=u[I],U!=null))switch(I){case"value":h=U;break;case"defaultValue":_=U;break;case"children":S=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:Pt(i,s,I,U,u,null)}ry(i,h,_,S);return;case"option":for(F in u)if(u.hasOwnProperty(F)&&(h=u[F],h!=null))switch(F){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Pt(i,s,F,h,u,null)}return;case"dialog":lt("beforetoggle",i),lt("toggle",i),lt("cancel",i),lt("close",i);break;case"iframe":case"object":lt("load",i);break;case"video":case"audio":for(h=0;h<ul.length;h++)lt(ul[h],i);break;case"image":lt("error",i),lt("load",i);break;case"details":lt("toggle",i);break;case"embed":case"source":case"link":lt("error",i),lt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in u)if(u.hasOwnProperty(le)&&(h=u[le],h!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Pt(i,s,le,h,u,null)}return;default:if(Of(s)){for(he in u)u.hasOwnProperty(he)&&(h=u[he],h!==void 0&&Sp(i,s,he,h,u,void 0));return}}for(U in u)u.hasOwnProperty(U)&&(h=u[U],h!=null&&Pt(i,s,U,h,u,null))}function WN(i,s,u,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,S=null,I=null,U=null,F=null,le=null,he=null;for(de in u){var ve=u[de];if(u.hasOwnProperty(de)&&ve!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":F=ve;default:h.hasOwnProperty(de)||Pt(i,s,de,null,h,ve)}}for(var ue in h){var de=h[ue];if(ve=u[ue],h.hasOwnProperty(ue)&&(de!=null||ve!=null))switch(ue){case"type":S=de;break;case"name":_=de;break;case"checked":le=de;break;case"defaultChecked":he=de;break;case"value":I=de;break;case"defaultValue":U=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,s));break;default:de!==ve&&Pt(i,s,ue,de,h,ve)}}Df(i,I,U,F,le,he,S,_);return;case"select":de=I=U=ue=null;for(S in u)if(F=u[S],u.hasOwnProperty(S)&&F!=null)switch(S){case"value":break;case"multiple":de=F;default:h.hasOwnProperty(S)||Pt(i,s,S,null,h,F)}for(_ in h)if(S=h[_],F=u[_],h.hasOwnProperty(_)&&(S!=null||F!=null))switch(_){case"value":ue=S;break;case"defaultValue":U=S;break;case"multiple":I=S;default:S!==F&&Pt(i,s,_,S,h,F)}s=U,u=I,h=de,ue!=null?fs(i,!!u,ue,!1):!!h!=!!u&&(s!=null?fs(i,!!u,s,!0):fs(i,!!u,u?[]:"",!1));return;case"textarea":de=ue=null;for(U in u)if(_=u[U],u.hasOwnProperty(U)&&_!=null&&!h.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Pt(i,s,U,null,h,_)}for(I in h)if(_=h[I],S=u[I],h.hasOwnProperty(I)&&(_!=null||S!=null))switch(I){case"value":ue=_;break;case"defaultValue":de=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==S&&Pt(i,s,I,_,h,S)}ny(i,ue,de);return;case"option":for(var Oe in u)if(ue=u[Oe],u.hasOwnProperty(Oe)&&ue!=null&&!h.hasOwnProperty(Oe))switch(Oe){case"selected":i.selected=!1;break;default:Pt(i,s,Oe,null,h,ue)}for(F in h)if(ue=h[F],de=u[F],h.hasOwnProperty(F)&&ue!==de&&(ue!=null||de!=null))switch(F){case"selected":i.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:Pt(i,s,F,ue,h,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in u)ue=u[Fe],u.hasOwnProperty(Fe)&&ue!=null&&!h.hasOwnProperty(Fe)&&Pt(i,s,Fe,null,h,ue);for(le in h)if(ue=h[le],de=u[le],h.hasOwnProperty(le)&&ue!==de&&(ue!=null||de!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,s));break;default:Pt(i,s,le,ue,h,de)}return;default:if(Of(s)){for(var Dt in u)ue=u[Dt],u.hasOwnProperty(Dt)&&ue!==void 0&&!h.hasOwnProperty(Dt)&&Sp(i,s,Dt,void 0,h,ue);for(he in h)ue=h[he],de=u[he],!h.hasOwnProperty(he)||ue===de||ue===void 0&&de===void 0||Sp(i,s,he,ue,h,de);return}}for(var te in u)ue=u[te],u.hasOwnProperty(te)&&ue!=null&&!h.hasOwnProperty(te)&&Pt(i,s,te,null,h,ue);for(ve in h)ue=h[ve],de=u[ve],!h.hasOwnProperty(ve)||ue===de||ue==null&&de==null||Pt(i,s,ve,ue,h,de)}function sb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,u=performance.getEntriesByType("resource"),h=0;h<u.length;h++){var _=u[h],S=_.transferSize,I=_.initiatorType,U=_.duration;if(S&&U&&sb(I)){for(I=0,U=_.responseEnd,h+=1;h<u.length;h++){var F=u[h],le=F.startTime;if(le>U)break;var he=F.transferSize,ve=F.initiatorType;he&&sb(ve)&&(F=F.responseEnd,I+=he*(F<U?1:(U-le)/(F-le)))}if(--h,s+=8*(S+I)/(_.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var wp=null,Ep=null;function nc(i){return i.nodeType===9?i:i.ownerDocument}function ab(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lb(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Tp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var kp=null;function tR(){var i=window.event;return i&&i.type==="popstate"?i===kp?!1:(kp=i,!0):(kp=null,!1)}var ub=typeof setTimeout=="function"?setTimeout:void 0,nR=typeof clearTimeout=="function"?clearTimeout:void 0,cb=typeof Promise=="function"?Promise:void 0,rR=typeof queueMicrotask=="function"?queueMicrotask:typeof cb<"u"?function(i){return cb.resolve(null).then(i).catch(iR)}:ub;function iR(i){setTimeout(function(){throw i})}function ao(i){return i==="head"}function db(i,s){var u=s,h=0;do{var _=u.nextSibling;if(i.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"||u==="/&"){if(h===0){i.removeChild(_),Bs(s);return}h--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")h++;else if(u==="html")dl(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,dl(u);for(var S=u.firstChild;S;){var I=S.nextSibling,U=S.nodeName;S[Re]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=I}}else u==="body"&&dl(i.ownerDocument.body);u=_}while(u);Bs(s)}function fb(i,s){var u=i;i=0;do{var h=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),h&&h.nodeType===8)if(u=h.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=h}while(u)}function Cp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Cp(u),Ct(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function oR(i,s,u,h){for(;i.nodeType===1;){var _=u;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Re])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==_.rel||i.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||i.getAttribute("title")!==(_.title==null?null:_.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(_.src==null?null:_.src)||i.getAttribute("type")!==(_.type==null?null:_.type)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var S=_.name==null?null:""+_.name;if(_.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=Rr(i.nextSibling),i===null)break}return null}function sR(i,s,u){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Rr(i.nextSibling),i===null))return null;return i}function hb(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Rr(i.nextSibling),i===null))return null;return i}function Ap(i){return i.data==="$?"||i.data==="$~"}function Np(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function aR(i,s){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||u.readyState!=="loading")s();else{var h=function(){s(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Rr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Rp=null;function pb(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(s===0)return Rr(i.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}i=i.nextSibling}return null}function mb(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return i;s--}else u!=="/$"&&u!=="/&"||s++}i=i.previousSibling}return null}function gb(i,s,u){switch(s=nc(u),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function dl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ct(i)}var Ir=new Map,yb=new Set;function rc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ii=ce.d;ce.d={f:lR,r:uR,D:cR,C:dR,L:fR,m:hR,X:mR,S:pR,M:gR};function lR(){var i=Ii.f(),s=Zu();return i||s}function uR(i){var s=Cn(i);s!==null&&s.tag===5&&s.type==="form"?Dv(s):Ii.r(i)}var Vs=typeof document>"u"?null:document;function vb(i,s,u){var h=Vs;if(h&&typeof s=="string"&&s){var _=wr(s);_='link[rel="'+i+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),yb.has(_)||(yb.add(_),i={rel:i,crossOrigin:u,href:s},h.querySelector(_)===null&&(s=h.createElement("link"),In(s,"link",i),Lt(s),h.head.appendChild(s)))}}function cR(i){Ii.D(i),vb("dns-prefetch",i,null)}function dR(i,s){Ii.C(i,s),vb("preconnect",i,s)}function fR(i,s,u){Ii.L(i,s,u);var h=Vs;if(h&&i&&s){var _='link[rel="preload"][as="'+wr(s)+'"]';s==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+wr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+wr(u.imageSizes)+'"]')):_+='[href="'+wr(i)+'"]';var S=_;switch(s){case"style":S=js(i);break;case"script":S=Hs(i)}Ir.has(S)||(i=g({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:i,as:s},u),Ir.set(S,i),h.querySelector(_)!==null||s==="style"&&h.querySelector(fl(S))||s==="script"&&h.querySelector(hl(S))||(s=h.createElement("link"),In(s,"link",i),Lt(s),h.head.appendChild(s)))}}function hR(i,s){Ii.m(i,s);var u=Vs;if(u&&i){var h=s&&typeof s.as=="string"?s.as:"script",_='link[rel="modulepreload"][as="'+wr(h)+'"][href="'+wr(i)+'"]',S=_;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Hs(i)}if(!Ir.has(S)&&(i=g({rel:"modulepreload",href:i},s),Ir.set(S,i),u.querySelector(_)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(hl(S)))return}h=u.createElement("link"),In(h,"link",i),Lt(h),u.head.appendChild(h)}}}function pR(i,s,u){Ii.S(i,s,u);var h=Vs;if(h&&i){var _=hi(h).hoistableStyles,S=js(i);s=s||"default";var I=_.get(S);if(!I){var U={loading:0,preload:null};if(I=h.querySelector(fl(S)))U.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},u),(u=Ir.get(S))&&Ip(i,u);var F=I=h.createElement("link");Lt(F),In(F,"link",i),F._p=new Promise(function(le,he){F.onload=le,F.onerror=he}),F.addEventListener("load",function(){U.loading|=1}),F.addEventListener("error",function(){U.loading|=2}),U.loading|=4,ic(I,s,h)}I={type:"stylesheet",instance:I,count:1,state:U},_.set(S,I)}}}function mR(i,s){Ii.X(i,s);var u=Vs;if(u&&i){var h=hi(u).hoistableScripts,_=Hs(i),S=h.get(_);S||(S=u.querySelector(hl(_)),S||(i=g({src:i,async:!0},s),(s=Ir.get(_))&&Mp(i,s),S=u.createElement("script"),Lt(S),In(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(_,S))}}function gR(i,s){Ii.M(i,s);var u=Vs;if(u&&i){var h=hi(u).hoistableScripts,_=Hs(i),S=h.get(_);S||(S=u.querySelector(hl(_)),S||(i=g({src:i,async:!0,type:"module"},s),(s=Ir.get(_))&&Mp(i,s),S=u.createElement("script"),Lt(S),In(S,"link",i),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(_,S))}}function _b(i,s,u,h){var _=(_=X.current)?rc(_):null;if(!_)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=js(u.href),u=hi(_).hoistableStyles,h=u.get(s),h||(h={type:"style",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=js(u.href);var S=hi(_).hoistableStyles,I=S.get(i);if(I||(_=_.ownerDocument||_,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,I),(S=_.querySelector(fl(i)))&&!S._p&&(I.instance=S,I.state.loading=5),Ir.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ir.set(i,u),S||yR(_,i,u,I.state))),s&&h===null)throw Error(r(528,""));return I}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Hs(u),u=hi(_).hoistableScripts,h=u.get(s),h||(h={type:"script",instance:null,count:0,state:null},u.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function js(i){return'href="'+wr(i)+'"'}function fl(i){return'link[rel="stylesheet"]['+i+"]"}function bb(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function yR(i,s,u,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),In(s,"link",u),Lt(s),i.head.appendChild(s))}function Hs(i){return'[src="'+wr(i)+'"]'}function hl(i){return"script[async]"+i}function xb(i,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+wr(u.href)+'"]');if(h)return s.instance=h,Lt(h),h;var _=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Lt(h),In(h,"style",_),ic(h,u.precedence,i),s.instance=h;case"stylesheet":_=js(u.href);var S=i.querySelector(fl(_));if(S)return s.state.loading|=4,s.instance=S,Lt(S),S;h=bb(u),(_=Ir.get(_))&&Ip(h,_),S=(i.ownerDocument||i).createElement("link"),Lt(S);var I=S;return I._p=new Promise(function(U,F){I.onload=U,I.onerror=F}),In(S,"link",h),s.state.loading|=4,ic(S,u.precedence,i),s.instance=S;case"script":return S=Hs(u.src),(_=i.querySelector(hl(S)))?(s.instance=_,Lt(_),_):(h=u,(_=Ir.get(S))&&(h=g({},u),Mp(h,_)),i=i.ownerDocument||i,_=i.createElement("script"),Lt(_),In(_,"link",h),i.head.appendChild(_),s.instance=_);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,ic(h,u.precedence,i));return s.instance}function ic(i,s,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=h.length?h[h.length-1]:null,S=_,I=0;I<h.length;I++){var U=h[I];if(U.dataset.precedence===s)S=U;else if(S!==_)break}S?S.parentNode.insertBefore(i,S.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(i,s.firstChild))}function Ip(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Mp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var oc=null;function Sb(i,s,u){if(oc===null){var h=new Map,_=oc=new Map;_.set(u,h)}else _=oc,h=_.get(u),h||(h=new Map,_.set(u,h));if(h.has(i))return h;for(h.set(i,null),u=u.getElementsByTagName(i),_=0;_<u.length;_++){var S=u[_];if(!(S[Re]||S[yn]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var I=S.getAttribute(s)||"";I=i+I;var U=h.get(I);U?U.push(S):h.set(I,[S])}}return h}function wb(i,s,u){i=i.ownerDocument||i,i.head.insertBefore(u,s==="title"?i.querySelector("head > title"):null)}function vR(i,s,u){if(u===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Eb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function _R(i,s,u,h){if(u.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var _=js(h.href),S=s.querySelector(fl(_));if(S){s=S._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=sc.bind(i),s.then(i,i)),u.state.loading|=4,u.instance=S,Lt(S);return}S=s.ownerDocument||s,h=bb(h),(_=Ir.get(_))&&Ip(h,_),S=S.createElement("link"),Lt(S);var I=S;I._p=new Promise(function(U,F){I.onload=U,I.onerror=F}),In(S,"link",h),u.instance=S}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=sc.bind(i),s.addEventListener("load",u),s.addEventListener("error",u))}}var Pp=0;function bR(i,s){return i.stylesheets&&i.count===0&&lc(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var h=setTimeout(function(){if(i.stylesheets&&lc(i,i.stylesheets),i.unsuspend){var S=i.unsuspend;i.unsuspend=null,S()}},6e4+s);0<i.imgBytes&&Pp===0&&(Pp=62500*eR());var _=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&lc(i,i.stylesheets),i.unsuspend)){var S=i.unsuspend;i.unsuspend=null,S()}},(i.imgBytes>Pp?50:800)+s);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(_)}}:null}function sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ac=null;function lc(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ac=new Map,s.forEach(xR,i),ac=null,sc.call(i))}function xR(i,s){if(!(s.state.loading&4)){var u=ac.get(i);if(u)var h=u.get(null);else{u=new Map,ac.set(i,u);for(var _=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<_.length;S++){var I=_[S];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(u.set(I.dataset.precedence,I),h=I)}h&&u.set(null,h)}_=s.instance,I=_.getAttribute("data-precedence"),S=u.get(I)||h,S===h&&u.set(null,_),u.set(I,_),this.count++,h=sc.bind(this),_.addEventListener("load",h),_.addEventListener("error",h),S?S.parentNode.insertBefore(_,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(_,i.firstChild)),s.state.loading|=4}}var pl={$$typeof:A,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function SR(i,s,u,h,_,S,I,U,F){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lr(0),this.hiddenUpdates=lr(null),this.identifierPrefix=h,this.onUncaughtError=_,this.onCaughtError=S,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function Tb(i,s,u,h,_,S,I,U,F,le,he,ve){return i=new SR(i,s,u,I,F,le,he,ve,U),s=1,S===!0&&(s|=24),S=dr(3,null,null,s),i.current=S,S.stateNode=i,s=fh(),s.refCount++,i.pooledCache=s,s.refCount++,S.memoizedState={element:h,isDehydrated:u,cache:s},gh(S),i}function kb(i){return i?(i=bs,i):bs}function Cb(i,s,u,h,_,S){_=kb(_),h.context===null?h.context=_:h.pendingContext=_,h=Yi(s),h.payload={element:u},S=S===void 0?null:S,S!==null&&(h.callback=S),u=Xi(i,h,s),u!==null&&(nr(u,i,s),Ga(u,i,s))}function Ab(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function Dp(i,s){Ab(i,s),(i=i.alternate)&&Ab(i,s)}function Nb(i){if(i.tag===13||i.tag===31){var s=Oo(i,67108864);s!==null&&nr(s,i,67108864),Dp(i,67108864)}}function Rb(i){if(i.tag===13||i.tag===31){var s=gr();s=ur(s);var u=Oo(i,s);u!==null&&nr(u,i,s),Dp(i,s)}}var uc=!0;function wR(i,s,u,h){var _=G.T;G.T=null;var S=ce.p;try{ce.p=2,zp(i,s,u,h)}finally{ce.p=S,G.T=_}}function ER(i,s,u,h){var _=G.T;G.T=null;var S=ce.p;try{ce.p=8,zp(i,s,u,h)}finally{ce.p=S,G.T=_}}function zp(i,s,u,h){if(uc){var _=Op(h);if(_===null)xp(i,s,h,cc,u),Mb(i,h);else if(kR(_,i,s,u,h))h.stopPropagation();else if(Mb(i,h),s&4&&-1<TR.indexOf(i)){for(;_!==null;){var S=Cn(_);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var I=kn(S.pendingLanes);if(I!==0){var U=S;for(U.pendingLanes|=2,U.entangledLanes|=2;I;){var F=1<<31-De(I);U.entanglements[1]|=F,I&=~F}ii(S),(St&6)===0&&(Gu=Ee()+500,ll(0))}}break;case 31:case 13:U=Oo(S,2),U!==null&&nr(U,S,2),Zu(),Dp(S,2)}if(S=Op(h),S===null&&xp(i,s,h,cc,u),S===_)break;_=S}_!==null&&h.stopPropagation()}else xp(i,s,h,null,u)}}function Op(i){return i=$f(i),Up(i)}var cc=null;function Up(i){if(cc=null,i=zt(i),i!==null){var s=a(i);if(s===null)i=null;else{var u=s.tag;if(u===13){if(i=l(s),i!==null)return i;i=null}else if(u===31){if(i=c(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return cc=i,null}function Ib(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Te()){case re:return 2;case we:return 8;case ye:case Pe:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var $p=!1,lo=null,uo=null,co=null,ml=new Map,gl=new Map,fo=[],TR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mb(i,s){switch(i){case"focusin":case"focusout":lo=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":ml.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(s.pointerId)}}function yl(i,s,u,h,_,S){return i===null||i.nativeEvent!==S?(i={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:S,targetContainers:[_]},s!==null&&(s=Cn(s),s!==null&&Nb(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),i)}function kR(i,s,u,h,_){switch(s){case"focusin":return lo=yl(lo,i,s,u,h,_),!0;case"dragenter":return uo=yl(uo,i,s,u,h,_),!0;case"mouseover":return co=yl(co,i,s,u,h,_),!0;case"pointerover":var S=_.pointerId;return ml.set(S,yl(ml.get(S)||null,i,s,u,h,_)),!0;case"gotpointercapture":return S=_.pointerId,gl.set(S,yl(gl.get(S)||null,i,s,u,h,_)),!0}return!1}function Pb(i){var s=zt(i.target);if(s!==null){var u=a(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){i.blockedOn=s,Vi(i.priority,function(){Rb(u)});return}}else if(s===31){if(s=c(u),s!==null){i.blockedOn=s,Vi(i.priority,function(){Rb(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function dc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=Op(i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);Uf=h,u.target.dispatchEvent(h),Uf=null}else return s=Cn(u),s!==null&&Nb(s),i.blockedOn=u,!1;s.shift()}return!0}function Db(i,s,u){dc(i)&&u.delete(s)}function CR(){$p=!1,lo!==null&&dc(lo)&&(lo=null),uo!==null&&dc(uo)&&(uo=null),co!==null&&dc(co)&&(co=null),ml.forEach(Db),gl.forEach(Db)}function fc(i,s){i.blockedOn===s&&(i.blockedOn=null,$p||($p=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,CR)))}var hc=null;function zb(i){hc!==i&&(hc=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){hc===i&&(hc=null);for(var s=0;s<i.length;s+=3){var u=i[s],h=i[s+1],_=i[s+2];if(typeof h!="function"){if(Up(h||u)===null)continue;break}var S=Cn(u);S!==null&&(i.splice(s,3),s-=3,Oh(S,{pending:!0,data:_,method:u.method,action:h},h,_))}}))}function Bs(i){function s(F){return fc(F,i)}lo!==null&&fc(lo,i),uo!==null&&fc(uo,i),co!==null&&fc(co,i),ml.forEach(s),gl.forEach(s);for(var u=0;u<fo.length;u++){var h=fo[u];h.blockedOn===i&&(h.blockedOn=null)}for(;0<fo.length&&(u=fo[0],u.blockedOn===null);)Pb(u),u.blockedOn===null&&fo.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var _=u[h],S=u[h+1],I=_[xn]||null;if(typeof S=="function")I||zb(u);else if(I){var U=null;if(S&&S.hasAttribute("formAction")){if(_=S,I=S[xn]||null)U=I.formAction;else if(Up(_)!==null)continue}else U=I.action;typeof U=="function"?u[h+1]=U:(u.splice(h,3),h-=3),zb(u)}}}function Ob(){function i(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(I){return _=I})},focusReset:"manual",scroll:"manual"})}function s(){_!==null&&(_(),_=null),h||setTimeout(u,20)}function u(){if(!h&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,_=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),_!==null&&(_(),_=null)}}}function Lp(i){this._internalRoot=i}pc.prototype.render=Lp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,h=gr();Cb(u,h,i,s,null,null)},pc.prototype.unmount=Lp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Cb(i.current,2,null,i,null,null),Zu(),s[ji]=null}};function pc(i){this._internalRoot=i}pc.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ro();i={blockedOn:null,target:i,priority:s};for(var u=0;u<fo.length&&s!==0&&s<fo[u].priority;u++);fo.splice(u,0,i),u===0&&Pb(i)}};var Ub=t.version;if(Ub!=="19.2.3")throw Error(r(527,Ub,"19.2.3"));ce.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var AR={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{nt=mc.inject(AR),Se=mc}catch{}}return _l.createRoot=function(i,s){if(!o(i))throw Error(r(299));var u=!1,h="",_=Bv,S=Fv,I=Gv;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(_=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError)),s=Tb(i,1,!1,null,null,u,h,null,_,S,I,Ob),i[ji]=s.current,bp(i),new Lp(s)},_l.hydrateRoot=function(i,s,u){if(!o(i))throw Error(r(299));var h=!1,_="",S=Bv,I=Fv,U=Gv,F=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(U=u.onRecoverableError),u.formState!==void 0&&(F=u.formState)),s=Tb(i,1,!0,s,u??null,h,_,F,S,I,U,Ob),s.context=kb(null),u=s.current,h=gr(),h=ur(h),_=Yi(h),_.callback=null,Xi(u,_,h),u=h,s.current.lanes=u,ui(s,u),ii(s),i[ji]=s.current,bp(i),new pc(s)},_l.version="19.2.3",_l}var Jb;function $R(){if(Jb)return jp.exports;Jb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jp.exports=UR(),jp.exports}var LR=$R();const qR=as(LR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jR=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Zb=e=>{const t=jR(e);return t.charAt(0).toUpperCase()+t.slice(1)},TT=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),HR=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=oe.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:l,...c},d)=>oe.createElement("svg",{ref:d,...BR,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:TT("lucide",o),...!a&&!HR(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,p])=>oe.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(e,t)=>{const n=oe.forwardRef(({className:r,...o},a)=>oe.createElement(FR,{ref:a,iconNode:t,className:TT(`lucide-${VR(Zb(e))}`,`lucide-${e}`,r),...o}));return n.displayName=Zb(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Oi=it("activity",GR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],ZR=it("box",JR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],la=it("check",KR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],jl=it("chevron-down",YR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],of=it("chevron-right",XR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Nd=it("circle-alert",QR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],e2=it("clock",WR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Pm=it("copy",t2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ko=it("database",n2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],i2=it("download",r2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],s2=it("ellipsis-vertical",o2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],l2=it("external-link",a2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],c2=it("file-braces",u2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],f2=it("file-code",d2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],p2=it("file",h2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],g2=it("globe",m2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Kb=it("layers",y2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],_2=it("layout-list",v2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],x2=it("link",b2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bo=it("loader-circle",S2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Dm=it("lock-open",w2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Rd=it("lock",E2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ol=it("message-square",T2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],C2=it("moon",k2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],N2=it("panel-left",A2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],kT=it("play",R2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zm=it("plus",I2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Id=it("radio",M2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gc=it("search",P2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$g=it("send",D2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],O2=it("settings",z2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],$2=it("sparkles",U2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],q2=it("sun",L2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Yb=it("terminal",V2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Gp=it("trash-2",j2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],B2=it("upload",H2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Xb=it("wrench",F2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jr=it("x",G2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317",key:"193nxd"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773",key:"27a7lr"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643",key:"1e0qe9"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Z2=it("zap-off",J2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Hl=it("zap",K2),CT=oe.createContext(void 0),Y2=({children:e})=>{const[t,n]=oe.useState(()=>{const o=localStorage.getItem("theme");return o==="dark"||o==="light"?o:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});oe.useLayoutEffect(()=>{const o=document.documentElement,a=document.body;t==="dark"?(o.classList.add("dark"),a.classList.add("dark")):(o.classList.remove("dark"),a.classList.remove("dark")),localStorage.setItem("theme",t)},[t]);const r=()=>{n(o=>o==="light"?"dark":"light")};return x.jsx(CT.Provider,{value:{theme:t,toggleTheme:r},children:e})},X2=()=>{const e=oe.useContext(CT);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Qb={};function Q2(e,t){const[n,r]=oe.useState(()=>{try{const c=Qb[e];if(c)return{...t,...c}}catch(c){console.warn("Failed to load endpoint state from memory",c)}return t});oe.useEffect(()=>{try{Qb[e]=n}catch(c){console.warn("Failed to save endpoint state to memory",c)}},[n,e]);const o=oe.useCallback(c=>{r(d=>({...d,paramValues:typeof c=="function"?c(d.paramValues):c}))},[]),a=oe.useCallback(c=>{r(d=>({...d,bodyValue:c}))},[]),l=oe.useCallback(c=>{r(d=>({...d,activeTab:c}))},[]);return{paramValues:n.paramValues,bodyValue:n.bodyValue,activeTab:n.activeTab,setParamValues:o,setBodyValue:a,setActiveTab:l}}const W2=e=>{if(!e)return"";const t=[],n=/(<\/?[\w:]+)|(\s+[\w:]+)=(["'][^"']*["'])|([^<>]+)|([<>])/g;let r,o=0;for(;r=n.exec(e);){const[a,l,c,d,f,p]=r;l?t.push(x.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold",children:l},o++)):c?(t.push(x.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:c},o++)),t.push(x.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"="},o++))):d?t.push(x.jsx("span",{className:"text-emerald-600 dark:text-emerald-400",children:d},o++)):f&&f.trim()?t.push(x.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:f},o++)):p?t.push(x.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:p},o++)):a&&t.push(x.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:a},o++))}return x.jsx(x.Fragment,{children:t})},AT=e=>e?x.jsx(x.Fragment,{children:(()=>{const t=[];let n=0,r;const o=/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g;for(;r=o.exec(e);){const a=r.index;a>n&&t.push(x.jsx("span",{children:e.substring(n,a)},`text-${n}`));const l=r[0];let c="text-slate-600 dark:text-slate-300";if(r[1].startsWith('"'))if(r[1].endsWith(":")){c="text-blue-600 dark:text-blue-400 font-semibold";const d=l.slice(0,-1);t.push(x.jsx("span",{className:c,children:d},a)),t.push(x.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:":"},`${a}-colon`)),n=o.lastIndex;continue}else c="text-emerald-600 dark:text-emerald-400";else/true|false/.test(l)?c="text-amber-600 dark:text-amber-400 font-bold":/null/.test(l)?c="text-red-500 dark:text-red-400 font-bold":c="text-purple-600 dark:text-purple-400";t.push(x.jsx("span",{className:c,children:l},a)),n=o.lastIndex}return n<e.length&&t.push(x.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:e.substring(n)},"remaining")),t})()}):"",eI=e=>{if(typeof e!="string")return!1;const t=e.trim();return t.startsWith("<?xml")||t.startsWith("<")&&t.endsWith(">")&&t.includes("</")},tI=e=>{try{let n="",r=0;e=e.replace(/>\s+</g,"><").trim();const o=/<([^>?!][^>]*?)>([^<]*)<\/\1>|<[^>]+>/g;let a,l=0;for(;(a=o.exec(e))!==null;){const c=a[0];c.startsWith("<?")||c.startsWith("<!--")?n+=c+`
`:c.endsWith("/>")||a[1]?n+="  ".repeat(r)+c+`
`:c.startsWith("<")&&!c.startsWith("</")?(n+="  ".repeat(r)+c+`
`,r++):c.startsWith("</")&&(r=Math.max(0,r-1),n+="  ".repeat(r)+c+`
`),l=o.lastIndex}return n.trim()}catch(t){console.error("XML formatting error:",t);try{let n="",r=0;return e.replace(/>\s*</g,`>
<`).split(`
`).forEach(a=>{const l=a.trim();l&&(l.startsWith("</")&&(r=Math.max(0,r-1)),n+="  ".repeat(r)+l+`
`,l.startsWith("<")&&!l.startsWith("</")&&!l.endsWith("/>")&&!l.startsWith("<?")&&!l.includes("</")&&r++)}),n.trim()}catch{return e}}},ma=({data:e,className:t=""})=>{if(typeof e=="string"&&eI(e)){const a=tI(e);return x.jsx("pre",{className:`font-mono text-xs whitespace-pre-wrap break-all leading-relaxed ${t}`,children:W2(a)})}const n=a=>{if(typeof a=="string"){const l=a.trim();if(l.startsWith("{")&&l.endsWith("}")||l.startsWith("[")&&l.endsWith("]"))try{const c=JSON.parse(a);if(typeof c=="object"&&c!==null)return n(c)}catch{}return a}if(Array.isArray(a))return a.map(l=>n(l));if(typeof a=="object"&&a!==null){const l={};return Object.keys(a).forEach(c=>{l[c]=n(a[c])}),l}return a},r=n(e),o=JSON.stringify(r,null,2);return x.jsx("pre",{className:`font-mono text-xs whitespace-pre-wrap break-all leading-relaxed ${t}`,children:AT(o)})};var rr={},Wb;function nI(){if(Wb)return rr;Wb=1;var e=rr&&rr.__assign||function(){return e=Object.assign||function(C){for(var N,P=1,L=arguments.length;P<L;P++){N=arguments[P];for(var j in N)Object.prototype.hasOwnProperty.call(N,j)&&(C[j]=N[j])}return C},e.apply(this,arguments)},t=rr&&rr.__createBinding||(Object.create?(function(C,N,P,L){L===void 0&&(L=P);var j=Object.getOwnPropertyDescriptor(N,P);(!j||("get"in j?!N.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return N[P]}}),Object.defineProperty(C,L,j)}):(function(C,N,P,L){L===void 0&&(L=P),C[L]=N[P]})),n=rr&&rr.__setModuleDefault||(Object.create?(function(C,N){Object.defineProperty(C,"default",{enumerable:!0,value:N})}):function(C,N){C.default=N}),r=rr&&rr.__importStar||function(C){if(C&&C.__esModule)return C;var N={};if(C!=null)for(var P in C)P!=="default"&&Object.prototype.hasOwnProperty.call(C,P)&&t(N,C,P);return n(N,C),N},o=rr&&rr.__rest||function(C,N){var P={};for(var L in C)Object.prototype.hasOwnProperty.call(C,L)&&N.indexOf(L)<0&&(P[L]=C[L]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,L=Object.getOwnPropertySymbols(C);j<L.length;j++)N.indexOf(L[j])<0&&Object.prototype.propertyIsEnumerable.call(C,L[j])&&(P[L[j]]=C[L[j]]);return P};Object.defineProperty(rr,"__esModule",{value:!0});var a=r(rf()),l=89,c=90,d=77,f=57,p=219,g=222,v=192,b=100,E=3e3,R=typeof window<"u"&&"navigator"in window&&/Win/i.test(navigator.platform),k=typeof window<"u"&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),w="npm__react-simple-code-editor__textarea",T=`
/**
 * Reset the text fill color so that placeholder is visible
 */
.`.concat(w,`:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .`).concat(w,` {
    color: transparent !important;
  }

  .`).concat(w,`::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
`),A=a.forwardRef(function(N,P){var L=N.autoFocus,j=N.disabled,q=N.form,H=N.highlight,K=N.ignoreTabKey,ee=K===void 0?!1:K,Q=N.insertSpaces,W=Q===void 0?!0:Q,G=N.maxLength,ce=N.minLength,_e=N.name,ze=N.onBlur,$=N.onClick,z=N.onFocus,B=N.onKeyDown,D=N.onKeyUp,O=N.onValueChange,V=N.padding,X=V===void 0?0:V,se=N.placeholder,xe=N.preClassName,Ce=N.readOnly,Ue=N.required,Y=N.style,ne=N.tabSize,me=ne===void 0?2:ne,be=N.textareaClassName,Ae=N.textareaId,He=N.value,It=o(N,["autoFocus","disabled","form","highlight","ignoreTabKey","insertSpaces","maxLength","minLength","name","onBlur","onClick","onFocus","onKeyDown","onKeyUp","onValueChange","padding","placeholder","preClassName","readOnly","required","style","tabSize","textareaClassName","textareaId","value"]),Ye=a.useRef({stack:[],offset:-1}),gt=a.useRef(null),wt=a.useState(!0),xt=wt[0],Tn=wt[1],fe={paddingTop:typeof X=="object"?X.top:X,paddingRight:typeof X=="object"?X.right:X,paddingBottom:typeof X=="object"?X.bottom:X,paddingLeft:typeof X=="object"?X.left:X},Ee=H(He),Te=function(Se,Ze){return Se.substring(0,Ze).split(`
`)},re=a.useCallback(function(Se,Ze){var De,Ge,ht;Ze===void 0&&(Ze=!1);var nn=Ye.current,bn=nn.stack,kt=nn.offset;if(bn.length&&kt>-1){Ye.current.stack=bn.slice(0,kt+1);var Hn=Ye.current.stack.length;if(Hn>b){var kn=Hn-b;Ye.current.stack=bn.slice(kn,Hn),Ye.current.offset=Math.max(Ye.current.offset-kn,0)}}var gn=Date.now();if(Ze){var sn=Ye.current.stack[Ye.current.offset];if(sn&&gn-sn.timestamp<E){var Wr=/[^a-z0-9]([a-z0-9]+)$/i,an=(De=Te(sn.value,sn.selectionStart).pop())===null||De===void 0?void 0:De.match(Wr),lr=(Ge=Te(Se.value,Se.selectionStart).pop())===null||Ge===void 0?void 0:Ge.match(Wr);if(an!=null&&an[1]&&(!((ht=lr==null?void 0:lr[1])===null||ht===void 0)&&ht.startsWith(an[1]))){Ye.current.stack[Ye.current.offset]=e(e({},Se),{timestamp:gn});return}}}Ye.current.stack.push(e(e({},Se),{timestamp:gn})),Ye.current.offset++},[]),we=a.useCallback(function(){var Se=gt.current;if(Se){var Ze=Se.value,De=Se.selectionStart,Ge=Se.selectionEnd;re({value:Ze,selectionStart:De,selectionEnd:Ge})}},[re]),ye=function(Se){var Ze=gt.current;Ze&&(Ze.value=Se.value,Ze.selectionStart=Se.selectionStart,Ze.selectionEnd=Se.selectionEnd,O==null||O(Se.value))},Pe=function(Se){var Ze=gt.current,De=Ye.current.stack[Ye.current.offset];De&&Ze&&(Ye.current.stack[Ye.current.offset]=e(e({},De),{selectionStart:Ze.selectionStart,selectionEnd:Ze.selectionEnd})),re(Se),ye(Se)},Ve=function(){var Se=Ye.current,Ze=Se.stack,De=Se.offset,Ge=Ze[De-1];Ge&&(ye(Ge),Ye.current.offset=Math.max(De-1,0))},Gt=function(){var Se=Ye.current,Ze=Se.stack,De=Se.offset,Ge=Ze[De+1];Ge&&(ye(Ge),Ye.current.offset=Math.min(De+1,Ze.length-1))},mn=function(Se){if(!(B&&(B(Se),Se.defaultPrevented))){Se.key==="Escape"&&Se.currentTarget.blur();var Ze=Se.currentTarget,De=Ze.value,Ge=Ze.selectionStart,ht=Ze.selectionEnd,nn=(W?" ":"	").repeat(me);if(Se.key==="Tab"&&!ee&&xt)if(Se.preventDefault(),Se.shiftKey){var bn=Te(De,Ge),kt=bn.length-1,Hn=Te(De,ht).length-1,kn=De.split(`
`).map(function(ur,di){return di>=kt&&di<=Hn&&ur.startsWith(nn)?ur.substring(nn.length):ur}).join(`
`);if(De!==kn){var gn=bn[kt];Pe({value:kn,selectionStart:gn!=null&&gn.startsWith(nn)?Ge-nn.length:Ge,selectionEnd:ht-(De.length-kn.length)})}}else if(Ge!==ht){var bn=Te(De,Ge),sn=bn.length-1,Wr=Te(De,ht).length-1,gn=bn[sn];Pe({value:De.split(`
`).map(function(Ro,Vi){return Vi>=sn&&Vi<=Wr?nn+Ro:Ro}).join(`
`),selectionStart:gn&&/\S/.test(gn)?Ge+nn.length:Ge,selectionEnd:ht+nn.length*(Wr-sn+1)})}else{var an=Ge+nn.length;Pe({value:De.substring(0,Ge)+nn+De.substring(ht),selectionStart:an,selectionEnd:an})}else if(Se.key==="Backspace"){var lr=Ge!==ht,ui=De.substring(0,Ge);if(ui.endsWith(nn)&&!lr){Se.preventDefault();var an=Ge-nn.length;Pe({value:De.substring(0,Ge-nn.length)+De.substring(ht),selectionStart:an,selectionEnd:an})}}else if(Se.key==="Enter"){if(Ge===ht){var Ao=Te(De,Ge).pop(),ci=Ao==null?void 0:Ao.match(/^\s+/);if(ci!=null&&ci[0]){Se.preventDefault();var No=`
`+ci[0],an=Ge+No.length;Pe({value:De.substring(0,Ge)+No+De.substring(ht),selectionStart:an,selectionEnd:an})}}}else if(Se.keyCode===f||Se.keyCode===p||Se.keyCode===g||Se.keyCode===v){var Yn=void 0;Se.keyCode===f&&Se.shiftKey?Yn=["(",")"]:Se.keyCode===p?Se.shiftKey?Yn=["{","}"]:Yn=["[","]"]:Se.keyCode===g?Se.shiftKey?Yn=['"','"']:Yn=["'","'"]:Se.keyCode===v&&!Se.shiftKey&&(Yn=["`","`"]),Ge!==ht&&Yn&&(Se.preventDefault(),Pe({value:De.substring(0,Ge)+Yn[0]+De.substring(Ge,ht)+Yn[1]+De.substring(ht),selectionStart:Ge,selectionEnd:ht+2}))}else(k?Se.metaKey&&Se.keyCode===c:Se.ctrlKey&&Se.keyCode===c)&&!Se.shiftKey&&!Se.altKey?(Se.preventDefault(),Ve()):(k?Se.metaKey&&Se.keyCode===c&&Se.shiftKey:R?Se.ctrlKey&&Se.keyCode===l:Se.ctrlKey&&Se.keyCode===c&&Se.shiftKey)&&!Se.altKey?(Se.preventDefault(),Gt()):Se.keyCode===d&&Se.ctrlKey&&(!k||Se.shiftKey)&&(Se.preventDefault(),Tn(function(ur){return!ur}))}},nt=function(Se){var Ze=Se.currentTarget,De=Ze.value,Ge=Ze.selectionStart,ht=Ze.selectionEnd;re({value:De,selectionStart:Ge,selectionEnd:ht},!0),O(De)};return a.useEffect(function(){we()},[we]),a.useImperativeHandle(P,function(){return{get session(){return{history:Ye.current}},set session(Se){Ye.current=Se.history}}},[]),a.createElement("div",e({},It,{style:e(e({},M.container),Y)}),a.createElement("pre",e({className:xe,"aria-hidden":"true",style:e(e(e({},M.editor),M.highlight),fe)},typeof Ee=="string"?{dangerouslySetInnerHTML:{__html:Ee+"<br />"}}:{children:Ee})),a.createElement("textarea",{ref:function(Se){return gt.current=Se},style:e(e(e({},M.editor),M.textarea),fe),className:w+(be?" ".concat(be):""),id:Ae,value:He,onChange:nt,onKeyDown:mn,onClick:$,onKeyUp:D,onFocus:z,onBlur:ze,disabled:j,form:q,maxLength:G,minLength:ce,name:_e,placeholder:se,readOnly:Ce,required:Ue,autoFocus:L,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),a.createElement("style",{dangerouslySetInnerHTML:{__html:T}}))}),M={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}};return rr.default=A,rr}var rI=nI();const iI=as(rI),oI=({value:e,onChange:t,className:n="",placeholder:r})=>x.jsx("div",{className:`relative w-full h-full flex flex-col font-mono text-xs bg-slate-50 dark:bg-slate-900 overflow-hidden ${n}`,children:x.jsx(iI,{value:e,onValueChange:t,highlight:o=>AT(o),padding:12,placeholder:r,className:"font-mono text-xs min-h-full",textareaClassName:"focus:outline-none",style:{fontFamily:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',fontSize:12,minHeight:"100%"}})}),ua=({content:e,className:t=""})=>{if(!e)return null;const n=o=>{const a=[],l=/(\*\*(.*?)\*\*|\*(.*?)\*|`(.*?)`|\[(.*?)\]\((.*?)\))/g;let c=0,d;for(;d=l.exec(o);)d.index>c&&a.push(o.substring(c,d.index)),d[1].startsWith("**")?a.push(x.jsx("strong",{className:"font-bold text-slate-800 dark:text-amber-200",children:d[2]},d.index)):d[1].startsWith("`")?a.push(x.jsx("code",{className:"bg-slate-100 dark:bg-slate-800/80 px-1.5 py-0.5 rounded text-xs font-mono text-pink-600 dark:text-pink-300 border border-slate-200 dark:border-slate-700/50",children:d[4]},d.index)):d[1].startsWith("[")?a.push(x.jsx("a",{href:d[6],target:"_blank",rel:"noreferrer",className:"text-cyan-600 dark:text-cyan-400 hover:text-cyan-500 dark:hover:text-cyan-300 hover:underline transition-colors",children:d[5]},d.index)):a.push(x.jsx("em",{className:"italic text-emerald-700/80 dark:text-emerald-200/80",children:d[3]},d.index)),c=l.lastIndex;return c<o.length&&a.push(o.substring(c)),a.length===0?[o]:a},r=e.split(/(```[\s\S]*?```)/g);return x.jsx("div",{className:`text-slate-600 dark:text-slate-300 text-sm leading-relaxed space-y-3 ${t}`,children:r.map((o,a)=>{if(o.startsWith("```")){const l=o.match(/```(\w*)\n?([\s\S]*?)```/);if(l){const c=(l[1]||"text").toLowerCase(),d=l[2].trim();if(c==="json"){let f=null;try{f=JSON.parse(d)}catch{}if(f)return x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 rounded-md border border-slate-200 dark:border-slate-800 p-3 overflow-x-auto my-3 shadow-inner relative group",children:[x.jsx("div",{className:"flex justify-between items-center mb-1 text-[10px] text-slate-500 uppercase tracking-wider font-bold",children:x.jsx("span",{children:c})}),x.jsx(ma,{data:f})]},a)}return x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 rounded-md border border-slate-200 dark:border-slate-800 p-3 overflow-x-auto my-3 shadow-inner relative group",children:[x.jsx("div",{className:"flex justify-between items-center mb-1 text-[10px] text-slate-500 uppercase tracking-wider font-bold",children:x.jsx("span",{children:c})}),x.jsx("pre",{className:"font-mono text-xs text-blue-800/90 dark:text-blue-100/90 whitespace-pre",children:d})]},a)}return null}else{const l=o.split(`
`),c=[];let d=!1,f=[];return l.forEach((p,g)=>{const v=p.trim();if(!(!v&&!d)){if(v.startsWith("#")){d&&(c.push(x.jsx("ul",{className:"list-disc list-outside ml-4 space-y-1 mb-3 text-slate-600 dark:text-slate-300",children:f},`list-${a}-${g}`)),d=!1,f=[]);const b=v.match(/^(#+)\s+(.*)/);if(b){const E=b[1].length,R=b[2];let k="",w="h4";switch(E){case 1:w="h1",k="text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400 border-b border-slate-200 dark:border-slate-700/50 pb-1";break;case 2:w="h2",k="text-base font-bold text-indigo-600 dark:text-indigo-300";break;case 3:w="h3",k="text-sm font-bold text-emerald-600 dark:text-emerald-300";break;default:w="h4",k="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide";break}c.push(x.jsx(w,{className:`${k} mt-5 mb-2 first:mt-0`,children:n(R)},`h-${a}-${g}`));return}}if(v.match(/^(\*|-)\s/)){d||(d=!0),f.push(x.jsx("li",{className:"pl-1 marker:text-slate-400 dark:marker:text-slate-600",children:n(v.substring(2))},`li-${a}-${g}`));return}if(d&&(c.push(x.jsx("ul",{className:"list-disc list-outside ml-4 space-y-1 mb-3 text-slate-600 dark:text-slate-300",children:f},`list-${a}-${g}`)),d=!1,f=[]),v.startsWith("> ")){c.push(x.jsx("blockquote",{className:"border-l-4 border-amber-500/50 pl-4 py-2 my-2 text-amber-800/80 dark:text-amber-200/80 italic bg-amber-50 dark:bg-amber-950/10 rounded-r",children:n(v.substring(2))},`bq-${a}-${g}`));return}v&&c.push(x.jsx("p",{className:"mb-2 last:mb-0 text-slate-600 dark:text-slate-300 leading-relaxed",children:n(p)},`p-${a}-${g}`))}}),d&&c.push(x.jsx("ul",{className:"list-disc list-outside ml-4 space-y-1 mb-3 text-slate-600 dark:text-slate-300",children:f},`list-${a}-end`)),x.jsx("div",{children:c},a)}})})};var Ln=(e=>(e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e.PATCH="PATCH",e))(Ln||{});const sI={[Ln.GET]:"bg-blue-500/10 text-blue-400 border-blue-500/20",[Ln.POST]:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",[Ln.PUT]:"bg-amber-500/10 text-amber-400 border-amber-500/20",[Ln.DELETE]:"bg-red-500/10 text-red-400 border-red-500/20",[Ln.PATCH]:"bg-purple-500/10 text-purple-400 border-purple-500/20"},NT=({method:e,className:t=""})=>x.jsx("span",{className:`px-2.5 py-0.5 rounded text-[10px] font-bold tracking-wider border ${sI[e]} ${t}`,children:e}),aI=async(e,t,n,r,o={})=>e.includes("api.cosmos-store.io")?uI(t,n,r):lI(e,t,n,r,o),lI=async(e,t,n,r,o={})=>{const a=performance.now(),l=`${e.replace(/\/$/,"")}${n}`;try{const c={method:t,headers:{...o}};r&&(typeof r=="string"?(c.headers||(c.headers={}),c.headers["Content-Type"]="application/json",c.body=r):(c.body=r,c.headers&&c.headers["Content-Type"]&&delete c.headers["Content-Type"]));const d=await fetch(l,c),f=performance.now();let p;const g=d.headers.get("content-type");return g&&g.includes("application/json")?p=await d.json():p=await d.text(),{status:d.status,data:p,latency:Math.round(f-a)}}catch(c){return{status:0,data:{error:"Network Error",details:c.message},latency:0}}},uI=async(e,t,n)=>new Promise(r=>{const o=Math.floor(Math.random()*900)+300;setTimeout(()=>{var c,d,f;let a=200,l={};if(e===Ln.GET)if(t.includes("/products")&&!t.includes("/products/"))l={items:[{id:1,name:"Quantum Processor",price:1299.99,stock:50,category:"Hardware"},{id:2,name:"Holographic Display",price:899.5,stock:12,category:"Displays"},{id:3,name:"Neural Interface",price:2450,stock:5,category:"Implants"}],skip:0,limit:10,total:3};else if(t.match(/\/products\/\d+/))l={id:101,name:"Flux Capacitor",price:5e5,description:"Time travel device",stock:1,category:"Exotic"};else if(t.includes("/users")&&!t.includes("/users/"))l=[{id:1,username:"admin",email:"admin@cosmos.io",is_active:!0,created_at:"2024-01-01T10:00:00Z"},{id:2,username:"user",email:"user@cosmos.io",is_active:!0,created_at:"2024-01-02T11:00:00Z"}];else if(t.match(/\/users\/\d+/))l={id:99,username:"neo_anderson",email:"neo@matrix.io",full_name:"Thomas Anderson",is_active:!0};else if(t.includes("/orders")&&!t.includes("/orders/"))l=[{id:501,user_id:1,product_id:2,quantity:1,total_price:899.5,status:"completed"},{id:502,user_id:2,product_id:1,quantity:2,total_price:2599.98,status:"pending"}];else if(t.match(/\/orders\/\d+/))l={id:501,user_id:1,product_id:2,quantity:1,total_price:899.5,status:"completed"};else if(t.includes("/posts")&&!t.includes("/posts/"))l=[{id:1,title:"Welcome to Cosmos",content:"The future is here.",author:"admin",published:!0},{id:2,title:"New Arrivals",content:"Check out our latest quantum chips.",author:"sales",published:!0}];else if(t.match(/\/posts\/\d+/))l={id:1,title:"Welcome to Cosmos",content:"The future is here.",author:"admin",published:!0};else if(t.includes("/files")&&!t.includes("/files/"))l={files:["blueprint_v1.png","schematic_final.pdf","logo.svg"]};else if(t.match(/\/files\/.+/)){const p=t.split("/").pop();l={filename:p,size:1024*5,url:`https://cdn.cosmos-store.io/uploads/${p}`}}else t==="/"?l={message:"Welcome to Test API - Full CRUD Operations"}:l={message:"Mock data for "+t};else if(e===Ln.POST)if(a=201,n instanceof FormData)l={message:"File uploaded successfully",filename:((c=n.get("file"))==null?void 0:c.name)||"unknown.png",size:((d=n.get("file"))==null?void 0:d.size)||0,content_type:(f=n.get("file"))==null?void 0:f.type,id:"upload_"+Math.floor(Math.random()*1e3)},a=200;else try{const p=n?JSON.parse(n):{};if(t.includes("calculate")){a=200;const{a:g,b:v,operation:b}=p;let E=0;b==="add"?E=g+v:b==="subtract"?E=g-v:b==="multiply"?E=g*v:b==="divide"&&(E=g/v),l={result:E,operation:b,inputs:{a:g,b:v}}}else t.includes("echo")?(a=200,l={...p,server_timestamp:new Date().toISOString()}):l={id:Math.floor(Math.random()*1e3),created_at:new Date().toISOString(),...p}}catch{a=400,l={error:"Invalid JSON body"}}else e===Ln.PUT||e===Ln.PATCH?(a=200,l={message:"Resource updated successfully",updated_at:new Date().toISOString(),...typeof n=="string"?JSON.parse(n):{}}):e===Ln.DELETE&&(a=200,l={message:"Resource deleted successfully"});Math.random()<.05&&(a=500,l={error:"Internal Server Error",code:"SERVER_CRASH"}),r({status:a,data:l,latency:o})},o)});var cI={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let dI,fI;function hI(){return{geminiUrl:dI,vertexUrl:fI}}function pI(e,t,n,r){var o,a;if(!(e!=null&&e.baseUrl)){const l=hI();return t?(o=l.vertexUrl)!==null&&o!==void 0?o:n:(a=l.geminiUrl)!==null&&a!==void 0?a:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $i{}function Me(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const a=t[o];return a!=null?String(a):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function y(e,t,n){for(let a=0;a<t.length-1;a++){const l=t[a];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in e))if(Array.isArray(n))e[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[c])){const d=e[c];if(Array.isArray(n))for(let f=0;f<d.length;f++){const p=d[f];y(p,t.slice(a+1),n[f])}else for(const f of d)y(f,t.slice(a+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in e||(e[c]=[{}]);const d=e[c];y(d[0],t.slice(a+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],o=e[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function m(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const o=t[r];if(o.endsWith("[]")){const a=o.slice(0,-2);if(a in e){const l=e[a];return Array.isArray(l)?l.map(c=>m(c,t.slice(r+1),n)):n}else return n}else e=e[o]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function mI(e,t){for(const[n,r]of Object.entries(t)){const o=n.split("."),a=r.split("."),l=new Set;let c=-1;for(let d=0;d<o.length;d++)if(o[d]==="*"){c=d;break}if(c!==-1&&a.length>c)for(let d=c;d<a.length;d++){const f=a[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}Om(e,o,a,0,l)}}function Om(e,t,n,r,o){if(r>=t.length||typeof e!="object"||e===null)return;const a=t[r];if(a.endsWith("[]")){const l=a.slice(0,-2),c=e;if(l in c&&Array.isArray(c[l]))for(const d of c[l])Om(d,t,n,r+1,o)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,c=Object.keys(l).filter(f=>!f.startsWith("_")&&!o.has(f)),d={};for(const f of c)d[f]=l[f];for(const[f,p]of Object.entries(d)){const g=[];for(const v of n.slice(r))v==="*"?g.push(f):g.push(v);y(l,g,p)}for(const f of c)delete l[f]}}else{const l=e;a in l&&Om(l[a],t,n,r+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lg(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gI(e){const t={},n=m(e,["operationName"]);n!=null&&y(t,["operationName"],n);const r=m(e,["resourceName"]);return r!=null&&y(t,["_url","resourceName"],r),t}function yI(e){const t={},n=m(e,["name"]);n!=null&&y(t,["name"],n);const r=m(e,["metadata"]);r!=null&&y(t,["metadata"],r);const o=m(e,["done"]);o!=null&&y(t,["done"],o);const a=m(e,["error"]);a!=null&&y(t,["error"],a);const l=m(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],_I(l)),t}function vI(e){const t={},n=m(e,["name"]);n!=null&&y(t,["name"],n);const r=m(e,["metadata"]);r!=null&&y(t,["metadata"],r);const o=m(e,["done"]);o!=null&&y(t,["done"],o);const a=m(e,["error"]);a!=null&&y(t,["error"],a);const l=m(e,["response"]);return l!=null&&y(t,["response"],bI(l)),t}function _I(e){const t={},n=m(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>xI(l))),y(t,["generatedVideos"],a)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const o=m(e,["raiMediaFilteredReasons"]);return o!=null&&y(t,["raiMediaFilteredReasons"],o),t}function bI(e){const t={},n=m(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>SI(l))),y(t,["generatedVideos"],a)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const o=m(e,["raiMediaFilteredReasons"]);return o!=null&&y(t,["raiMediaFilteredReasons"],o),t}function xI(e){const t={},n=m(e,["video"]);return n!=null&&y(t,["video"],AI(n)),t}function SI(e){const t={},n=m(e,["_self"]);return n!=null&&y(t,["video"],NI(n)),t}function wI(e){const t={},n=m(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function EI(e){const t={},n=m(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function TI(e){const t={},n=m(e,["name"]);n!=null&&y(t,["name"],n);const r=m(e,["metadata"]);r!=null&&y(t,["metadata"],r);const o=m(e,["done"]);o!=null&&y(t,["done"],o);const a=m(e,["error"]);a!=null&&y(t,["error"],a);const l=m(e,["response"]);return l!=null&&y(t,["response"],kI(l)),t}function kI(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["parent"]);r!=null&&y(t,["parent"],r);const o=m(e,["documentName"]);return o!=null&&y(t,["documentName"],o),t}function RT(e){const t={},n=m(e,["name"]);n!=null&&y(t,["name"],n);const r=m(e,["metadata"]);r!=null&&y(t,["metadata"],r);const o=m(e,["done"]);o!=null&&y(t,["done"],o);const a=m(e,["error"]);a!=null&&y(t,["error"],a);const l=m(e,["response"]);return l!=null&&y(t,["response"],CI(l)),t}function CI(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["parent"]);r!=null&&y(t,["parent"],r);const o=m(e,["documentName"]);return o!=null&&y(t,["documentName"],o),t}function AI(e){const t={},n=m(e,["uri"]);n!=null&&y(t,["uri"],n);const r=m(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],Lg(r));const o=m(e,["encoding"]);return o!=null&&y(t,["mimeType"],o),t}function NI(e){const t={},n=m(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=m(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],Lg(r));const o=m(e,["mimeType"]);return o!=null&&y(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ex;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ex||(ex={}));var tx;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(tx||(tx={}));var nx;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(nx||(nx={}));var vo;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(vo||(vo={}));var rx;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(rx||(rx={}));var ix;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(ix||(ix={}));var ox;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ox||(ox={}));var sx;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(sx||(sx={}));var ax;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(ax||(ax={}));var lx;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(lx||(lx={}));var ux;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(ux||(ux={}));var cx;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(cx||(cx={}));var dx;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(dx||(dx={}));var fx;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(fx||(fx={}));var hx;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(hx||(hx={}));var px;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(px||(px={}));var mx;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(mx||(mx={}));var gx;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(gx||(gx={}));var yx;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(yx||(yx={}));var vx;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(vx||(vx={}));var _x;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_x||(_x={}));var Md;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Md||(Md={}));var bx;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(bx||(bx={}));var xx;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(xx||(xx={}));var Sx;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Sx||(Sx={}));var Um;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Um||(Um={}));var wx;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(wx||(wx={}));var Ex;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Ex||(Ex={}));var Tx;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Tx||(Tx={}));var kx;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(kx||(kx={}));var Cx;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Cx||(Cx={}));var Ax;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Ax||(Ax={}));var Nx;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Nx||(Nx={}));var Rx;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Rx||(Rx={}));var Ix;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ix||(Ix={}));var Mx;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Mx||(Mx={}));var Px;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Px||(Px={}));var Dx;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Dx||(Dx={}));var zx;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(zx||(zx={}));var Ox;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Ox||(Ox={}));var Ux;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Ux||(Ux={}));var $x;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})($x||($x={}));var Lx;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Lx||(Lx={}));var qx;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(qx||(qx={}));var Vx;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(Vx||(Vx={}));var jx;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(jx||(jx={}));var Hx;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Hx||(Hx={}));var Bx;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Bx||(Bx={}));var Fx;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(Fx||(Fx={}));var Gx;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Gx||(Gx={}));var Jx;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Jx||(Jx={}));var Zx;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Zx||(Zx={}));var Kx;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Kx||(Kx={}));var Yx;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Yx||(Yx={}));var Xx;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Xx||(Xx={}));var na;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(na||(na={}));class $m{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class bl{get text(){var t,n,r,o,a,l,c,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const g=[];for(const v of(d=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[b,E]of Object.entries(v))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(E!==null||E!==void 0)&&g.push(b);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;p=!0,f+=v.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var t,n,r,o,a,l,c,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const g of(d=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[v,b]of Object.entries(g))v!=="inlineData"&&(b!==null||b!==void 0)&&p.push(v);g.inlineData&&typeof g.inlineData.data=="string"&&(f+=atob(g.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,o,a,l,c,d;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,o,a,l,c,d,f;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(d=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,o,a,l,c,d,f;if(((o=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(d=(c=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class Qx{}class Wx{}class RI{}class II{}class MI{}class PI{}class eS{}class tS{}class nS{}class DI{}class Pd{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Pd;let o;const a=t;return n?o=vI(a):o=yI(a),Object.assign(r,o),r}}class rS{}class iS{}class oS{}class sS{}class zI{}class OI{}class UI{}class qg{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new qg,a=TI(t);return Object.assign(r,a),r}}class $I{}class LI{}class qI{}class aS{}class VI{get text(){var t,n,r;let o="",a=!1;const l=[];for(const c of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(c))d!=="text"&&d!=="thought"&&f!==null&&l.push(d);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;a=!0,o+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?o:void 0}get data(){var t,n,r;let o="";const a=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(l))c!=="inlineData"&&d!==null&&a.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(o+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class jI{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Vg{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Vg,a=RT(t);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _t(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function IT(e,t){const n=_t(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function MT(e){return Array.isArray(e)?e.map(t=>Dd(t)):[Dd(e)]}function Dd(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function PT(e){const t=Dd(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function DT(e){const t=Dd(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function lS(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function zT(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>lS(t)):[lS(e)]}function Lm(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function uS(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function cS(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function qn(e){if(e==null)throw new Error("ContentUnion is required");return Lm(e)?e:{role:"user",parts:zT(e)}}function jg(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=qn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=qn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>qn(n)):[qn(t)]}function Dr(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(uS(e)||cS(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[qn(e)]}const t=[],n=[],r=Lm(e[0]);for(const o of e){const a=Lm(o);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(o);else{if(uS(o)||cS(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||t.push({role:"user",parts:zT(n)}),t}function HI(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(vo).includes(n[0].toUpperCase())?n[0].toUpperCase():vo.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(vo).includes(r.toUpperCase())?r.toUpperCase():vo.TYPE_UNSPECIFIED})}}function ca(e){const t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&HI(e.type,t);for(const[l,c]of Object.entries(e))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;t.type=Object.values(vo).includes(c.toUpperCase())?c.toUpperCase():vo.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=ca(c);else if(r.includes(l)){const d=[];for(const f of c){if(f.type=="null"){t.nullable=!0;continue}d.push(ca(f))}t[l]=d}else if(o.includes(l)){const d={};for(const[f,p]of Object.entries(c))d[f]=ca(p);t[l]=d}else{if(l==="additionalProperties")continue;t[l]=c}return t}function Hg(e){return ca(e)}function Bg(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Fg(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function xa(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ca(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ca(t.response));return e}function Sa(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function BI(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function Li(e,t){if(typeof t!="string")throw new Error("name must be a string");return BI(e,t,"cachedContents")}function OT(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function wo(e){return Lg(e)}function FI(e){return e!=null&&typeof e=="object"&&"name"in e}function GI(e){return e!=null&&typeof e=="object"&&"video"in e}function JI(e){return e!=null&&typeof e=="object"&&"uri"in e}function UT(e){var t;let n;if(FI(e)&&(n=e.name),!(JI(e)&&(n=e.uri,n===void 0))&&!(GI(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function $T(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function LT(e){for(const t of["models","tunedModels","publisherModels"])if(ZI(e,t))return e[t];return[]}function ZI(e,t){return e!==null&&typeof e=="object"&&t in e}function KI(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function YI(e,t={}){const n=[],r=new Set;for(const o of e){const a=o.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const l=KI(o,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function qT(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function XI(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function VT(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return e;let a=!1;for(const l of o){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function wa(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function jT(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QI(e){const t={},n=m(e,["responsesFile"]);n!=null&&y(t,["fileName"],n);const r=m(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>MM(l))),y(t,["inlinedResponses"],a)}const o=m(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["inlinedEmbedContentResponses"],a)}return t}function WI(e){const t={},n=m(e,["predictionsFormat"]);n!=null&&y(t,["format"],n);const r=m(e,["gcsDestination","outputUriPrefix"]);r!=null&&y(t,["gcsUri"],r);const o=m(e,["bigqueryDestination","outputUri"]);return o!=null&&y(t,["bigqueryUri"],o),t}function eM(e){const t={},n=m(e,["format"]);n!=null&&y(t,["predictionsFormat"],n);const r=m(e,["gcsUri"]);r!=null&&y(t,["gcsDestination","outputUriPrefix"],r);const o=m(e,["bigqueryUri"]);if(o!=null&&y(t,["bigqueryDestination","outputUri"],o),m(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function _d(e){const t={},n=m(e,["name"]);n!=null&&y(t,["name"],n);const r=m(e,["metadata","displayName"]);r!=null&&y(t,["displayName"],r);const o=m(e,["metadata","state"]);o!=null&&y(t,["state"],jT(o));const a=m(e,["metadata","createTime"]);a!=null&&y(t,["createTime"],a);const l=m(e,["metadata","endTime"]);l!=null&&y(t,["endTime"],l);const c=m(e,["metadata","updateTime"]);c!=null&&y(t,["updateTime"],c);const d=m(e,["metadata","model"]);d!=null&&y(t,["model"],d);const f=m(e,["metadata","output"]);return f!=null&&y(t,["dest"],QI(VT(f))),t}function qm(e){const t={},n=m(e,["name"]);n!=null&&y(t,["name"],n);const r=m(e,["displayName"]);r!=null&&y(t,["displayName"],r);const o=m(e,["state"]);o!=null&&y(t,["state"],jT(o));const a=m(e,["error"]);a!=null&&y(t,["error"],a);const l=m(e,["createTime"]);l!=null&&y(t,["createTime"],l);const c=m(e,["startTime"]);c!=null&&y(t,["startTime"],c);const d=m(e,["endTime"]);d!=null&&y(t,["endTime"],d);const f=m(e,["updateTime"]);f!=null&&y(t,["updateTime"],f);const p=m(e,["model"]);p!=null&&y(t,["model"],p);const g=m(e,["inputConfig"]);g!=null&&y(t,["src"],tM(g));const v=m(e,["outputConfig"]);v!=null&&y(t,["dest"],WI(VT(v)));const b=m(e,["completionStats"]);return b!=null&&y(t,["completionStats"],b),t}function tM(e){const t={},n=m(e,["instancesFormat"]);n!=null&&y(t,["format"],n);const r=m(e,["gcsSource","uris"]);r!=null&&y(t,["gcsUri"],r);const o=m(e,["bigquerySource","inputUri"]);return o!=null&&y(t,["bigqueryUri"],o),t}function nM(e,t){const n={};if(m(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=m(t,["fileName"]);r!=null&&y(n,["fileName"],r);const o=m(t,["inlinedRequests"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>IM(e,l))),y(n,["requests","requests"],a)}return n}function rM(e){const t={},n=m(e,["format"]);n!=null&&y(t,["instancesFormat"],n);const r=m(e,["gcsUri"]);r!=null&&y(t,["gcsSource","uris"],r);const o=m(e,["bigqueryUri"]);if(o!=null&&y(t,["bigquerySource","inputUri"],o),m(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function iM(e){const t={},n=m(e,["data"]);if(n!=null&&y(t,["data"],n),m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function oM(e,t){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],wa(e,r)),n}function sM(e,t){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],wa(e,r)),n}function aM(e){const t={},n=m(e,["content"]);n!=null&&y(t,["content"],n);const r=m(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],lM(r));const o=m(e,["tokenCount"]);o!=null&&y(t,["tokenCount"],o);const a=m(e,["finishReason"]);a!=null&&y(t,["finishReason"],a);const l=m(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const c=m(e,["groundingMetadata"]);c!=null&&y(t,["groundingMetadata"],c);const d=m(e,["index"]);d!=null&&y(t,["index"],d);const f=m(e,["logprobsResult"]);f!=null&&y(t,["logprobsResult"],f);const p=m(e,["safetyRatings"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(b=>b)),y(t,["safetyRatings"],v)}const g=m(e,["urlContextMetadata"]);return g!=null&&y(t,["urlContextMetadata"],g),t}function lM(e){const t={},n=m(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),y(t,["citations"],r)}return t}function HT(e){const t={},n=m(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>LM(a))),y(t,["parts"],o)}const r=m(e,["role"]);return r!=null&&y(t,["role"],r),t}function uM(e,t){const n={},r=m(e,["displayName"]);if(t!==void 0&&r!=null&&y(t,["batch","displayName"],r),m(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function cM(e,t){const n={},r=m(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const o=m(e,["dest"]);return t!==void 0&&o!=null&&y(t,["outputConfig"],eM(XI(o))),n}function dS(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["src"]);o!=null&&y(n,["batch","inputConfig"],nM(e,qT(e,o)));const a=m(t,["config"]);return a!=null&&uM(a,n),n}function dM(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["model"],_t(e,r));const o=m(t,["src"]);o!=null&&y(n,["inputConfig"],rM(qT(e,o)));const a=m(t,["config"]);return a!=null&&cM(a,n),n}function fM(e,t){const n={},r=m(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["batch","displayName"],r),n}function hM(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["src"]);o!=null&&y(n,["batch","inputConfig"],bM(e,o));const a=m(t,["config"]);return a!=null&&fM(a,n),n}function pM(e,t){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],wa(e,r)),n}function mM(e,t){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],wa(e,r)),n}function gM(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["name"]);r!=null&&y(t,["name"],r);const o=m(e,["done"]);o!=null&&y(t,["done"],o);const a=m(e,["error"]);return a!=null&&y(t,["error"],a),t}function yM(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["name"]);r!=null&&y(t,["name"],r);const o=m(e,["done"]);o!=null&&y(t,["done"],o);const a=m(e,["error"]);return a!=null&&y(t,["error"],a),t}function vM(e,t){const n={},r=m(t,["contents"]);if(r!=null){let a=jg(e,r);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["requests[]","request","content"],a)}const o=m(t,["config"]);return o!=null&&(y(n,["_self"],_M(o,n)),mI(n,{"requests[].*":"requests[].request.*"})),n}function _M(e,t){const n={},r=m(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const o=m(e,["title"]);t!==void 0&&o!=null&&y(t,["requests[]","title"],o);const a=m(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&y(t,["requests[]","outputDimensionality"],a),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function bM(e,t){const n={},r=m(t,["fileName"]);r!=null&&y(n,["file_name"],r);const o=m(t,["inlinedRequests"]);return o!=null&&y(n,["requests"],vM(e,o)),n}function xM(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=m(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function SM(e){const t={},n=m(e,["id"]);n!=null&&y(t,["id"],n);const r=m(e,["args"]);r!=null&&y(t,["args"],r);const o=m(e,["name"]);if(o!=null&&y(t,["name"],o),m(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function wM(e){const t={},n=m(e,["allowedFunctionNames"]);n!=null&&y(t,["allowedFunctionNames"],n);const r=m(e,["mode"]);if(r!=null&&y(t,["mode"],r),m(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function EM(e,t,n){const r={},o=m(t,["systemInstruction"]);n!==void 0&&o!=null&&y(n,["systemInstruction"],HT(qn(o)));const a=m(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=m(t,["topP"]);l!=null&&y(r,["topP"],l);const c=m(t,["topK"]);c!=null&&y(r,["topK"],c);const d=m(t,["candidateCount"]);d!=null&&y(r,["candidateCount"],d);const f=m(t,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const p=m(t,["stopSequences"]);p!=null&&y(r,["stopSequences"],p);const g=m(t,["responseLogprobs"]);g!=null&&y(r,["responseLogprobs"],g);const v=m(t,["logprobs"]);v!=null&&y(r,["logprobs"],v);const b=m(t,["presencePenalty"]);b!=null&&y(r,["presencePenalty"],b);const E=m(t,["frequencyPenalty"]);E!=null&&y(r,["frequencyPenalty"],E);const R=m(t,["seed"]);R!=null&&y(r,["seed"],R);const k=m(t,["responseMimeType"]);k!=null&&y(r,["responseMimeType"],k);const w=m(t,["responseSchema"]);w!=null&&y(r,["responseSchema"],Hg(w));const T=m(t,["responseJsonSchema"]);if(T!=null&&y(r,["responseJsonSchema"],T),m(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=m(t,["safetySettings"]);if(n!==void 0&&A!=null){let ee=A;Array.isArray(ee)&&(ee=ee.map(Q=>qM(Q))),y(n,["safetySettings"],ee)}const M=m(t,["tools"]);if(n!==void 0&&M!=null){let ee=Sa(M);Array.isArray(ee)&&(ee=ee.map(Q=>jM(xa(Q)))),y(n,["tools"],ee)}const C=m(t,["toolConfig"]);if(n!==void 0&&C!=null&&y(n,["toolConfig"],VM(C)),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=m(t,["cachedContent"]);n!==void 0&&N!=null&&y(n,["cachedContent"],Li(e,N));const P=m(t,["responseModalities"]);P!=null&&y(r,["responseModalities"],P);const L=m(t,["mediaResolution"]);L!=null&&y(r,["mediaResolution"],L);const j=m(t,["speechConfig"]);if(j!=null&&y(r,["speechConfig"],Bg(j)),m(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=m(t,["thinkingConfig"]);q!=null&&y(r,["thinkingConfig"],q);const H=m(t,["imageConfig"]);H!=null&&y(r,["imageConfig"],RM(H));const K=m(t,["enableEnhancedCivicAnswers"]);return K!=null&&y(r,["enableEnhancedCivicAnswers"],K),r}function TM(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>aM(f))),y(t,["candidates"],d)}const o=m(e,["modelVersion"]);o!=null&&y(t,["modelVersion"],o);const a=m(e,["promptFeedback"]);a!=null&&y(t,["promptFeedback"],a);const l=m(e,["responseId"]);l!=null&&y(t,["responseId"],l);const c=m(e,["usageMetadata"]);return c!=null&&y(t,["usageMetadata"],c),t}function kM(e,t){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],wa(e,r)),n}function CM(e,t){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],wa(e,r)),n}function AM(e){const t={};if(m(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function NM(e){const t={};if(m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function RM(e){const t={},n=m(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=m(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),m(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function IM(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["request","model"],_t(e,r));const o=m(t,["contents"]);if(o!=null){let c=Dr(o);Array.isArray(c)&&(c=c.map(d=>HT(d))),y(n,["request","contents"],c)}const a=m(t,["metadata"]);a!=null&&y(n,["metadata"],a);const l=m(t,["config"]);return l!=null&&y(n,["request","generationConfig"],EM(e,l,m(n,["request"],{}))),n}function MM(e){const t={},n=m(e,["response"]);n!=null&&y(t,["response"],TM(n));const r=m(e,["error"]);return r!=null&&y(t,["error"],r),t}function PM(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const o=m(e,["pageToken"]);if(t!==void 0&&o!=null&&y(t,["_query","pageToken"],o),m(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function DM(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const o=m(e,["pageToken"]);t!==void 0&&o!=null&&y(t,["_query","pageToken"],o);const a=m(e,["filter"]);return t!==void 0&&a!=null&&y(t,["_query","filter"],a),n}function zM(e){const t={},n=m(e,["config"]);return n!=null&&PM(n,t),t}function OM(e){const t={},n=m(e,["config"]);return n!=null&&DM(n,t),t}function UM(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const o=m(e,["operations"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>_d(l))),y(t,["batchJobs"],a)}return t}function $M(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const o=m(e,["batchPredictionJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>qm(l))),y(t,["batchJobs"],a)}return t}function LM(e){const t={},n=m(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=m(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const o=m(e,["executableCode"]);o!=null&&y(t,["executableCode"],o);const a=m(e,["fileData"]);a!=null&&y(t,["fileData"],xM(a));const l=m(e,["functionCall"]);l!=null&&y(t,["functionCall"],SM(l));const c=m(e,["functionResponse"]);c!=null&&y(t,["functionResponse"],c);const d=m(e,["inlineData"]);d!=null&&y(t,["inlineData"],iM(d));const f=m(e,["text"]);f!=null&&y(t,["text"],f);const p=m(e,["thought"]);p!=null&&y(t,["thought"],p);const g=m(e,["thoughtSignature"]);g!=null&&y(t,["thoughtSignature"],g);const v=m(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function qM(e){const t={},n=m(e,["category"]);if(n!=null&&y(t,["category"],n),m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function VM(e){const t={},n=m(e,["retrievalConfig"]);n!=null&&y(t,["retrievalConfig"],n);const r=m(e,["functionCallingConfig"]);return r!=null&&y(t,["functionCallingConfig"],wM(r)),t}function jM(e){const t={};if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=m(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const o=m(e,["codeExecution"]);if(o!=null&&y(t,["codeExecution"],o),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=m(e,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>g)),y(t,["functionDeclarations"],p)}const l=m(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],AM(l));const c=m(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],NM(c));const d=m(e,["googleSearchRetrieval"]);d!=null&&y(t,["googleSearchRetrieval"],d);const f=m(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ui;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Ui||(Ui={}));class ls{constructor(t,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,o)}init(t,n,r){var o,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(o=l.config)===null||o===void 0?void 0:o.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HM extends $i{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ls(Ui.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=dS(this.apiClient,t),r=n._url,o=Me("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,d=c.requests,f=[];for(const p of d){const g=Object.assign({},p);if(g.systemInstruction){const v=g.systemInstruction;delete g.systemInstruction;const b=g.request;b.systemInstruction=v,g.request=b}f.push(g)}return c.requests=f,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){const a=this.getGcsUri(t),l=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${o}`;else if(l)r.dest=`${l}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=dM(this.apiClient,t);return c=Me("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>qm(p))}else{const f=dS(this.apiClient,t);return c=Me("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>_d(p))}}async createEmbeddingsInternal(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=hM(this.apiClient,t);return a=Me("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>_d(d))}}async get(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=CM(this.apiClient,t);return c=Me("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>qm(p))}else{const f=kM(this.apiClient,t);return c=Me("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>_d(p))}}async cancel(t){var n,r,o,a;let l="",c={};if(this.apiClient.isVertexAI()){const d=sM(this.apiClient,t);l=Me("batchPredictionJobs/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=oM(this.apiClient,t);l=Me("batches/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=OM(t);return c=Me("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=$M(p),v=new aS;return Object.assign(v,g),v})}else{const f=zM(t);return c=Me("batches",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=UM(p),v=new aS;return Object.assign(v,g),v})}}async delete(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=mM(this.apiClient,t);return c=Me("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>yM(p))}else{const f=pM(this.apiClient,t);return c=Me("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>gM(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BM(e){const t={},n=m(e,["data"]);if(n!=null&&y(t,["data"],n),m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function fS(e){const t={},n=m(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>hP(a))),y(t,["parts"],o)}const r=m(e,["role"]);return r!=null&&y(t,["role"],r),t}function FM(e,t){const n={},r=m(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const o=m(e,["expireTime"]);t!==void 0&&o!=null&&y(t,["expireTime"],o);const a=m(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=m(e,["contents"]);if(t!==void 0&&l!=null){let p=Dr(l);Array.isArray(p)&&(p=p.map(g=>fS(g))),y(t,["contents"],p)}const c=m(e,["systemInstruction"]);t!==void 0&&c!=null&&y(t,["systemInstruction"],fS(qn(c)));const d=m(e,["tools"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>mP(g))),y(t,["tools"],p)}const f=m(e,["toolConfig"]);if(t!==void 0&&f!=null&&y(t,["toolConfig"],pP(f)),m(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function GM(e,t){const n={},r=m(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const o=m(e,["expireTime"]);t!==void 0&&o!=null&&y(t,["expireTime"],o);const a=m(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=m(e,["contents"]);if(t!==void 0&&l!=null){let g=Dr(l);Array.isArray(g)&&(g=g.map(v=>v)),y(t,["contents"],g)}const c=m(e,["systemInstruction"]);t!==void 0&&c!=null&&y(t,["systemInstruction"],qn(c));const d=m(e,["tools"]);if(t!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>gP(v))),y(t,["tools"],g)}const f=m(e,["toolConfig"]);t!==void 0&&f!=null&&y(t,["toolConfig"],f);const p=m(e,["kmsKeyName"]);return t!==void 0&&p!=null&&y(t,["encryption_spec","kmsKeyName"],p),n}function JM(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["model"],IT(e,r));const o=m(t,["config"]);return o!=null&&FM(o,n),n}function ZM(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["model"],IT(e,r));const o=m(t,["config"]);return o!=null&&GM(o,n),n}function KM(e,t){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],Li(e,r)),n}function YM(e,t){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],Li(e,r)),n}function XM(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function QM(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function WM(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=m(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function eP(e){const t={},n=m(e,["id"]);n!=null&&y(t,["id"],n);const r=m(e,["args"]);r!=null&&y(t,["args"],r);const o=m(e,["name"]);if(o!=null&&y(t,["name"],o),m(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function tP(e){const t={},n=m(e,["allowedFunctionNames"]);n!=null&&y(t,["allowedFunctionNames"],n);const r=m(e,["mode"]);if(r!=null&&y(t,["mode"],r),m(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function nP(e){const t={},n=m(e,["description"]);n!=null&&y(t,["description"],n);const r=m(e,["name"]);r!=null&&y(t,["name"],r);const o=m(e,["parameters"]);o!=null&&y(t,["parameters"],o);const a=m(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=m(e,["response"]);l!=null&&y(t,["response"],l);const c=m(e,["responseJsonSchema"]);if(c!=null&&y(t,["responseJsonSchema"],c),m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function rP(e,t){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],Li(e,r)),n}function iP(e,t){const n={},r=m(t,["name"]);return r!=null&&y(n,["_url","name"],Li(e,r)),n}function oP(e){const t={};if(m(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function sP(e){const t={};if(m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function aP(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const o=m(e,["pageToken"]);return t!==void 0&&o!=null&&y(t,["_query","pageToken"],o),n}function lP(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const o=m(e,["pageToken"]);return t!==void 0&&o!=null&&y(t,["_query","pageToken"],o),n}function uP(e){const t={},n=m(e,["config"]);return n!=null&&aP(n,t),t}function cP(e){const t={},n=m(e,["config"]);return n!=null&&lP(n,t),t}function dP(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const o=m(e,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["cachedContents"],a)}return t}function fP(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const o=m(e,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["cachedContents"],a)}return t}function hP(e){const t={},n=m(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=m(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const o=m(e,["executableCode"]);o!=null&&y(t,["executableCode"],o);const a=m(e,["fileData"]);a!=null&&y(t,["fileData"],WM(a));const l=m(e,["functionCall"]);l!=null&&y(t,["functionCall"],eP(l));const c=m(e,["functionResponse"]);c!=null&&y(t,["functionResponse"],c);const d=m(e,["inlineData"]);d!=null&&y(t,["inlineData"],BM(d));const f=m(e,["text"]);f!=null&&y(t,["text"],f);const p=m(e,["thought"]);p!=null&&y(t,["thought"],p);const g=m(e,["thoughtSignature"]);g!=null&&y(t,["thoughtSignature"],g);const v=m(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function pP(e){const t={},n=m(e,["retrievalConfig"]);n!=null&&y(t,["retrievalConfig"],n);const r=m(e,["functionCallingConfig"]);return r!=null&&y(t,["functionCallingConfig"],tP(r)),t}function mP(e){const t={};if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=m(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const o=m(e,["codeExecution"]);if(o!=null&&y(t,["codeExecution"],o),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=m(e,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>g)),y(t,["functionDeclarations"],p)}const l=m(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],oP(l));const c=m(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],sP(c));const d=m(e,["googleSearchRetrieval"]);d!=null&&y(t,["googleSearchRetrieval"],d);const f=m(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}function gP(e){const t={},n=m(e,["retrieval"]);n!=null&&y(t,["retrieval"],n);const r=m(e,["computerUse"]);if(r!=null&&y(t,["computerUse"],r),m(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=m(e,["codeExecution"]);o!=null&&y(t,["codeExecution"],o);const a=m(e,["enterpriseWebSearch"]);a!=null&&y(t,["enterpriseWebSearch"],a);const l=m(e,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>nP(v))),y(t,["functionDeclarations"],g)}const c=m(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],c);const d=m(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const f=m(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const p=m(e,["urlContext"]);return p!=null&&y(t,["urlContext"],p),t}function yP(e,t){const n={},r=m(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const o=m(e,["expireTime"]);return t!==void 0&&o!=null&&y(t,["expireTime"],o),n}function vP(e,t){const n={},r=m(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const o=m(e,["expireTime"]);return t!==void 0&&o!=null&&y(t,["expireTime"],o),n}function _P(e,t){const n={},r=m(t,["name"]);r!=null&&y(n,["_url","name"],Li(e,r));const o=m(t,["config"]);return o!=null&&yP(o,n),n}function bP(e,t){const n={},r=m(t,["name"]);r!=null&&y(n,["_url","name"],Li(e,r));const o=m(t,["config"]);return o!=null&&vP(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xP extends $i{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ls(Ui.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=ZM(this.apiClient,t);return c=Me("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=JM(this.apiClient,t);return c=Me("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async get(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=iP(this.apiClient,t);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=rP(this.apiClient,t);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async delete(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=YM(this.apiClient,t);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=QM(p),v=new oS;return Object.assign(v,g),v})}else{const f=KM(this.apiClient,t);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=XM(p),v=new oS;return Object.assign(v,g),v})}}async update(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=bP(this.apiClient,t);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>p)}else{const f=_P(this.apiClient,t);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>p)}}async listInternal(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=cP(t);return c=Me("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=fP(p),v=new sS;return Object.assign(v,g),v})}else{const f=uP(t);return c=Me("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=dP(p),v=new sS;return Object.assign(v,g),v})}}}function zd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function hS(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ke(e){return this instanceof Ke?(this.v=e,this):new Ke(e)}function Zr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(b){return function(E){return Promise.resolve(E).then(b,g)}}function c(b,E){r[b]&&(o[b]=function(R){return new Promise(function(k,w){a.push([b,R,k,w])>1||d(b,R)})},E&&(o[b]=E(o[b])))}function d(b,E){try{f(r[b](E))}catch(R){v(a[0][3],R)}}function f(b){b.value instanceof Ke?Promise.resolve(b.value.v).then(p,g):v(a[0][2],b)}function p(b){d("next",b)}function g(b){d("throw",b)}function v(b,E){b(E),a.shift(),a.length&&d(a[0][0],a[0][1])}}function Kr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof hS=="function"?hS(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(l){return new Promise(function(c,d){l=e[a](l),o(c,d,l.done,l.value)})}}function o(a,l,c,d){Promise.resolve(d).then(function(f){a({value:f,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SP(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:BT(n)}function BT(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function wP(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function pS(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const o=[];let a=!0;for(;r<n&&e[r].role==="model";)o.push(e[r]),a&&!BT(e[r])&&(a=!1),r++;a?t.push(...o):t.pop()}return t}class EP{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new TP(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class TP{constructor(t,n,r,o={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=o,this.history=a,this.sendPromise=Promise.resolve(),wP(a)}async sendMessage(t){var n;await this.sendPromise;const r=qn(t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,c;const d=await o,f=(l=(a=d.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,p=d.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let v=[];p!=null&&(v=(c=p.slice(g))!==null&&c!==void 0?c:[]);const b=f?[f]:[];this.recordHistory(r,b,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;const r=qn(t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const a=await o;return this.processStreamResponse(a,r)}getHistory(t=!1){const n=t?pS(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Zr(this,arguments,function*(){var o,a,l,c,d,f;const p=[];try{for(var g=!0,v=Kr(t),b;b=yield Ke(v.next()),o=b.done,!o;g=!0){c=b.value,g=!1;const E=c;if(SP(E)){const R=(f=(d=E.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content;R!==void 0&&p.push(R)}yield yield Ke(E)}}catch(E){a={error:E}}finally{try{!g&&!o&&(l=v.return)&&(yield Ke(l.call(v)))}finally{if(a)throw a.error}}this.recordHistory(n,p)})}recordHistory(t,n,r){let o=[];n.length>0&&n.every(a=>a.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...pS(r)):this.history.push(t),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sf extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,sf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kP(e){const t={},n=m(e,["file"]);return n!=null&&y(t,["file"],n),t}function CP(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function AP(e){const t={},n=m(e,["name"]);return n!=null&&y(t,["_url","file"],UT(n)),t}function NP(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function RP(e){const t={},n=m(e,["name"]);return n!=null&&y(t,["_url","file"],UT(n)),t}function IP(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const o=m(e,["pageToken"]);return t!==void 0&&o!=null&&y(t,["_query","pageToken"],o),n}function MP(e){const t={},n=m(e,["config"]);return n!=null&&IP(n,t),t}function PP(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const o=m(e,["files"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["files"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DP extends $i{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ls(Ui.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=MP(t);return a=Me("files",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const f=PP(d),p=new $I;return Object.assign(p,f),p})}}async createInternal(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=kP(t);return a=Me("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=CP(d),p=new LI;return Object.assign(p,f),p})}}async get(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=RP(t);return a=Me("files/{file}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=AP(t);return a=Me("files/{file}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const f=NP(d),p=new qI;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bd(e){const t={},n=m(e,["data"]);if(n!=null&&y(t,["data"],n),m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function zP(e){const t={},n=m(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>XP(a))),y(t,["parts"],o)}const r=m(e,["role"]);return r!=null&&y(t,["role"],r),t}function OP(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=m(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function UP(e){const t={},n=m(e,["id"]);n!=null&&y(t,["id"],n);const r=m(e,["args"]);r!=null&&y(t,["args"],r);const o=m(e,["name"]);if(o!=null&&y(t,["name"],o),m(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function $P(e){const t={},n=m(e,["description"]);n!=null&&y(t,["description"],n);const r=m(e,["name"]);r!=null&&y(t,["name"],r);const o=m(e,["parameters"]);o!=null&&y(t,["parameters"],o);const a=m(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=m(e,["response"]);l!=null&&y(t,["response"],l);const c=m(e,["responseJsonSchema"]);if(c!=null&&y(t,["responseJsonSchema"],c),m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function LP(e){const t={},n=m(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=m(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const o=m(e,["audioTimestamp"]);o!=null&&y(t,["audioTimestamp"],o);const a=m(e,["candidateCount"]);a!=null&&y(t,["candidateCount"],a);const l=m(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const c=m(e,["frequencyPenalty"]);c!=null&&y(t,["frequencyPenalty"],c);const d=m(e,["logprobs"]);d!=null&&y(t,["logprobs"],d);const f=m(e,["maxOutputTokens"]);f!=null&&y(t,["maxOutputTokens"],f);const p=m(e,["mediaResolution"]);p!=null&&y(t,["mediaResolution"],p);const g=m(e,["presencePenalty"]);g!=null&&y(t,["presencePenalty"],g);const v=m(e,["responseLogprobs"]);v!=null&&y(t,["responseLogprobs"],v);const b=m(e,["responseMimeType"]);b!=null&&y(t,["responseMimeType"],b);const E=m(e,["responseModalities"]);E!=null&&y(t,["responseModalities"],E);const R=m(e,["responseSchema"]);R!=null&&y(t,["responseSchema"],R);const k=m(e,["routingConfig"]);k!=null&&y(t,["routingConfig"],k);const w=m(e,["seed"]);w!=null&&y(t,["seed"],w);const T=m(e,["speechConfig"]);T!=null&&y(t,["speechConfig"],T);const A=m(e,["stopSequences"]);A!=null&&y(t,["stopSequences"],A);const M=m(e,["temperature"]);M!=null&&y(t,["temperature"],M);const C=m(e,["thinkingConfig"]);C!=null&&y(t,["thinkingConfig"],C);const N=m(e,["topK"]);N!=null&&y(t,["topK"],N);const P=m(e,["topP"]);if(P!=null&&y(t,["topP"],P),m(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function qP(e){const t={};if(m(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function VP(e){const t={};if(m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function jP(e,t){const n={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const o=m(e,["responseModalities"]);t!==void 0&&o!=null&&y(t,["setup","generationConfig","responseModalities"],o);const a=m(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=m(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const c=m(e,["topK"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topK"],c);const d=m(e,["maxOutputTokens"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","maxOutputTokens"],d);const f=m(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const p=m(e,["seed"]);t!==void 0&&p!=null&&y(t,["setup","generationConfig","seed"],p);const g=m(e,["speechConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","speechConfig"],Fg(g));const v=m(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const b=m(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],b);const E=m(e,["systemInstruction"]);t!==void 0&&E!=null&&y(t,["setup","systemInstruction"],zP(qn(E)));const R=m(e,["tools"]);if(t!==void 0&&R!=null){let N=Sa(R);Array.isArray(N)&&(N=N.map(P=>WP(xa(P)))),y(t,["setup","tools"],N)}const k=m(e,["sessionResumption"]);t!==void 0&&k!=null&&y(t,["setup","sessionResumption"],QP(k));const w=m(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&y(t,["setup","inputAudioTranscription"],w);const T=m(e,["outputAudioTranscription"]);t!==void 0&&T!=null&&y(t,["setup","outputAudioTranscription"],T);const A=m(e,["realtimeInputConfig"]);t!==void 0&&A!=null&&y(t,["setup","realtimeInputConfig"],A);const M=m(e,["contextWindowCompression"]);t!==void 0&&M!=null&&y(t,["setup","contextWindowCompression"],M);const C=m(e,["proactivity"]);if(t!==void 0&&C!=null&&y(t,["setup","proactivity"],C),m(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function HP(e,t){const n={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],LP(r));const o=m(e,["responseModalities"]);t!==void 0&&o!=null&&y(t,["setup","generationConfig","responseModalities"],o);const a=m(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=m(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const c=m(e,["topK"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topK"],c);const d=m(e,["maxOutputTokens"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","maxOutputTokens"],d);const f=m(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const p=m(e,["seed"]);t!==void 0&&p!=null&&y(t,["setup","generationConfig","seed"],p);const g=m(e,["speechConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","speechConfig"],Fg(g));const v=m(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const b=m(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],b);const E=m(e,["systemInstruction"]);t!==void 0&&E!=null&&y(t,["setup","systemInstruction"],qn(E));const R=m(e,["tools"]);if(t!==void 0&&R!=null){let P=Sa(R);Array.isArray(P)&&(P=P.map(L=>eD(xa(L)))),y(t,["setup","tools"],P)}const k=m(e,["sessionResumption"]);t!==void 0&&k!=null&&y(t,["setup","sessionResumption"],k);const w=m(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&y(t,["setup","inputAudioTranscription"],w);const T=m(e,["outputAudioTranscription"]);t!==void 0&&T!=null&&y(t,["setup","outputAudioTranscription"],T);const A=m(e,["realtimeInputConfig"]);t!==void 0&&A!=null&&y(t,["setup","realtimeInputConfig"],A);const M=m(e,["contextWindowCompression"]);t!==void 0&&M!=null&&y(t,["setup","contextWindowCompression"],M);const C=m(e,["proactivity"]);t!==void 0&&C!=null&&y(t,["setup","proactivity"],C);const N=m(e,["explicitVadSignal"]);return t!==void 0&&N!=null&&y(t,["setup","explicitVadSignal"],N),n}function BP(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["setup","model"],_t(e,r));const o=m(t,["config"]);return o!=null&&y(n,["config"],jP(o,n)),n}function FP(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["setup","model"],_t(e,r));const o=m(t,["config"]);return o!=null&&y(n,["config"],HP(o,n)),n}function GP(e){const t={},n=m(e,["musicGenerationConfig"]);return n!=null&&y(t,["musicGenerationConfig"],n),t}function JP(e){const t={},n=m(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),y(t,["weightedPrompts"],r)}return t}function ZP(e){const t={},n=m(e,["media"]);if(n!=null){let f=MT(n);Array.isArray(f)&&(f=f.map(p=>bd(p))),y(t,["mediaChunks"],f)}const r=m(e,["audio"]);r!=null&&y(t,["audio"],bd(DT(r)));const o=m(e,["audioStreamEnd"]);o!=null&&y(t,["audioStreamEnd"],o);const a=m(e,["video"]);a!=null&&y(t,["video"],bd(PT(a)));const l=m(e,["text"]);l!=null&&y(t,["text"],l);const c=m(e,["activityStart"]);c!=null&&y(t,["activityStart"],c);const d=m(e,["activityEnd"]);return d!=null&&y(t,["activityEnd"],d),t}function KP(e){const t={},n=m(e,["media"]);if(n!=null){let f=MT(n);Array.isArray(f)&&(f=f.map(p=>p)),y(t,["mediaChunks"],f)}const r=m(e,["audio"]);r!=null&&y(t,["audio"],DT(r));const o=m(e,["audioStreamEnd"]);o!=null&&y(t,["audioStreamEnd"],o);const a=m(e,["video"]);a!=null&&y(t,["video"],PT(a));const l=m(e,["text"]);l!=null&&y(t,["text"],l);const c=m(e,["activityStart"]);c!=null&&y(t,["activityStart"],c);const d=m(e,["activityEnd"]);return d!=null&&y(t,["activityEnd"],d),t}function YP(e){const t={},n=m(e,["setupComplete"]);n!=null&&y(t,["setupComplete"],n);const r=m(e,["serverContent"]);r!=null&&y(t,["serverContent"],r);const o=m(e,["toolCall"]);o!=null&&y(t,["toolCall"],o);const a=m(e,["toolCallCancellation"]);a!=null&&y(t,["toolCallCancellation"],a);const l=m(e,["usageMetadata"]);l!=null&&y(t,["usageMetadata"],tD(l));const c=m(e,["goAway"]);c!=null&&y(t,["goAway"],c);const d=m(e,["sessionResumptionUpdate"]);d!=null&&y(t,["sessionResumptionUpdate"],d);const f=m(e,["voiceActivityDetectionSignal"]);f!=null&&y(t,["voiceActivityDetectionSignal"],f);const p=m(e,["voiceActivity"]);return p!=null&&y(t,["voiceActivity"],nD(p)),t}function XP(e){const t={},n=m(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=m(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const o=m(e,["executableCode"]);o!=null&&y(t,["executableCode"],o);const a=m(e,["fileData"]);a!=null&&y(t,["fileData"],OP(a));const l=m(e,["functionCall"]);l!=null&&y(t,["functionCall"],UP(l));const c=m(e,["functionResponse"]);c!=null&&y(t,["functionResponse"],c);const d=m(e,["inlineData"]);d!=null&&y(t,["inlineData"],bd(d));const f=m(e,["text"]);f!=null&&y(t,["text"],f);const p=m(e,["thought"]);p!=null&&y(t,["thought"],p);const g=m(e,["thoughtSignature"]);g!=null&&y(t,["thoughtSignature"],g);const v=m(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function QP(e){const t={},n=m(e,["handle"]);if(n!=null&&y(t,["handle"],n),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function WP(e){const t={};if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=m(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const o=m(e,["codeExecution"]);if(o!=null&&y(t,["codeExecution"],o),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=m(e,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>g)),y(t,["functionDeclarations"],p)}const l=m(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],qP(l));const c=m(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],VP(c));const d=m(e,["googleSearchRetrieval"]);d!=null&&y(t,["googleSearchRetrieval"],d);const f=m(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}function eD(e){const t={},n=m(e,["retrieval"]);n!=null&&y(t,["retrieval"],n);const r=m(e,["computerUse"]);if(r!=null&&y(t,["computerUse"],r),m(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=m(e,["codeExecution"]);o!=null&&y(t,["codeExecution"],o);const a=m(e,["enterpriseWebSearch"]);a!=null&&y(t,["enterpriseWebSearch"],a);const l=m(e,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>$P(v))),y(t,["functionDeclarations"],g)}const c=m(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],c);const d=m(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const f=m(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const p=m(e,["urlContext"]);return p!=null&&y(t,["urlContext"],p),t}function tD(e){const t={},n=m(e,["promptTokenCount"]);n!=null&&y(t,["promptTokenCount"],n);const r=m(e,["cachedContentTokenCount"]);r!=null&&y(t,["cachedContentTokenCount"],r);const o=m(e,["candidatesTokenCount"]);o!=null&&y(t,["responseTokenCount"],o);const a=m(e,["toolUsePromptTokenCount"]);a!=null&&y(t,["toolUsePromptTokenCount"],a);const l=m(e,["thoughtsTokenCount"]);l!=null&&y(t,["thoughtsTokenCount"],l);const c=m(e,["totalTokenCount"]);c!=null&&y(t,["totalTokenCount"],c);const d=m(e,["promptTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(E=>E)),y(t,["promptTokensDetails"],b)}const f=m(e,["cacheTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(E=>E)),y(t,["cacheTokensDetails"],b)}const p=m(e,["candidatesTokensDetails"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(E=>E)),y(t,["responseTokensDetails"],b)}const g=m(e,["toolUsePromptTokensDetails"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(E=>E)),y(t,["toolUsePromptTokensDetails"],b)}const v=m(e,["trafficType"]);return v!=null&&y(t,["trafficType"],v),t}function nD(e){const t={},n=m(e,["type"]);return n!=null&&y(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rD(e){const t={},n=m(e,["data"]);if(n!=null&&y(t,["data"],n),m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function iD(e){const t={},n=m(e,["content"]);n!=null&&y(t,["content"],n);const r=m(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],oD(r));const o=m(e,["tokenCount"]);o!=null&&y(t,["tokenCount"],o);const a=m(e,["finishReason"]);a!=null&&y(t,["finishReason"],a);const l=m(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const c=m(e,["groundingMetadata"]);c!=null&&y(t,["groundingMetadata"],c);const d=m(e,["index"]);d!=null&&y(t,["index"],d);const f=m(e,["logprobsResult"]);f!=null&&y(t,["logprobsResult"],f);const p=m(e,["safetyRatings"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(b=>b)),y(t,["safetyRatings"],v)}const g=m(e,["urlContextMetadata"]);return g!=null&&y(t,["urlContextMetadata"],g),t}function oD(e){const t={},n=m(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),y(t,["citations"],r)}return t}function sD(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["contents"]);if(o!=null){let a=Dr(o);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["contents"],a)}return n}function aD(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),y(t,["tokensInfo"],o)}return t}function lD(e){const t={},n=m(e,["values"]);n!=null&&y(t,["values"],n);const r=m(e,["statistics"]);return r!=null&&y(t,["statistics"],uD(r)),t}function uD(e){const t={},n=m(e,["truncated"]);n!=null&&y(t,["truncated"],n);const r=m(e,["token_count"]);return r!=null&&y(t,["tokenCount"],r),t}function af(e){const t={},n=m(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>vz(a))),y(t,["parts"],o)}const r=m(e,["role"]);return r!=null&&y(t,["role"],r),t}function cD(e){const t={},n=m(e,["controlType"]);n!=null&&y(t,["controlType"],n);const r=m(e,["enableControlImageComputation"]);return r!=null&&y(t,["computeControl"],r),t}function dD(e){const t={};if(m(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function fD(e,t){const n={},r=m(e,["systemInstruction"]);t!==void 0&&r!=null&&y(t,["systemInstruction"],qn(r));const o=m(e,["tools"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>ZT(c))),y(t,["tools"],l)}const a=m(e,["generationConfig"]);return t!==void 0&&a!=null&&y(t,["generationConfig"],rz(a)),n}function hD(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["contents"]);if(o!=null){let l=Dr(o);Array.isArray(l)&&(l=l.map(c=>af(c))),y(n,["contents"],l)}const a=m(t,["config"]);return a!=null&&dD(a),n}function pD(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["contents"]);if(o!=null){let l=Dr(o);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["contents"],l)}const a=m(t,["config"]);return a!=null&&fD(a,n),n}function mD(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["totalTokens"]);r!=null&&y(t,["totalTokens"],r);const o=m(e,["cachedContentTokenCount"]);return o!=null&&y(t,["cachedContentTokenCount"],o),t}function gD(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["totalTokens"]);return r!=null&&y(t,["totalTokens"],r),t}function yD(e,t){const n={},r=m(t,["model"]);return r!=null&&y(n,["_url","name"],_t(e,r)),n}function vD(e,t){const n={},r=m(t,["model"]);return r!=null&&y(n,["_url","name"],_t(e,r)),n}function _D(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function bD(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function xD(e,t){const n={},r=m(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const o=m(e,["negativePrompt"]);t!==void 0&&o!=null&&y(t,["parameters","negativePrompt"],o);const a=m(e,["numberOfImages"]);t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a);const l=m(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const c=m(e,["guidanceScale"]);t!==void 0&&c!=null&&y(t,["parameters","guidanceScale"],c);const d=m(e,["seed"]);t!==void 0&&d!=null&&y(t,["parameters","seed"],d);const f=m(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&y(t,["parameters","safetySetting"],f);const p=m(e,["personGeneration"]);t!==void 0&&p!=null&&y(t,["parameters","personGeneration"],p);const g=m(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&y(t,["parameters","includeSafetyAttributes"],g);const v=m(e,["includeRaiReason"]);t!==void 0&&v!=null&&y(t,["parameters","includeRaiReason"],v);const b=m(e,["language"]);t!==void 0&&b!=null&&y(t,["parameters","language"],b);const E=m(e,["outputMimeType"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","mimeType"],E);const R=m(e,["outputCompressionQuality"]);t!==void 0&&R!=null&&y(t,["parameters","outputOptions","compressionQuality"],R);const k=m(e,["addWatermark"]);t!==void 0&&k!=null&&y(t,["parameters","addWatermark"],k);const w=m(e,["labels"]);t!==void 0&&w!=null&&y(t,["labels"],w);const T=m(e,["editMode"]);t!==void 0&&T!=null&&y(t,["parameters","editMode"],T);const A=m(e,["baseSteps"]);return t!==void 0&&A!=null&&y(t,["parameters","editConfig","baseSteps"],A),n}function SD(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["prompt"]);o!=null&&y(n,["instances[0]","prompt"],o);const a=m(t,["referenceImages"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>Ez(d))),y(n,["instances[0]","referenceImages"],c)}const l=m(t,["config"]);return l!=null&&xD(l,n),n}function wD(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>lf(a))),y(t,["generatedImages"],o)}return t}function ED(e,t){const n={},r=m(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const o=m(e,["title"]);t!==void 0&&o!=null&&y(t,["requests[]","title"],o);const a=m(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&y(t,["requests[]","outputDimensionality"],a),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function TD(e,t){const n={},r=m(e,["taskType"]);t!==void 0&&r!=null&&y(t,["instances[]","task_type"],r);const o=m(e,["title"]);t!==void 0&&o!=null&&y(t,["instances[]","title"],o);const a=m(e,["outputDimensionality"]);t!==void 0&&a!=null&&y(t,["parameters","outputDimensionality"],a);const l=m(e,["mimeType"]);t!==void 0&&l!=null&&y(t,["instances[]","mimeType"],l);const c=m(e,["autoTruncate"]);return t!==void 0&&c!=null&&y(t,["parameters","autoTruncate"],c),n}function kD(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["contents"]);if(o!=null){let c=jg(e,o);Array.isArray(c)&&(c=c.map(d=>d)),y(n,["requests[]","content"],c)}const a=m(t,["config"]);a!=null&&ED(a,n);const l=m(t,["model"]);return l!==void 0&&y(n,["requests[]","model"],_t(e,l)),n}function CD(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["contents"]);if(o!=null){let l=jg(e,o);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["instances[]","content"],l)}const a=m(t,["config"]);return a!=null&&TD(a,n),n}function AD(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["embeddings"],a)}const o=m(e,["metadata"]);return o!=null&&y(t,["metadata"],o),t}function ND(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>lD(l))),y(t,["embeddings"],a)}const o=m(e,["metadata"]);return o!=null&&y(t,["metadata"],o),t}function RD(e){const t={},n=m(e,["endpoint"]);n!=null&&y(t,["name"],n);const r=m(e,["deployedModelId"]);return r!=null&&y(t,["deployedModelId"],r),t}function ID(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=m(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function MD(e){const t={},n=m(e,["id"]);n!=null&&y(t,["id"],n);const r=m(e,["args"]);r!=null&&y(t,["args"],r);const o=m(e,["name"]);if(o!=null&&y(t,["name"],o),m(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function PD(e){const t={},n=m(e,["allowedFunctionNames"]);n!=null&&y(t,["allowedFunctionNames"],n);const r=m(e,["mode"]);if(r!=null&&y(t,["mode"],r),m(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function DD(e){const t={},n=m(e,["description"]);n!=null&&y(t,["description"],n);const r=m(e,["name"]);r!=null&&y(t,["name"],r);const o=m(e,["parameters"]);o!=null&&y(t,["parameters"],o);const a=m(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=m(e,["response"]);l!=null&&y(t,["response"],l);const c=m(e,["responseJsonSchema"]);if(c!=null&&y(t,["responseJsonSchema"],c),m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function zD(e,t,n){const r={},o=m(t,["systemInstruction"]);n!==void 0&&o!=null&&y(n,["systemInstruction"],af(qn(o)));const a=m(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=m(t,["topP"]);l!=null&&y(r,["topP"],l);const c=m(t,["topK"]);c!=null&&y(r,["topK"],c);const d=m(t,["candidateCount"]);d!=null&&y(r,["candidateCount"],d);const f=m(t,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const p=m(t,["stopSequences"]);p!=null&&y(r,["stopSequences"],p);const g=m(t,["responseLogprobs"]);g!=null&&y(r,["responseLogprobs"],g);const v=m(t,["logprobs"]);v!=null&&y(r,["logprobs"],v);const b=m(t,["presencePenalty"]);b!=null&&y(r,["presencePenalty"],b);const E=m(t,["frequencyPenalty"]);E!=null&&y(r,["frequencyPenalty"],E);const R=m(t,["seed"]);R!=null&&y(r,["seed"],R);const k=m(t,["responseMimeType"]);k!=null&&y(r,["responseMimeType"],k);const w=m(t,["responseSchema"]);w!=null&&y(r,["responseSchema"],Hg(w));const T=m(t,["responseJsonSchema"]);if(T!=null&&y(r,["responseJsonSchema"],T),m(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=m(t,["safetySettings"]);if(n!==void 0&&A!=null){let ee=A;Array.isArray(ee)&&(ee=ee.map(Q=>Tz(Q))),y(n,["safetySettings"],ee)}const M=m(t,["tools"]);if(n!==void 0&&M!=null){let ee=Sa(M);Array.isArray(ee)&&(ee=ee.map(Q=>Mz(xa(Q)))),y(n,["tools"],ee)}const C=m(t,["toolConfig"]);if(n!==void 0&&C!=null&&y(n,["toolConfig"],Iz(C)),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=m(t,["cachedContent"]);n!==void 0&&N!=null&&y(n,["cachedContent"],Li(e,N));const P=m(t,["responseModalities"]);P!=null&&y(r,["responseModalities"],P);const L=m(t,["mediaResolution"]);L!=null&&y(r,["mediaResolution"],L);const j=m(t,["speechConfig"]);if(j!=null&&y(r,["speechConfig"],Bg(j)),m(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=m(t,["thinkingConfig"]);q!=null&&y(r,["thinkingConfig"],q);const H=m(t,["imageConfig"]);H!=null&&y(r,["imageConfig"],lz(H));const K=m(t,["enableEnhancedCivicAnswers"]);return K!=null&&y(r,["enableEnhancedCivicAnswers"],K),r}function OD(e,t,n){const r={},o=m(t,["systemInstruction"]);n!==void 0&&o!=null&&y(n,["systemInstruction"],qn(o));const a=m(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=m(t,["topP"]);l!=null&&y(r,["topP"],l);const c=m(t,["topK"]);c!=null&&y(r,["topK"],c);const d=m(t,["candidateCount"]);d!=null&&y(r,["candidateCount"],d);const f=m(t,["maxOutputTokens"]);f!=null&&y(r,["maxOutputTokens"],f);const p=m(t,["stopSequences"]);p!=null&&y(r,["stopSequences"],p);const g=m(t,["responseLogprobs"]);g!=null&&y(r,["responseLogprobs"],g);const v=m(t,["logprobs"]);v!=null&&y(r,["logprobs"],v);const b=m(t,["presencePenalty"]);b!=null&&y(r,["presencePenalty"],b);const E=m(t,["frequencyPenalty"]);E!=null&&y(r,["frequencyPenalty"],E);const R=m(t,["seed"]);R!=null&&y(r,["seed"],R);const k=m(t,["responseMimeType"]);k!=null&&y(r,["responseMimeType"],k);const w=m(t,["responseSchema"]);w!=null&&y(r,["responseSchema"],Hg(w));const T=m(t,["responseJsonSchema"]);T!=null&&y(r,["responseJsonSchema"],T);const A=m(t,["routingConfig"]);A!=null&&y(r,["routingConfig"],A);const M=m(t,["modelSelectionConfig"]);M!=null&&y(r,["modelConfig"],M);const C=m(t,["safetySettings"]);if(n!==void 0&&C!=null){let G=C;Array.isArray(G)&&(G=G.map(ce=>ce)),y(n,["safetySettings"],G)}const N=m(t,["tools"]);if(n!==void 0&&N!=null){let G=Sa(N);Array.isArray(G)&&(G=G.map(ce=>ZT(xa(ce)))),y(n,["tools"],G)}const P=m(t,["toolConfig"]);n!==void 0&&P!=null&&y(n,["toolConfig"],P);const L=m(t,["labels"]);n!==void 0&&L!=null&&y(n,["labels"],L);const j=m(t,["cachedContent"]);n!==void 0&&j!=null&&y(n,["cachedContent"],Li(e,j));const q=m(t,["responseModalities"]);q!=null&&y(r,["responseModalities"],q);const H=m(t,["mediaResolution"]);H!=null&&y(r,["mediaResolution"],H);const K=m(t,["speechConfig"]);K!=null&&y(r,["speechConfig"],Bg(K));const ee=m(t,["audioTimestamp"]);ee!=null&&y(r,["audioTimestamp"],ee);const Q=m(t,["thinkingConfig"]);Q!=null&&y(r,["thinkingConfig"],Q);const W=m(t,["imageConfig"]);if(W!=null&&y(r,["imageConfig"],uz(W)),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function mS(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["contents"]);if(o!=null){let l=Dr(o);Array.isArray(l)&&(l=l.map(c=>af(c))),y(n,["contents"],l)}const a=m(t,["config"]);return a!=null&&y(n,["generationConfig"],zD(e,a,n)),n}function gS(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["contents"]);if(o!=null){let l=Dr(o);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["contents"],l)}const a=m(t,["config"]);return a!=null&&y(n,["generationConfig"],OD(e,a,n)),n}function yS(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>iD(f))),y(t,["candidates"],d)}const o=m(e,["modelVersion"]);o!=null&&y(t,["modelVersion"],o);const a=m(e,["promptFeedback"]);a!=null&&y(t,["promptFeedback"],a);const l=m(e,["responseId"]);l!=null&&y(t,["responseId"],l);const c=m(e,["usageMetadata"]);return c!=null&&y(t,["usageMetadata"],c),t}function vS(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),y(t,["candidates"],f)}const o=m(e,["createTime"]);o!=null&&y(t,["createTime"],o);const a=m(e,["modelVersion"]);a!=null&&y(t,["modelVersion"],a);const l=m(e,["promptFeedback"]);l!=null&&y(t,["promptFeedback"],l);const c=m(e,["responseId"]);c!=null&&y(t,["responseId"],c);const d=m(e,["usageMetadata"]);return d!=null&&y(t,["usageMetadata"],d),t}function UD(e,t){const n={};if(m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=m(e,["numberOfImages"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const o=m(e,["aspectRatio"]);t!==void 0&&o!=null&&y(t,["parameters","aspectRatio"],o);const a=m(e,["guidanceScale"]);if(t!==void 0&&a!=null&&y(t,["parameters","guidanceScale"],a),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=m(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&y(t,["parameters","safetySetting"],l);const c=m(e,["personGeneration"]);t!==void 0&&c!=null&&y(t,["parameters","personGeneration"],c);const d=m(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&y(t,["parameters","includeSafetyAttributes"],d);const f=m(e,["includeRaiReason"]);t!==void 0&&f!=null&&y(t,["parameters","includeRaiReason"],f);const p=m(e,["language"]);t!==void 0&&p!=null&&y(t,["parameters","language"],p);const g=m(e,["outputMimeType"]);t!==void 0&&g!=null&&y(t,["parameters","outputOptions","mimeType"],g);const v=m(e,["outputCompressionQuality"]);if(t!==void 0&&v!=null&&y(t,["parameters","outputOptions","compressionQuality"],v),m(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=m(e,["imageSize"]);if(t!==void 0&&b!=null&&y(t,["parameters","sampleImageSize"],b),m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function $D(e,t){const n={},r=m(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const o=m(e,["negativePrompt"]);t!==void 0&&o!=null&&y(t,["parameters","negativePrompt"],o);const a=m(e,["numberOfImages"]);t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a);const l=m(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const c=m(e,["guidanceScale"]);t!==void 0&&c!=null&&y(t,["parameters","guidanceScale"],c);const d=m(e,["seed"]);t!==void 0&&d!=null&&y(t,["parameters","seed"],d);const f=m(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&y(t,["parameters","safetySetting"],f);const p=m(e,["personGeneration"]);t!==void 0&&p!=null&&y(t,["parameters","personGeneration"],p);const g=m(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&y(t,["parameters","includeSafetyAttributes"],g);const v=m(e,["includeRaiReason"]);t!==void 0&&v!=null&&y(t,["parameters","includeRaiReason"],v);const b=m(e,["language"]);t!==void 0&&b!=null&&y(t,["parameters","language"],b);const E=m(e,["outputMimeType"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","mimeType"],E);const R=m(e,["outputCompressionQuality"]);t!==void 0&&R!=null&&y(t,["parameters","outputOptions","compressionQuality"],R);const k=m(e,["addWatermark"]);t!==void 0&&k!=null&&y(t,["parameters","addWatermark"],k);const w=m(e,["labels"]);t!==void 0&&w!=null&&y(t,["labels"],w);const T=m(e,["imageSize"]);t!==void 0&&T!=null&&y(t,["parameters","sampleImageSize"],T);const A=m(e,["enhancePrompt"]);return t!==void 0&&A!=null&&y(t,["parameters","enhancePrompt"],A),n}function LD(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["prompt"]);o!=null&&y(n,["instances[0]","prompt"],o);const a=m(t,["config"]);return a!=null&&UD(a,n),n}function qD(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["prompt"]);o!=null&&y(n,["instances[0]","prompt"],o);const a=m(t,["config"]);return a!=null&&$D(a,n),n}function VD(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>WD(l))),y(t,["generatedImages"],a)}const o=m(e,["positivePromptSafetyAttributes"]);return o!=null&&y(t,["positivePromptSafetyAttributes"],GT(o)),t}function jD(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>lf(l))),y(t,["generatedImages"],a)}const o=m(e,["positivePromptSafetyAttributes"]);return o!=null&&y(t,["positivePromptSafetyAttributes"],JT(o)),t}function HD(e,t){const n={},r=m(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r),m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=m(e,["durationSeconds"]);if(t!==void 0&&o!=null&&y(t,["parameters","durationSeconds"],o),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=m(e,["aspectRatio"]);t!==void 0&&a!=null&&y(t,["parameters","aspectRatio"],a);const l=m(e,["resolution"]);t!==void 0&&l!=null&&y(t,["parameters","resolution"],l);const c=m(e,["personGeneration"]);if(t!==void 0&&c!=null&&y(t,["parameters","personGeneration"],c),m(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=m(e,["negativePrompt"]);t!==void 0&&d!=null&&y(t,["parameters","negativePrompt"],d);const f=m(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&y(t,["parameters","enhancePrompt"],f),m(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=m(e,["lastFrame"]);t!==void 0&&p!=null&&y(t,["instances[0]","lastFrame"],uf(p));const g=m(e,["referenceImages"]);if(t!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(b=>Fz(b))),y(t,["instances[0]","referenceImages"],v)}if(m(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function BD(e,t){const n={},r=m(e,["numberOfVideos"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const o=m(e,["outputGcsUri"]);t!==void 0&&o!=null&&y(t,["parameters","storageUri"],o);const a=m(e,["fps"]);t!==void 0&&a!=null&&y(t,["parameters","fps"],a);const l=m(e,["durationSeconds"]);t!==void 0&&l!=null&&y(t,["parameters","durationSeconds"],l);const c=m(e,["seed"]);t!==void 0&&c!=null&&y(t,["parameters","seed"],c);const d=m(e,["aspectRatio"]);t!==void 0&&d!=null&&y(t,["parameters","aspectRatio"],d);const f=m(e,["resolution"]);t!==void 0&&f!=null&&y(t,["parameters","resolution"],f);const p=m(e,["personGeneration"]);t!==void 0&&p!=null&&y(t,["parameters","personGeneration"],p);const g=m(e,["pubsubTopic"]);t!==void 0&&g!=null&&y(t,["parameters","pubsubTopic"],g);const v=m(e,["negativePrompt"]);t!==void 0&&v!=null&&y(t,["parameters","negativePrompt"],v);const b=m(e,["enhancePrompt"]);t!==void 0&&b!=null&&y(t,["parameters","enhancePrompt"],b);const E=m(e,["generateAudio"]);t!==void 0&&E!=null&&y(t,["parameters","generateAudio"],E);const R=m(e,["lastFrame"]);t!==void 0&&R!=null&&y(t,["instances[0]","lastFrame"],Xr(R));const k=m(e,["referenceImages"]);if(t!==void 0&&k!=null){let A=k;Array.isArray(A)&&(A=A.map(M=>Gz(M))),y(t,["instances[0]","referenceImages"],A)}const w=m(e,["mask"]);t!==void 0&&w!=null&&y(t,["instances[0]","mask"],Bz(w));const T=m(e,["compressionQuality"]);return t!==void 0&&T!=null&&y(t,["parameters","compressionQuality"],T),n}function FD(e){const t={},n=m(e,["name"]);n!=null&&y(t,["name"],n);const r=m(e,["metadata"]);r!=null&&y(t,["metadata"],r);const o=m(e,["done"]);o!=null&&y(t,["done"],o);const a=m(e,["error"]);a!=null&&y(t,["error"],a);const l=m(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],KD(l)),t}function GD(e){const t={},n=m(e,["name"]);n!=null&&y(t,["name"],n);const r=m(e,["metadata"]);r!=null&&y(t,["metadata"],r);const o=m(e,["done"]);o!=null&&y(t,["done"],o);const a=m(e,["error"]);a!=null&&y(t,["error"],a);const l=m(e,["response"]);return l!=null&&y(t,["response"],YD(l)),t}function JD(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["prompt"]);o!=null&&y(n,["instances[0]","prompt"],o);const a=m(t,["image"]);a!=null&&y(n,["instances[0]","image"],uf(a));const l=m(t,["video"]);l!=null&&y(n,["instances[0]","video"],KT(l));const c=m(t,["source"]);c!=null&&XD(c,n);const d=m(t,["config"]);return d!=null&&HD(d,n),n}function ZD(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["prompt"]);o!=null&&y(n,["instances[0]","prompt"],o);const a=m(t,["image"]);a!=null&&y(n,["instances[0]","image"],Xr(a));const l=m(t,["video"]);l!=null&&y(n,["instances[0]","video"],YT(l));const c=m(t,["source"]);c!=null&&QD(c,n);const d=m(t,["config"]);return d!=null&&BD(d,n),n}function KD(e){const t={},n=m(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>tz(l))),y(t,["generatedVideos"],a)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const o=m(e,["raiMediaFilteredReasons"]);return o!=null&&y(t,["raiMediaFilteredReasons"],o),t}function YD(e){const t={},n=m(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>nz(l))),y(t,["generatedVideos"],a)}const r=m(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const o=m(e,["raiMediaFilteredReasons"]);return o!=null&&y(t,["raiMediaFilteredReasons"],o),t}function XD(e,t){const n={},r=m(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const o=m(e,["image"]);t!==void 0&&o!=null&&y(t,["instances[0]","image"],uf(o));const a=m(e,["video"]);return t!==void 0&&a!=null&&y(t,["instances[0]","video"],KT(a)),n}function QD(e,t){const n={},r=m(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const o=m(e,["image"]);t!==void 0&&o!=null&&y(t,["instances[0]","image"],Xr(o));const a=m(e,["video"]);return t!==void 0&&a!=null&&y(t,["instances[0]","video"],YT(a)),n}function WD(e){const t={},n=m(e,["_self"]);n!=null&&y(t,["image"],cz(n));const r=m(e,["raiFilteredReason"]);r!=null&&y(t,["raiFilteredReason"],r);const o=m(e,["_self"]);return o!=null&&y(t,["safetyAttributes"],GT(o)),t}function lf(e){const t={},n=m(e,["_self"]);n!=null&&y(t,["image"],FT(n));const r=m(e,["raiFilteredReason"]);r!=null&&y(t,["raiFilteredReason"],r);const o=m(e,["_self"]);o!=null&&y(t,["safetyAttributes"],JT(o));const a=m(e,["prompt"]);return a!=null&&y(t,["enhancedPrompt"],a),t}function ez(e){const t={},n=m(e,["_self"]);n!=null&&y(t,["mask"],FT(n));const r=m(e,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),y(t,["labels"],o)}return t}function tz(e){const t={},n=m(e,["video"]);return n!=null&&y(t,["video"],jz(n)),t}function nz(e){const t={},n=m(e,["_self"]);return n!=null&&y(t,["video"],Hz(n)),t}function rz(e){const t={},n=m(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=m(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const o=m(e,["audioTimestamp"]);o!=null&&y(t,["audioTimestamp"],o);const a=m(e,["candidateCount"]);a!=null&&y(t,["candidateCount"],a);const l=m(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const c=m(e,["frequencyPenalty"]);c!=null&&y(t,["frequencyPenalty"],c);const d=m(e,["logprobs"]);d!=null&&y(t,["logprobs"],d);const f=m(e,["maxOutputTokens"]);f!=null&&y(t,["maxOutputTokens"],f);const p=m(e,["mediaResolution"]);p!=null&&y(t,["mediaResolution"],p);const g=m(e,["presencePenalty"]);g!=null&&y(t,["presencePenalty"],g);const v=m(e,["responseLogprobs"]);v!=null&&y(t,["responseLogprobs"],v);const b=m(e,["responseMimeType"]);b!=null&&y(t,["responseMimeType"],b);const E=m(e,["responseModalities"]);E!=null&&y(t,["responseModalities"],E);const R=m(e,["responseSchema"]);R!=null&&y(t,["responseSchema"],R);const k=m(e,["routingConfig"]);k!=null&&y(t,["routingConfig"],k);const w=m(e,["seed"]);w!=null&&y(t,["seed"],w);const T=m(e,["speechConfig"]);T!=null&&y(t,["speechConfig"],T);const A=m(e,["stopSequences"]);A!=null&&y(t,["stopSequences"],A);const M=m(e,["temperature"]);M!=null&&y(t,["temperature"],M);const C=m(e,["thinkingConfig"]);C!=null&&y(t,["thinkingConfig"],C);const N=m(e,["topK"]);N!=null&&y(t,["topK"],N);const P=m(e,["topP"]);if(P!=null&&y(t,["topP"],P),m(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function iz(e,t){const n={},r=m(t,["model"]);return r!=null&&y(n,["_url","name"],_t(e,r)),n}function oz(e,t){const n={},r=m(t,["model"]);return r!=null&&y(n,["_url","name"],_t(e,r)),n}function sz(e){const t={};if(m(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function az(e){const t={};if(m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function lz(e){const t={},n=m(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=m(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),m(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(m(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function uz(e){const t={},n=m(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=m(e,["imageSize"]);r!=null&&y(t,["imageSize"],r);const o=m(e,["personGeneration"]);o!=null&&y(t,["personGeneration"],o);const a=m(e,["outputMimeType"]);a!=null&&y(t,["imageOutputOptions","mimeType"],a);const l=m(e,["outputCompressionQuality"]);return l!=null&&y(t,["imageOutputOptions","compressionQuality"],l),t}function cz(e){const t={},n=m(e,["bytesBase64Encoded"]);n!=null&&y(t,["imageBytes"],wo(n));const r=m(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function FT(e){const t={},n=m(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const r=m(e,["bytesBase64Encoded"]);r!=null&&y(t,["imageBytes"],wo(r));const o=m(e,["mimeType"]);return o!=null&&y(t,["mimeType"],o),t}function uf(e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=m(e,["imageBytes"]);n!=null&&y(t,["bytesBase64Encoded"],wo(n));const r=m(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Xr(e){const t={},n=m(e,["gcsUri"]);n!=null&&y(t,["gcsUri"],n);const r=m(e,["imageBytes"]);r!=null&&y(t,["bytesBase64Encoded"],wo(r));const o=m(e,["mimeType"]);return o!=null&&y(t,["mimeType"],o),t}function dz(e,t,n){const r={},o=m(t,["pageSize"]);n!==void 0&&o!=null&&y(n,["_query","pageSize"],o);const a=m(t,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const l=m(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const c=m(t,["queryBase"]);return n!==void 0&&c!=null&&y(n,["_url","models_url"],$T(e,c)),r}function fz(e,t,n){const r={},o=m(t,["pageSize"]);n!==void 0&&o!=null&&y(n,["_query","pageSize"],o);const a=m(t,["pageToken"]);n!==void 0&&a!=null&&y(n,["_query","pageToken"],a);const l=m(t,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const c=m(t,["queryBase"]);return n!==void 0&&c!=null&&y(n,["_url","models_url"],$T(e,c)),r}function hz(e,t){const n={},r=m(t,["config"]);return r!=null&&dz(e,r,n),n}function pz(e,t){const n={},r=m(t,["config"]);return r!=null&&fz(e,r,n),n}function mz(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const o=m(e,["_self"]);if(o!=null){let a=LT(o);Array.isArray(a)&&(a=a.map(l=>Vm(l))),y(t,["models"],a)}return t}function gz(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const o=m(e,["_self"]);if(o!=null){let a=LT(o);Array.isArray(a)&&(a=a.map(l=>jm(l))),y(t,["models"],a)}return t}function yz(e){const t={},n=m(e,["maskMode"]);n!=null&&y(t,["maskMode"],n);const r=m(e,["segmentationClasses"]);r!=null&&y(t,["maskClasses"],r);const o=m(e,["maskDilation"]);return o!=null&&y(t,["dilation"],o),t}function Vm(e){const t={},n=m(e,["name"]);n!=null&&y(t,["name"],n);const r=m(e,["displayName"]);r!=null&&y(t,["displayName"],r);const o=m(e,["description"]);o!=null&&y(t,["description"],o);const a=m(e,["version"]);a!=null&&y(t,["version"],a);const l=m(e,["_self"]);l!=null&&y(t,["tunedModelInfo"],Pz(l));const c=m(e,["inputTokenLimit"]);c!=null&&y(t,["inputTokenLimit"],c);const d=m(e,["outputTokenLimit"]);d!=null&&y(t,["outputTokenLimit"],d);const f=m(e,["supportedGenerationMethods"]);f!=null&&y(t,["supportedActions"],f);const p=m(e,["temperature"]);p!=null&&y(t,["temperature"],p);const g=m(e,["maxTemperature"]);g!=null&&y(t,["maxTemperature"],g);const v=m(e,["topP"]);v!=null&&y(t,["topP"],v);const b=m(e,["topK"]);b!=null&&y(t,["topK"],b);const E=m(e,["thinking"]);return E!=null&&y(t,["thinking"],E),t}function jm(e){const t={},n=m(e,["name"]);n!=null&&y(t,["name"],n);const r=m(e,["displayName"]);r!=null&&y(t,["displayName"],r);const o=m(e,["description"]);o!=null&&y(t,["description"],o);const a=m(e,["versionId"]);a!=null&&y(t,["version"],a);const l=m(e,["deployedModels"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>RD(v))),y(t,["endpoints"],g)}const c=m(e,["labels"]);c!=null&&y(t,["labels"],c);const d=m(e,["_self"]);d!=null&&y(t,["tunedModelInfo"],Dz(d));const f=m(e,["defaultCheckpointId"]);f!=null&&y(t,["defaultCheckpointId"],f);const p=m(e,["checkpoints"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(v=>v)),y(t,["checkpoints"],g)}return t}function vz(e){const t={},n=m(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=m(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const o=m(e,["executableCode"]);o!=null&&y(t,["executableCode"],o);const a=m(e,["fileData"]);a!=null&&y(t,["fileData"],ID(a));const l=m(e,["functionCall"]);l!=null&&y(t,["functionCall"],MD(l));const c=m(e,["functionResponse"]);c!=null&&y(t,["functionResponse"],c);const d=m(e,["inlineData"]);d!=null&&y(t,["inlineData"],rD(d));const f=m(e,["text"]);f!=null&&y(t,["text"],f);const p=m(e,["thought"]);p!=null&&y(t,["thought"],p);const g=m(e,["thoughtSignature"]);g!=null&&y(t,["thoughtSignature"],g);const v=m(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function _z(e){const t={},n=m(e,["productImage"]);return n!=null&&y(t,["image"],Xr(n)),t}function bz(e,t){const n={},r=m(e,["numberOfImages"]);t!==void 0&&r!=null&&y(t,["parameters","sampleCount"],r);const o=m(e,["baseSteps"]);t!==void 0&&o!=null&&y(t,["parameters","baseSteps"],o);const a=m(e,["outputGcsUri"]);t!==void 0&&a!=null&&y(t,["parameters","storageUri"],a);const l=m(e,["seed"]);t!==void 0&&l!=null&&y(t,["parameters","seed"],l);const c=m(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&y(t,["parameters","safetySetting"],c);const d=m(e,["personGeneration"]);t!==void 0&&d!=null&&y(t,["parameters","personGeneration"],d);const f=m(e,["addWatermark"]);t!==void 0&&f!=null&&y(t,["parameters","addWatermark"],f);const p=m(e,["outputMimeType"]);t!==void 0&&p!=null&&y(t,["parameters","outputOptions","mimeType"],p);const g=m(e,["outputCompressionQuality"]);t!==void 0&&g!=null&&y(t,["parameters","outputOptions","compressionQuality"],g);const v=m(e,["enhancePrompt"]);t!==void 0&&v!=null&&y(t,["parameters","enhancePrompt"],v);const b=m(e,["labels"]);return t!==void 0&&b!=null&&y(t,["labels"],b),n}function xz(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["source"]);o!=null&&wz(o,n);const a=m(t,["config"]);return a!=null&&bz(a,n),n}function Sz(e){const t={},n=m(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>lf(o))),y(t,["generatedImages"],r)}return t}function wz(e,t){const n={},r=m(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const o=m(e,["personImage"]);t!==void 0&&o!=null&&y(t,["instances[0]","personImage","image"],Xr(o));const a=m(e,["productImages"]);if(t!==void 0&&a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>_z(c))),y(t,["instances[0]","productImages"],l)}return n}function Ez(e){const t={},n=m(e,["referenceImage"]);n!=null&&y(t,["referenceImage"],Xr(n));const r=m(e,["referenceId"]);r!=null&&y(t,["referenceId"],r);const o=m(e,["referenceType"]);o!=null&&y(t,["referenceType"],o);const a=m(e,["maskImageConfig"]);a!=null&&y(t,["maskImageConfig"],yz(a));const l=m(e,["controlImageConfig"]);l!=null&&y(t,["controlImageConfig"],cD(l));const c=m(e,["styleImageConfig"]);c!=null&&y(t,["styleImageConfig"],c);const d=m(e,["subjectImageConfig"]);return d!=null&&y(t,["subjectImageConfig"],d),t}function GT(e){const t={},n=m(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const r=m(e,["safetyAttributes","scores"]);r!=null&&y(t,["scores"],r);const o=m(e,["contentType"]);return o!=null&&y(t,["contentType"],o),t}function JT(e){const t={},n=m(e,["safetyAttributes","categories"]);n!=null&&y(t,["categories"],n);const r=m(e,["safetyAttributes","scores"]);r!=null&&y(t,["scores"],r);const o=m(e,["contentType"]);return o!=null&&y(t,["contentType"],o),t}function Tz(e){const t={},n=m(e,["category"]);if(n!=null&&y(t,["category"],n),m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function kz(e){const t={},n=m(e,["image"]);return n!=null&&y(t,["image"],Xr(n)),t}function Cz(e,t){const n={},r=m(e,["mode"]);t!==void 0&&r!=null&&y(t,["parameters","mode"],r);const o=m(e,["maxPredictions"]);t!==void 0&&o!=null&&y(t,["parameters","maxPredictions"],o);const a=m(e,["confidenceThreshold"]);t!==void 0&&a!=null&&y(t,["parameters","confidenceThreshold"],a);const l=m(e,["maskDilation"]);t!==void 0&&l!=null&&y(t,["parameters","maskDilation"],l);const c=m(e,["binaryColorThreshold"]);t!==void 0&&c!=null&&y(t,["parameters","binaryColorThreshold"],c);const d=m(e,["labels"]);return t!==void 0&&d!=null&&y(t,["labels"],d),n}function Az(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["source"]);o!=null&&Rz(o,n);const a=m(t,["config"]);return a!=null&&Cz(a,n),n}function Nz(e){const t={},n=m(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>ez(o))),y(t,["generatedMasks"],r)}return t}function Rz(e,t){const n={},r=m(e,["prompt"]);t!==void 0&&r!=null&&y(t,["instances[0]","prompt"],r);const o=m(e,["image"]);t!==void 0&&o!=null&&y(t,["instances[0]","image"],Xr(o));const a=m(e,["scribbleImage"]);return t!==void 0&&a!=null&&y(t,["instances[0]","scribble"],kz(a)),n}function Iz(e){const t={},n=m(e,["retrievalConfig"]);n!=null&&y(t,["retrievalConfig"],n);const r=m(e,["functionCallingConfig"]);return r!=null&&y(t,["functionCallingConfig"],PD(r)),t}function Mz(e){const t={};if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=m(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const o=m(e,["codeExecution"]);if(o!=null&&y(t,["codeExecution"],o),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=m(e,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>g)),y(t,["functionDeclarations"],p)}const l=m(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],sz(l));const c=m(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],az(c));const d=m(e,["googleSearchRetrieval"]);d!=null&&y(t,["googleSearchRetrieval"],d);const f=m(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}function ZT(e){const t={},n=m(e,["retrieval"]);n!=null&&y(t,["retrieval"],n);const r=m(e,["computerUse"]);if(r!=null&&y(t,["computerUse"],r),m(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=m(e,["codeExecution"]);o!=null&&y(t,["codeExecution"],o);const a=m(e,["enterpriseWebSearch"]);a!=null&&y(t,["enterpriseWebSearch"],a);const l=m(e,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>DD(v))),y(t,["functionDeclarations"],g)}const c=m(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],c);const d=m(e,["googleSearch"]);d!=null&&y(t,["googleSearch"],d);const f=m(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const p=m(e,["urlContext"]);return p!=null&&y(t,["urlContext"],p),t}function Pz(e){const t={},n=m(e,["baseModel"]);n!=null&&y(t,["baseModel"],n);const r=m(e,["createTime"]);r!=null&&y(t,["createTime"],r);const o=m(e,["updateTime"]);return o!=null&&y(t,["updateTime"],o),t}function Dz(e){const t={},n=m(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(t,["baseModel"],n);const r=m(e,["createTime"]);r!=null&&y(t,["createTime"],r);const o=m(e,["updateTime"]);return o!=null&&y(t,["updateTime"],o),t}function zz(e,t){const n={},r=m(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const o=m(e,["description"]);t!==void 0&&o!=null&&y(t,["description"],o);const a=m(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&y(t,["defaultCheckpointId"],a),n}function Oz(e,t){const n={},r=m(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const o=m(e,["description"]);t!==void 0&&o!=null&&y(t,["description"],o);const a=m(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&y(t,["defaultCheckpointId"],a),n}function Uz(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","name"],_t(e,r));const o=m(t,["config"]);return o!=null&&zz(o,n),n}function $z(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["config"]);return o!=null&&Oz(o,n),n}function Lz(e,t){const n={},r=m(e,["outputGcsUri"]);t!==void 0&&r!=null&&y(t,["parameters","storageUri"],r);const o=m(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&y(t,["parameters","safetySetting"],o);const a=m(e,["personGeneration"]);t!==void 0&&a!=null&&y(t,["parameters","personGeneration"],a);const l=m(e,["includeRaiReason"]);t!==void 0&&l!=null&&y(t,["parameters","includeRaiReason"],l);const c=m(e,["outputMimeType"]);t!==void 0&&c!=null&&y(t,["parameters","outputOptions","mimeType"],c);const d=m(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&y(t,["parameters","outputOptions","compressionQuality"],d);const f=m(e,["enhanceInputImage"]);t!==void 0&&f!=null&&y(t,["parameters","upscaleConfig","enhanceInputImage"],f);const p=m(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&y(t,["parameters","upscaleConfig","imagePreservationFactor"],p);const g=m(e,["labels"]);t!==void 0&&g!=null&&y(t,["labels"],g);const v=m(e,["numberOfImages"]);t!==void 0&&v!=null&&y(t,["parameters","sampleCount"],v);const b=m(e,["mode"]);return t!==void 0&&b!=null&&y(t,["parameters","mode"],b),n}function qz(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["_url","model"],_t(e,r));const o=m(t,["image"]);o!=null&&y(n,["instances[0]","image"],Xr(o));const a=m(t,["upscaleFactor"]);a!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],a);const l=m(t,["config"]);return l!=null&&Lz(l,n),n}function Vz(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>lf(a))),y(t,["generatedImages"],o)}return t}function jz(e){const t={},n=m(e,["uri"]);n!=null&&y(t,["uri"],n);const r=m(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],wo(r));const o=m(e,["encoding"]);return o!=null&&y(t,["mimeType"],o),t}function Hz(e){const t={},n=m(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=m(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],wo(r));const o=m(e,["mimeType"]);return o!=null&&y(t,["mimeType"],o),t}function Bz(e){const t={},n=m(e,["image"]);n!=null&&y(t,["_self"],Xr(n));const r=m(e,["maskMode"]);return r!=null&&y(t,["maskMode"],r),t}function Fz(e){const t={},n=m(e,["image"]);n!=null&&y(t,["image"],uf(n));const r=m(e,["referenceType"]);return r!=null&&y(t,["referenceType"],r),t}function Gz(e){const t={},n=m(e,["image"]);n!=null&&y(t,["image"],Xr(n));const r=m(e,["referenceType"]);return r!=null&&y(t,["referenceType"],r),t}function KT(e){const t={},n=m(e,["uri"]);n!=null&&y(t,["uri"],n);const r=m(e,["videoBytes"]);r!=null&&y(t,["encodedVideo"],wo(r));const o=m(e,["mimeType"]);return o!=null&&y(t,["encoding"],o),t}function YT(e){const t={},n=m(e,["uri"]);n!=null&&y(t,["gcsUri"],n);const r=m(e,["videoBytes"]);r!=null&&y(t,["bytesBase64Encoded"],wo(r));const o=m(e,["mimeType"]);return o!=null&&y(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jz(e,t){const n={},r=m(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["displayName"],r),n}function Zz(e){const t={},n=m(e,["config"]);return n!=null&&Jz(n,t),t}function Kz(e,t){const n={},r=m(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function Yz(e){const t={},n=m(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=m(e,["config"]);return r!=null&&Kz(r,t),t}function Xz(e){const t={},n=m(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function Qz(e,t){const n={},r=m(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["customMetadata"],a)}const o=m(e,["chunkingConfig"]);return t!==void 0&&o!=null&&y(t,["chunkingConfig"],o),n}function Wz(e){const t={},n=m(e,["name"]);n!=null&&y(t,["name"],n);const r=m(e,["metadata"]);r!=null&&y(t,["metadata"],r);const o=m(e,["done"]);o!=null&&y(t,["done"],o);const a=m(e,["error"]);a!=null&&y(t,["error"],a);const l=m(e,["response"]);return l!=null&&y(t,["response"],tO(l)),t}function eO(e){const t={},n=m(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=m(e,["fileName"]);r!=null&&y(t,["fileName"],r);const o=m(e,["config"]);return o!=null&&Qz(o,t),t}function tO(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["parent"]);r!=null&&y(t,["parent"],r);const o=m(e,["documentName"]);return o!=null&&y(t,["documentName"],o),t}function nO(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const o=m(e,["pageToken"]);return t!==void 0&&o!=null&&y(t,["_query","pageToken"],o),n}function rO(e){const t={},n=m(e,["config"]);return n!=null&&nO(n,t),t}function iO(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const o=m(e,["fileSearchStores"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["fileSearchStores"],a)}return t}function XT(e,t){const n={},r=m(e,["mimeType"]);t!==void 0&&r!=null&&y(t,["mimeType"],r);const o=m(e,["displayName"]);t!==void 0&&o!=null&&y(t,["displayName"],o);const a=m(e,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),y(t,["customMetadata"],c)}const l=m(e,["chunkingConfig"]);return t!==void 0&&l!=null&&y(t,["chunkingConfig"],l),n}function oO(e){const t={},n=m(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=m(e,["config"]);return r!=null&&XT(r,t),t}function sO(e){const t={},n=m(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aO="Content-Type",lO="X-Server-Timeout",uO="User-Agent",Hm="x-goog-api-client",cO="1.37.0",dO=`google-genai-sdk/${cO}`,fO="v1beta1",hO="v1beta";class pO{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:fO,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:hO,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,c]of Object.entries(t.queryParams))o.searchParams.append(l,String(c));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,o.toString(),t.abortSignal),this.unaryApiCall(o,a,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[o,a]of Object.entries(n))typeof a=="object"?r[o]=Object.assign(Object.assign({},r[o]),a):a!==void 0&&(r[o]=a);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,o.toString(),t.abortSignal),this.streamApiCall(o,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,o){if(n&&n.timeout||o){const a=new AbortController,l=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>a.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}o&&o.addEventListener("abort",()=>{a.abort()}),t.signal=l}return n&&n.extraBody!==null&&mO(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await _S(o),new $m(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await _S(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){return Zr(this,arguments,function*(){var r;const o=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let l="";const c="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:p}=yield Ke(o.read());if(f){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=a.decode(p,{stream:!0});try{const E=JSON.parse(g);if("error"in E){const R=JSON.parse(JSON.stringify(E.error)),k=R.status,w=R.code,T=`got status: ${k}. ${JSON.stringify(E)}`;if(w>=400&&w<600)throw new sf({message:T,status:w})}}catch(E){if(E.name==="ApiError")throw E}l+=g;let v=-1,b=0;for(;;){v=-1,b=0;for(const k of d){const w=l.indexOf(k);w!==-1&&(v===-1||w<v)&&(v=w,b=k.length)}if(v===-1)break;const E=l.substring(0,v);l=l.substring(v+b);const R=E.trim();if(R.startsWith(c)){const k=R.substring(c.length).trim();try{const w=new Response(k,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ke(new $m(w))}catch(w){throw new Error(`exception parsing stream chunk ${k}. ${w}`)}}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=dO+" "+this.clientOptions.userAgentExtra;return t[uO]=n,t[Hm]=n,t[aO]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[o,a]of Object.entries(t.headers))r.append(o,a);t.timeout&&t.timeout>0&&r.append(lO,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const a=this.clientOptions.uploader,l=await a.stat(t);o.sizeBytes=String(l.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=c;const d={file:o},f=this.getFileName(t),p=Me("upload/v1beta/files",d._url),g=await this.fetchUploadUrl(p,o.sizeBytes,o.mimeType,f,d,n==null?void 0:n.httpOptions);return a.upload(t,g,this)}async uploadFileToFileSearchStore(t,n,r){var o;const a=this.clientOptions.uploader,l=await a.stat(n),c=String(l.size),d=(o=r==null?void 0:r.mimeType)!==null&&o!==void 0?o:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,p=this.getFileName(n),g={};r!=null&&XT(r,g);const v=await this.fetchUploadUrl(f,c,d,p,g,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,o,a,l){var c;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};const f=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(c=f==null?void 0:f.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function _S(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(r);throw n>=400&&n<600?new sf({message:o,status:n}):new Error(o)}}function mO(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,l){const c=Object.assign({},a);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=l[d],p=c[d];f&&typeof f=="object"&&!Array.isArray(f)&&p&&typeof p=="object"&&!Array.isArray(p)?c[d]=r(p,f):(p&&f&&typeof p!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof p}, New type: ${typeof f}. Overwriting.`),c[d]=f)}return c}const o=r(n,t);e.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gO="mcp_used/unknown";let yO=!1;function QT(e){for(const t of e)if(vO(t)||typeof t=="object"&&"inputSchema"in t)return!0;return yO}function WT(e){var t;const n=(t=e[Hm])!==null&&t!==void 0?t:"";e[Hm]=(n+` ${gO}`).trimStart()}function vO(e){return e!==null&&typeof e=="object"&&e instanceof Gg}function _O(e){return Zr(this,arguments,function*(n,r=100){let o,a=0;for(;a<r;){const l=yield Ke(n.listTools({cursor:o}));for(const c of l.tools)yield yield Ke(c),a++;if(!l.nextCursor)break;o=l.nextCursor}})}class Gg{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Gg(t,n)}async initialize(){var t,n,r,o;if(this.mcpTools.length>0)return;const a={},l=[];for(const p of this.mcpClients)try{for(var c=!0,d=(n=void 0,Kr(_O(p))),f;f=await d.next(),t=f.done,!t;c=!0){o=f.value,c=!1;const g=o;l.push(g);const v=g.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=p}}catch(g){n={error:g}}finally{try{!c&&!t&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),YI(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await o.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bO(e,t,n){const r=new jI;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(r,o),t(r)}class xO{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=EO(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),d=`${o}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${c}`;let f=()=>{};const p=new Promise(A=>{f=A}),g=t.callbacks,v=function(){f({})},b=this.apiClient,E={onopen:v,onmessage:A=>{bO(b,g.onmessage,A)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(A){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(A){}},R=this.webSocketFactory.create(d,wO(l),E);R.connect(),await p;const T={setup:{model:_t(this.apiClient,t.model)}};return R.send(JSON.stringify(T)),new SO(R,this.apiClient)}}class SO{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=JP(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=GP(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(na.PLAY)}pause(){this.sendPlaybackControl(na.PAUSE)}stop(){this.sendPlaybackControl(na.STOP)}resetContext(){this.sendPlaybackControl(na.RESET_CONTEXT)}close(){this.conn.close()}}function wO(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function EO(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TO="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function kO(e,t,n){const r=new VI;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const a=JSON.parse(o);if(e.isVertexAI()){const l=YP(a);Object.assign(r,l)}else Object.assign(r,a);t(r)}class CO{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new xO(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,o,a,l,c;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let p;const g=this.apiClient.getHeaders();t.config&&t.config.tools&&QT(t.config.tools)&&WT(g);const v=IO(g);if(this.apiClient.isVertexAI())p=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,p);else{const j=this.apiClient.getApiKey();let q="BidiGenerateContent",H="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",H="access_token"),p=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${q}?${H}=${j}`}let b=()=>{};const E=new Promise(j=>{b=j}),R=t.callbacks,k=function(){var j;(j=R==null?void 0:R.onopen)===null||j===void 0||j.call(R),b({})},w=this.apiClient,T={onopen:k,onmessage:j=>{kO(w,R.onmessage,j)},onerror:(n=R==null?void 0:R.onerror)!==null&&n!==void 0?n:function(j){},onclose:(r=R==null?void 0:R.onclose)!==null&&r!==void 0?r:function(j){}},A=this.webSocketFactory.create(p,RO(v),T);A.connect(),await E;let M=_t(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const j=this.apiClient.getProject(),q=this.apiClient.getLocation();M=`projects/${j}/locations/${q}/`+M}let C={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Md.AUDIO]}:t.config.responseModalities=[Md.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(c=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],P=[];for(const j of N)if(this.isCallableTool(j)){const q=j;P.push(await q.tool())}else P.push(j);P.length>0&&(t.config.tools=P);const L={model:M,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?C=FP(this.apiClient,L):C=BP(this.apiClient,L),delete C.config,A.send(JSON.stringify(C)),new NO(A,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const AO={turnComplete:!0};class NO{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Dr(n.turns),t.isVertexAI()||(r=r.map(o=>af(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(TO)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},AO),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:KP(t)}:n={realtimeInput:ZP(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function RO(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function IO(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bS=10;function xS(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(da(l)){o=!0;break}if(!o)return!0;const a=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function da(e){return"callTool"in e&&typeof e.callTool=="function"}function MO(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>da(o)))!==null&&r!==void 0?r:!1}function SS(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,o)=>{if(da(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(o)}),n}function wS(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PO extends $i{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,o,a,l,c;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!MO(n)||xS(n.config))return await this.generateContentInternal(d);const f=SS(n);if(f.length>0){const R=f.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let p,g;const v=Dr(d.contents),b=(a=(o=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:bS;let E=0;for(;E<b&&(p=await this.generateContentInternal(d),!(!p.functionCalls||p.functionCalls.length===0));){const R=p.candidates[0].content,k=[];for(const w of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(da(w)){const A=await w.callTool(p.functionCalls);k.push(...A)}E++,g={role:"user",parts:k},d.contents=Dr(d.contents),d.contents.push(R),d.contents.push(g),wS(d.config)&&(v.push(R),v.push(g))}return wS(d.config)&&(p.automaticFunctionCallingHistory=v),p},this.generateContentStream=async n=>{var r,o,a,l,c;if(this.maybeMoveToResponseJsonSchem(n),xS(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const d=SS(n);if(d.length>0){const g=d.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(o=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,p=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(f&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let a;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((o=d==null?void 0:d.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?a=d==null?void 0:d.safetyAttributes:l.push(d);let c;return a?c={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new ls(Ui.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var r,o,a,l,c,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((d=(c=n.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,o;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const l=await Promise.all(a.map(async d=>da(d)?await d.tool():d)),c={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(c.config.tools=l,t.config&&t.config.tools&&QT(t.config.tools)){const d=(o=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),WT(f),c.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return c}async initAfcToolsMap(t){var n,r,o;const a=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(da(l)){const c=l,d=await c.tool();for(const f of(o=d.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,c)}}return a}async processAfcStream(t){var n,r,o;const a=(o=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:bS;let l=!1,c=0;const d=await this.initAfcToolsMap(t);return(function(f,p,g){return Zr(this,arguments,function*(){for(var v,b,E,R,k,w;c<a;){l&&(c++,l=!1);const C=yield Ke(f.processParamsMaybeAddMcpUsage(g)),N=yield Ke(f.generateContentStreamInternal(C)),P=[],L=[];try{for(var T=!0,A=(b=void 0,Kr(N)),M;M=yield Ke(A.next()),v=M.done,!v;T=!0){R=M.value,T=!1;const j=R;if(yield yield Ke(j),j.candidates&&(!((k=j.candidates[0])===null||k===void 0)&&k.content)){L.push(j.candidates[0].content);for(const q of(w=j.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(c<a&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(q.functionCall.name)){const H=yield Ke(p.get(q.functionCall.name).callTool([q.functionCall]));P.push(...H)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(j){b={error:j}}finally{try{!T&&!v&&(E=A.return)&&(yield Ke(E.call(A)))}finally{if(b)throw b.error}}if(P.length>0){l=!0;const j=new bl;j.candidates=[{content:{role:"user",parts:P}}],yield yield Ke(j);const q=[];q.push(...L),q.push({role:"user",parts:P});const H=Dr(g.contents).concat(q);g.contents=H}else break}})})(this,d,t)}async generateContentInternal(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=gS(this.apiClient,t);return c=Me("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=vS(p),v=new bl;return Object.assign(v,g),v})}else{const f=mS(this.apiClient,t);return c=Me("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=yS(p),v=new bl;return Object.assign(v,g),v})}}async generateContentStreamInternal(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=gS(this.apiClient,t);return c=Me("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(g){return Zr(this,arguments,function*(){var v,b,E,R;try{for(var k=!0,w=Kr(g),T;T=yield Ke(w.next()),v=T.done,!v;k=!0){R=T.value,k=!1;const A=R,M=vS(yield Ke(A.json()));M.sdkHttpResponse={headers:A.headers};const C=new bl;Object.assign(C,M),yield yield Ke(C)}}catch(A){b={error:A}}finally{try{!k&&!v&&(E=w.return)&&(yield Ke(E.call(w)))}finally{if(b)throw b.error}}})})}else{const f=mS(this.apiClient,t);return c=Me("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(g){return Zr(this,arguments,function*(){var v,b,E,R;try{for(var k=!0,w=Kr(g),T;T=yield Ke(w.next()),v=T.done,!v;k=!0){R=T.value,k=!1;const A=R,M=yS(yield Ke(A.json()));M.sdkHttpResponse={headers:A.headers};const C=new bl;Object.assign(C,M),yield yield Ke(C)}}catch(A){b={error:A}}finally{try{!k&&!v&&(E=w.return)&&(yield Ke(E.call(w)))}finally{if(b)throw b.error}}})})}}async embedContent(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=CD(this.apiClient,t);return c=Me("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=ND(p),v=new Qx;return Object.assign(v,g),v})}else{const f=kD(this.apiClient,t);return c=Me("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=AD(p),v=new Qx;return Object.assign(v,g),v})}}async generateImagesInternal(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=qD(this.apiClient,t);return c=Me("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=jD(p),v=new Wx;return Object.assign(v,g),v})}else{const f=LD(this.apiClient,t);return c=Me("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=VD(p),v=new Wx;return Object.assign(v,g),v})}}async editImageInternal(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=SD(this.apiClient,t);return a=Me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const f=wD(d),p=new RI;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=qz(this.apiClient,t);return a=Me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const f=Vz(d),p=new II;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=xz(this.apiClient,t);return a=Me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=Sz(d),p=new MI;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=Az(this.apiClient,t);return a=Me("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=Nz(d),p=new PI;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=oz(this.apiClient,t);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>jm(p))}else{const f=iz(this.apiClient,t);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>Vm(p))}}async listInternal(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=pz(this.apiClient,t);return c=Me("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=gz(p),v=new eS;return Object.assign(v,g),v})}else{const f=hz(this.apiClient,t);return c=Me("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=mz(p),v=new eS;return Object.assign(v,g),v})}}async update(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=$z(this.apiClient,t);return c=Me("{model}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>jm(p))}else{const f=Uz(this.apiClient,t);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>Vm(p))}}async delete(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=vD(this.apiClient,t);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=bD(p),v=new tS;return Object.assign(v,g),v})}else{const f=yD(this.apiClient,t);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=_D(p),v=new tS;return Object.assign(v,g),v})}}async countTokens(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=pD(this.apiClient,t);return c=Me("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=gD(p),v=new nS;return Object.assign(v,g),v})}else{const f=hD(this.apiClient,t);return c=Me("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=mD(p),v=new nS;return Object.assign(v,g),v})}}async computeTokens(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=sD(this.apiClient,t);return a=Me("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const f=aD(d),p=new DI;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=ZD(this.apiClient,t);return c=Me("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l.then(p=>{const g=GD(p),v=new Pd;return Object.assign(v,g),v})}else{const f=JD(this.apiClient,t);return c=Me("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l.then(p=>{const g=FD(p),v=new Pd;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DO extends $i{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=EI(t);return c=Me("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),l}else{const f=wI(t);return c=Me("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=gI(t);return a=Me("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zO(e){const t={},n=m(e,["data"]);if(n!=null&&y(t,["data"],n),m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function OO(e){const t={},n=m(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>FO(a))),y(t,["parts"],o)}const r=m(e,["role"]);return r!=null&&y(t,["role"],r),t}function UO(e,t,n){const r={},o=m(t,["expireTime"]);n!==void 0&&o!=null&&y(n,["expireTime"],o);const a=m(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&y(n,["newSessionExpireTime"],a);const l=m(t,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const c=m(t,["liveConnectConstraints"]);n!==void 0&&c!=null&&y(n,["bidiGenerateContentSetup"],BO(e,c));const d=m(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&y(n,["fieldMask"],d),r}function $O(e,t){const n={},r=m(t,["config"]);return r!=null&&y(n,["config"],UO(e,r,n)),n}function LO(e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=m(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function qO(e){const t={},n=m(e,["id"]);n!=null&&y(t,["id"],n);const r=m(e,["args"]);r!=null&&y(t,["args"],r);const o=m(e,["name"]);if(o!=null&&y(t,["name"],o),m(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function VO(e){const t={};if(m(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function jO(e){const t={};if(m(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function HO(e,t){const n={},r=m(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const o=m(e,["responseModalities"]);t!==void 0&&o!=null&&y(t,["setup","generationConfig","responseModalities"],o);const a=m(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=m(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const c=m(e,["topK"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topK"],c);const d=m(e,["maxOutputTokens"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","maxOutputTokens"],d);const f=m(e,["mediaResolution"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","mediaResolution"],f);const p=m(e,["seed"]);t!==void 0&&p!=null&&y(t,["setup","generationConfig","seed"],p);const g=m(e,["speechConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","speechConfig"],Fg(g));const v=m(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const b=m(e,["enableAffectiveDialog"]);t!==void 0&&b!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],b);const E=m(e,["systemInstruction"]);t!==void 0&&E!=null&&y(t,["setup","systemInstruction"],OO(qn(E)));const R=m(e,["tools"]);if(t!==void 0&&R!=null){let N=Sa(R);Array.isArray(N)&&(N=N.map(P=>JO(xa(P)))),y(t,["setup","tools"],N)}const k=m(e,["sessionResumption"]);t!==void 0&&k!=null&&y(t,["setup","sessionResumption"],GO(k));const w=m(e,["inputAudioTranscription"]);t!==void 0&&w!=null&&y(t,["setup","inputAudioTranscription"],w);const T=m(e,["outputAudioTranscription"]);t!==void 0&&T!=null&&y(t,["setup","outputAudioTranscription"],T);const A=m(e,["realtimeInputConfig"]);t!==void 0&&A!=null&&y(t,["setup","realtimeInputConfig"],A);const M=m(e,["contextWindowCompression"]);t!==void 0&&M!=null&&y(t,["setup","contextWindowCompression"],M);const C=m(e,["proactivity"]);if(t!==void 0&&C!=null&&y(t,["setup","proactivity"],C),m(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function BO(e,t){const n={},r=m(t,["model"]);r!=null&&y(n,["setup","model"],_t(e,r));const o=m(t,["config"]);return o!=null&&y(n,["config"],HO(o,n)),n}function FO(e){const t={},n=m(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=m(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const o=m(e,["executableCode"]);o!=null&&y(t,["executableCode"],o);const a=m(e,["fileData"]);a!=null&&y(t,["fileData"],LO(a));const l=m(e,["functionCall"]);l!=null&&y(t,["functionCall"],qO(l));const c=m(e,["functionResponse"]);c!=null&&y(t,["functionResponse"],c);const d=m(e,["inlineData"]);d!=null&&y(t,["inlineData"],zO(d));const f=m(e,["text"]);f!=null&&y(t,["text"],f);const p=m(e,["thought"]);p!=null&&y(t,["thought"],p);const g=m(e,["thoughtSignature"]);g!=null&&y(t,["thoughtSignature"],g);const v=m(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function GO(e){const t={},n=m(e,["handle"]);if(n!=null&&y(t,["handle"],n),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function JO(e){const t={};if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=m(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=m(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const o=m(e,["codeExecution"]);if(o!=null&&y(t,["codeExecution"],o),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=m(e,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>g)),y(t,["functionDeclarations"],p)}const l=m(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],VO(l));const c=m(e,["googleSearch"]);c!=null&&y(t,["googleSearch"],jO(c));const d=m(e,["googleSearchRetrieval"]);d!=null&&y(t,["googleSearchRetrieval"],d);const f=m(e,["urlContext"]);return f!=null&&y(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZO(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const o=Object.keys(r).map(a=>`${n}.${a}`);t.push(...o)}else t.push(n)}return t.join(",")}function KO(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const a=ZO(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)a?e.fieldMask=a:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];o.length>0&&(c=o.map(f=>l.includes(f)?`generationConfig.${f}`:f));const d=[];a&&d.push(a),c.length>0&&d.push(...c),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class YO extends $i{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=$O(this.apiClient,t);a=Me("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const d=KO(c,t.config);return o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XO(e,t){const n={},r=m(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function QO(e){const t={},n=m(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=m(e,["config"]);return r!=null&&XO(r,t),t}function WO(e){const t={},n=m(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function eU(e,t){const n={},r=m(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const o=m(e,["pageToken"]);return t!==void 0&&o!=null&&y(t,["_query","pageToken"],o),n}function tU(e){const t={},n=m(e,["parent"]);n!=null&&y(t,["_url","parent"],n);const r=m(e,["config"]);return r!=null&&eU(r,t),t}function nU(e){const t={},n=m(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=m(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const o=m(e,["documents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["documents"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rU extends $i{constructor(t){super(),this.apiClient=t,this.list=async n=>new ls(Ui.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=WO(t);return a=Me("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(t){var n,r;let o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=QO(t);o=Me("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=tU(t);return a=Me("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=nU(d),p=new zI;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iU extends $i{constructor(t,n=new rU(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new ls(Ui.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Zz(t);return a=Me("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Xz(t);return a=Me("{name}",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(t){var n,r;let o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Yz(t);o=Me("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=rO(t);return a=Me("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=iO(d),p=new OI;return Object.assign(p,f),p})}}async uploadToFileSearchStoreInternal(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=oO(t);return a=Me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=sO(d),p=new UI;return Object.assign(p,f),p})}}async importFile(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=eO(t);return a=Me("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=Wz(d),p=new qg;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let e1=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return e1=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const oU=()=>e1();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bm(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Fm=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zr extends Error{}class Kn extends zr{constructor(t,n,r,o){super(`${Kn.makeMessage(t,n,r)}`),this.status=t,this.headers=o,this.error=n}static makeMessage(t,n,r){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,n,r,o){if(!t||!o)return new cf({message:r,cause:Fm(n)});const a=n;return t===400?new n1(t,a,r,o):t===401?new r1(t,a,r,o):t===403?new i1(t,a,r,o):t===404?new o1(t,a,r,o):t===409?new s1(t,a,r,o):t===422?new a1(t,a,r,o):t===429?new l1(t,a,r,o):t>=500?new u1(t,a,r,o):new Kn(t,a,r,o)}}class Gm extends Kn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class cf extends Kn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class t1 extends cf{constructor({message:t}={}){super({message:t??"Request timed out."})}}class n1 extends Kn{}class r1 extends Kn{}class i1 extends Kn{}class o1 extends Kn{}class s1 extends Kn{}class a1 extends Kn{}class l1 extends Kn{}class u1 extends Kn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sU=/^[a-z][a-z0-9+.-]*:/i,aU=e=>sU.test(e);let Jm=e=>(Jm=Array.isArray,Jm(e));const lU=Jm;let uU=lU;const ES=uU;function cU(e){if(!e)return!0;for(const t in e)return!1;return!0}function dU(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const fU=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new zr(`${e} must be an integer`);if(t<0)throw new zr(`${e} must be a positive integer`);return t},hU=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pU=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ys="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mU(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const gU=()=>{var e,t,n,r,o;const a=mU();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ys,"X-Stainless-OS":kS(Deno.build.os),"X-Stainless-Arch":TS(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ys,"X-Stainless-OS":kS((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":TS((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const l=yU();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ys,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function yU(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const o=r[1]||0,a=r[2]||0,l=r[3]||0;return{browser:t,version:`${o}.${a}.${l}`}}}return null}const TS=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",kS=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let yc;const vU=()=>yc??(yc=gU());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _U(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function c1(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function bU(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return c1({start(){},async pull(n){const{done:r,value:o}=await t.next();r?n.close():n.enqueue(o)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function d1(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function xU(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),o=r.cancel();r.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SU=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f1=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Jp(e,t,n){return f1(),new File(e,t??"unknown_file",n)}function wU(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const EU=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h1=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",TU=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&h1(e),kU=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function CU(e,t,n){if(f1(),e=await e,TU(e))return e instanceof File?e:Jp([await e.arrayBuffer()],e.name);if(kU(e)){const o=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Jp(await Zm(o),t,n)}const r=await Zm(e);if(t||(t=wU(e)),!(n!=null&&n.type)){const o=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return Jp(r,t,n)}async function Zm(e){var t,n,r,o,a;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(h1(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(EU(e))try{for(var c=!0,d=Kr(e),f;f=await d.next(),t=f.done,!t;c=!0){o=f.value,c=!1;const p=o;l.push(...await Zm(p))}}catch(p){n={error:p}}finally{try{!c&&!t&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}else{const p=(a=e==null?void 0:e.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof e}${p?`; constructor: ${p}`:""}${AU(e)}`)}return l}function AU(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p1{constructor(t){this._client=t}}p1._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m1(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const CS=Object.freeze(Object.create(null)),NU=(e=m1)=>(function(n,...r){if(n.length===1)return n[0];let o=!1;const a=[],l=n.reduce((p,g,v)=>{var b,E,R;/[?#]/.test(g)&&(o=!0);const k=r[v];let w=(o?encodeURIComponent:e)(""+k);return v!==r.length&&(k==null||typeof k=="object"&&k.toString===((R=Object.getPrototypeOf((E=Object.getPrototypeOf((b=k.hasOwnProperty)!==null&&b!==void 0?b:CS))!==null&&E!==void 0?E:CS))===null||R===void 0?void 0:R.toString))&&(w=k+"",a.push({start:p.length+g.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(k).slice(8,-1)} is not a valid path parameter`})),p+g+(v===r.length?"":w)},""),c=l.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=d.exec(c))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((p,g)=>p.start-g.start),a.length>0){let p=0;const g=a.reduce((v,b)=>{const E=" ".repeat(b.start-p),R="^".repeat(b.length);return p=b.start+b.length,v+E+R},"");throw new zr(`Path parameters result in path with invalid segments:
${a.map(v=>v.error).join(`
`)}
${l}
${g}`)}return l}),vc=NU(m1);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g1 extends p1{create(t,n){var r;const{api_version:o=this._client.apiVersion}=t,a=zd(t,["api_version"]);if("model"in a&&"agent_config"in a)throw new zr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new zr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(vc`/${o}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(vc`/${o}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(vc`/${o}/interactions/${t}/cancel`,r)}get(t,n={},r){var o;const a=n??{},{api_version:l=this._client.apiVersion}=a,c=zd(a,["api_version"]);return this._client.get(vc`/${l}/interactions/${t}`,Object.assign(Object.assign({query:c},r),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}g1._key=Object.freeze(["interactions"]);class y1 extends g1{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RU(e){let t=0;for(const o of e)t+=o.length;const n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}let _c;function Jg(e){let t;return(_c??(t=new globalThis.TextEncoder,_c=t.encode.bind(t)))(e)}let bc;function AS(e){let t;return(bc??(t=new globalThis.TextDecoder,bc=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class df{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Jg(t):t;this.buffer=RU([this.buffer,n]);const r=[];let o;for(;(o=IU(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){r.push(AS(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,l=AS(this.buffer.subarray(0,a));r.push(l),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}df.NEWLINE_CHARS=new Set([`
`,"\r"]);df.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function IU(e,t){for(let o=t??0;o<e.length;o++){if(e[o]===10)return{preceding:o,index:o+1,carriage:!1};if(e[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function MU(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Od={off:0,error:200,warn:300,info:400,debug:500},NS=(e,t,n)=>{if(e){if(dU(Od,e))return e;Jn(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Od))}`)}};function Rl(){}function xc(e,t,n){return!t||Od[e]>Od[n]?Rl:t[e].bind(t)}const PU={error:Rl,warn:Rl,info:Rl,debug:Rl};let RS=new WeakMap;function Jn(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return PU;const o=RS.get(n);if(o&&o[0]===r)return o[1];const a={error:xc("error",n,r),warn:xc("warn",n,r),info:xc("info",n,r),debug:xc("debug",n,r)};return RS.set(n,[r,a]),a}const ns=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ra{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let o=!1;const a=r?Jn(r):console;function l(){return Zr(this,arguments,function*(){var d,f,p,g;if(o)throw new zr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let v=!1;try{try{for(var b=!0,E=Kr(DU(t,n)),R;R=yield Ke(E.next()),d=R.done,!d;b=!0){g=R.value,b=!1;const k=g;if(!v)if(k.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield Ke(JSON.parse(k.data))}catch(w){throw a.error("Could not parse message into JSON:",k.data),a.error("From chunk:",k.raw),w}}}catch(k){f={error:k}}finally{try{!b&&!d&&(p=E.return)&&(yield Ke(p.call(E)))}finally{if(f)throw f.error}}v=!0}catch(k){if(Bm(k))return yield Ke(void 0);throw k}finally{v||n.abort()}})}return new ra(l,n,r)}static fromReadableStream(t,n,r){let o=!1;function a(){return Zr(this,arguments,function*(){var d,f,p,g;const v=new df,b=d1(t);try{for(var E=!0,R=Kr(b),k;k=yield Ke(R.next()),d=k.done,!d;E=!0){g=k.value,E=!1;const w=g;for(const T of v.decode(w))yield yield Ke(T)}}catch(w){f={error:w}}finally{try{!E&&!d&&(p=R.return)&&(yield Ke(p.call(R)))}finally{if(f)throw f.error}}for(const w of v.flush())yield yield Ke(w)})}function l(){return Zr(this,arguments,function*(){var d,f,p,g;if(o)throw new zr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let v=!1;try{try{for(var b=!0,E=Kr(a()),R;R=yield Ke(E.next()),d=R.done,!d;b=!0){g=R.value,b=!1;const k=g;v||k&&(yield yield Ke(JSON.parse(k)))}}catch(k){f={error:k}}finally{try{!b&&!d&&(p=E.return)&&(yield Ke(p.call(E)))}finally{if(f)throw f.error}}v=!0}catch(k){if(Bm(k))return yield Ke(void 0);throw k}finally{v||n.abort()}})}return new ra(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),o=a=>({next:()=>{if(a.length===0){const l=r.next();t.push(l),n.push(l)}return a.shift()}});return[new ra(()=>o(t),this.controller,this.client),new ra(()=>o(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return c1({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:o,done:a}=await n.next();if(a)return r.close();const l=Jg(JSON.stringify(o)+`
`);r.enqueue(l)}catch(o){r.error(o)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function DU(e,t){return Zr(this,arguments,function*(){var r,o,a,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new zr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new zr("Attempted to iterate over a response with no body");const c=new OU,d=new df,f=d1(e.body);try{for(var p=!0,g=Kr(zU(f)),v;v=yield Ke(g.next()),r=v.done,!r;p=!0){l=v.value,p=!1;const b=l;for(const E of d.decode(b)){const R=c.decode(E);R&&(yield yield Ke(R))}}}catch(b){o={error:b}}finally{try{!p&&!r&&(a=g.return)&&(yield Ke(a.call(g)))}finally{if(o)throw o.error}}for(const b of d.flush()){const E=c.decode(b);E&&(yield yield Ke(E))}})}function zU(e){return Zr(this,arguments,function*(){var n,r,o,a;let l=new Uint8Array;try{for(var c=!0,d=Kr(e),f;f=yield Ke(d.next()),n=f.done,!n;c=!0){a=f.value,c=!1;const p=a;if(p==null)continue;const g=p instanceof ArrayBuffer?new Uint8Array(p):typeof p=="string"?Jg(p):p;let v=new Uint8Array(l.length+g.length);v.set(l),v.set(g,l.length),l=v;let b;for(;(b=MU(l))!==-1;)yield yield Ke(l.slice(0,b)),l=l.slice(b)}}catch(p){r={error:p}}finally{try{!c&&!n&&(o=d.return)&&(yield Ke(o.call(d)))}finally{if(r)throw r.error}}l.length>0&&(yield yield Ke(l))})}class OU{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,o]=UU(t,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function UU(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $U(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:a}=t,l=await(async()=>{var c;if(t.options.stream)return Jn(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):ra.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const d=n.headers.get("content-type"),f=(c=d==null?void 0:d.split(";")[0])===null||c===void 0?void 0:c.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return Jn(e).debug(`[${r}] response parsed`,ns({retryOfRequestLogID:o,url:n.url,status:n.status,body:l,durationMs:Date.now()-a})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zg extends Promise{constructor(t,n,r=$U){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new Zg(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v1=Symbol("brand.privateNullableHeaders");function*LU(e){if(!e)return;if(v1 in e){const{values:r,nulls:o}=e;yield*r.entries();for(const a of o)yield[a,null];return}let t=!1,n;e instanceof Headers?n=e.entries():ES(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const o=r[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const a=ES(r[1])?r[1]:[r[1]];let l=!1;for(const c of a)c!==void 0&&(t&&!l&&(l=!0,yield[o,null]),yield[o,c])}}const xl=e=>{const t=new Headers,n=new Set;for(const r of e){const o=new Set;for(const[a,l]of LU(r)){const c=a.toLowerCase();o.has(c)||(t.delete(a),o.add(c)),l===null?(t.delete(a),n.add(c)):(t.append(a,l),n.delete(c))}}return{[v1]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zp=e=>{var t,n,r,o,a,l;if(typeof globalThis.process<"u")return(r=(n=(t=cI)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(a=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||a===void 0?void 0:a.call(o,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _1;class ff{constructor(t){var n,r,o,a,l,c,d,{baseURL:f=Zp("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(n=Zp("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:g="v1beta"}=t,v=zd(t,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:p,apiVersion:g},v),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(r=b.timeout)!==null&&r!==void 0?r:ff.DEFAULT_TIMEOUT,this.logger=(o=b.logger)!==null&&o!==void 0?o:console;const E="warn";this.logLevel=E,this.logLevel=(l=(a=NS(b.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:NS(Zp("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:E,this.fetchOptions=b.fetchOptions,this.maxRetries=(c=b.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(d=b.fetch)!==null&&d!==void 0?d:_U(),this.encoder=SU,this._options=b,this.apiKey=p,this.apiVersion=g,this.clientAdapter=b.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=xl([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return xl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return xl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new zr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ys}`}defaultIdempotencyKey(){return`stainless-node-retry-${oU()}`}makeStatusError(t,n,r,o){return Kn.generate(t,n,r,o)}buildURL(t,n,r){const o=!this.baseURLOverridden()&&r||this.baseURL,a=aU(t)?new URL(t):new URL(o+(o.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return cU(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(o=>Object.assign({method:t,path:n},o)))}request(t,n=null){return new Zg(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var o,a,l;const c=await t,d=(o=c.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=d),await this.prepareOptions(c);const{req:f,url:p,timeout:g}=await this.buildRequest(c,{retryCount:d-n});await this.prepareRequest(f,{url:p,options:c});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=r===void 0?"":`, retryOf: ${r}`,E=Date.now();if(Jn(this).debug(`[${v}] sending request`,ns({retryOfRequestLogID:r,method:c.method,url:p,options:c,headers:f.headers})),!((a=c.signal)===null||a===void 0)&&a.aborted)throw new Gm;const R=new AbortController,k=await this.fetchWithTimeout(p,f,g,R).catch(Fm),w=Date.now();if(k instanceof globalThis.Error){const A=`retrying, ${n} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new Gm;const M=Bm(k)||/timed? ?out/i.test(String(k)+("cause"in k?String(k.cause):""));if(n)return Jn(this).info(`[${v}] connection ${M?"timed out":"failed"} - ${A}`),Jn(this).debug(`[${v}] connection ${M?"timed out":"failed"} (${A})`,ns({retryOfRequestLogID:r,url:p,durationMs:w-E,message:k.message})),this.retryRequest(c,n,r??v);throw Jn(this).info(`[${v}] connection ${M?"timed out":"failed"} - error; no more retries left`),Jn(this).debug(`[${v}] connection ${M?"timed out":"failed"} (error; no more retries left)`,ns({retryOfRequestLogID:r,url:p,durationMs:w-E,message:k.message})),M?new t1:new cf({cause:k})}const T=`[${v}${b}] ${f.method} ${p} ${k.ok?"succeeded":"failed"} with status ${k.status} in ${w-E}ms`;if(!k.ok){const A=await this.shouldRetry(k);if(n&&A){const j=`retrying, ${n} attempts remaining`;return await xU(k.body),Jn(this).info(`${T} - ${j}`),Jn(this).debug(`[${v}] response error (${j})`,ns({retryOfRequestLogID:r,url:k.url,status:k.status,headers:k.headers,durationMs:w-E})),this.retryRequest(c,n,r??v,k.headers)}const M=A?"error; no more retries left":"error; not retryable";Jn(this).info(`${T} - ${M}`);const C=await k.text().catch(j=>Fm(j).message),N=hU(C),P=N?void 0:C;throw Jn(this).debug(`[${v}] response error (${M})`,ns({retryOfRequestLogID:r,url:k.url,status:k.status,headers:k.headers,message:P,durationMs:Date.now()-E})),this.makeStatusError(k.status,N,P,k.headers)}return Jn(this).info(T),Jn(this).debug(`[${v}] response start`,ns({retryOfRequestLogID:r,url:k.url,status:k.status,headers:k.headers,durationMs:w-E})),{response:k,options:c,controller:R,requestLogID:v,retryOfRequestLogID:r,startTime:E}}async fetchWithTimeout(t,n,r,o){const a=n||{},{signal:l,method:c}=a,d=zd(a,["signal","method"]);l&&l.addEventListener("abort",()=>o.abort());const f=setTimeout(()=>o.abort(),r),p=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,g=Object.assign(Object.assign(Object.assign({signal:o.signal},p?{duplex:"half"}:{}),{method:"GET"}),d);c&&(g.method=c.toUpperCase());try{return await this.fetch.call(void 0,t,g)}finally{clearTimeout(f)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,o){var a;let l;const c=o==null?void 0:o.get("retry-after-ms");if(c){const f=parseFloat(c);Number.isNaN(f)||(l=f)}const d=o==null?void 0:o.get("retry-after");if(d&&!l){const f=parseFloat(d);Number.isNaN(f)?l=Date.parse(d)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=(a=t.maxRetries)!==null&&a!==void 0?a:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,f)}return await pU(l),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const a=n-t,l=Math.min(.5*Math.pow(2,a),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,o,a;const l=Object.assign({},t),{method:c,path:d,query:f,defaultBaseURL:p}=l,g=this.buildURL(d,f,p);"timeout"in l&&fU("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:v,body:b}=this.buildBody({options:l}),E=await this.buildHeaders({options:t,method:c,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:E},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(a=l.fetchOptions)!==null&&a!==void 0?a:{}),url:g,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:o}){let a={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let c=xl([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),vU()),this._options.defaultHeaders,r,t.headers,l]);return this.validateHeaders(c),c.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=xl([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:bU(t)}:this.encoder({body:t,headers:r})}}ff.DEFAULT_TIMEOUT=6e4;class wn extends ff{constructor(){super(...arguments),this.interactions=new y1(this)}}_1=wn;wn.GeminiNextGenAPIClient=_1;wn.GeminiNextGenAPIClientError=zr;wn.APIError=Kn;wn.APIConnectionError=cf;wn.APIConnectionTimeoutError=t1;wn.APIUserAbortError=Gm;wn.NotFoundError=o1;wn.ConflictError=s1;wn.RateLimitError=l1;wn.BadRequestError=n1;wn.AuthenticationError=r1;wn.InternalServerError=u1;wn.PermissionDeniedError=i1;wn.UnprocessableEntityError=a1;wn.toFile=CU;wn.Interactions=y1;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qU(e,t){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function VU(e,t){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function jU(e,t){const n={},r=m(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function HU(e,t){const n={},r=m(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function BU(e,t,n){const r={};if(m(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=m(e,["tunedModelDisplayName"]);if(t!==void 0&&o!=null&&y(t,["displayName"],o),m(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=m(e,["epochCount"]);t!==void 0&&a!=null&&y(t,["tuningTask","hyperparameters","epochCount"],a);const l=m(e,["learningRateMultiplier"]);if(l!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),m(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=m(e,["batchSize"]);t!==void 0&&c!=null&&y(t,["tuningTask","hyperparameters","batchSize"],c);const d=m(e,["learningRate"]);if(t!==void 0&&d!=null&&y(t,["tuningTask","hyperparameters","learningRate"],d),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function FU(e,t,n){const r={};let o=m(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const b=m(e,["validationDataset"]);t!==void 0&&b!=null&&y(t,["supervisedTuningSpec"],IS(b))}else if(o==="PREFERENCE_TUNING"){const b=m(e,["validationDataset"]);t!==void 0&&b!=null&&y(t,["preferenceOptimizationSpec"],IS(b))}const a=m(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&y(t,["tunedModelDisplayName"],a);const l=m(e,["description"]);t!==void 0&&l!=null&&y(t,["description"],l);let c=m(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const b=m(e,["epochCount"]);t!==void 0&&b!=null&&y(t,["supervisedTuningSpec","hyperParameters","epochCount"],b)}else if(c==="PREFERENCE_TUNING"){const b=m(e,["epochCount"]);t!==void 0&&b!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],b)}let d=m(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const b=m(e,["learningRateMultiplier"]);t!==void 0&&b!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],b)}else if(d==="PREFERENCE_TUNING"){const b=m(e,["learningRateMultiplier"]);t!==void 0&&b!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],b)}let f=m(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const b=m(e,["exportLastCheckpointOnly"]);t!==void 0&&b!=null&&y(t,["supervisedTuningSpec","exportLastCheckpointOnly"],b)}else if(f==="PREFERENCE_TUNING"){const b=m(e,["exportLastCheckpointOnly"]);t!==void 0&&b!=null&&y(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],b)}let p=m(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const b=m(e,["adapterSize"]);t!==void 0&&b!=null&&y(t,["supervisedTuningSpec","hyperParameters","adapterSize"],b)}else if(p==="PREFERENCE_TUNING"){const b=m(e,["adapterSize"]);t!==void 0&&b!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],b)}if(m(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=m(e,["labels"]);t!==void 0&&g!=null&&y(t,["labels"],g);const v=m(e,["beta"]);return t!==void 0&&v!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","beta"],v),r}function GU(e,t){const n={},r=m(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const o=m(e,["preTunedModel"]);o!=null&&y(n,["preTunedModel"],o);const a=m(e,["trainingDataset"]);a!=null&&r$(a);const l=m(e,["config"]);return l!=null&&BU(l,n),n}function JU(e,t){const n={},r=m(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const o=m(e,["preTunedModel"]);o!=null&&y(n,["preTunedModel"],o);const a=m(e,["trainingDataset"]);a!=null&&i$(a,n,t);const l=m(e,["config"]);return l!=null&&FU(l,n,t),n}function ZU(e,t){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function KU(e,t){const n={},r=m(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function YU(e,t,n){const r={},o=m(e,["pageSize"]);t!==void 0&&o!=null&&y(t,["_query","pageSize"],o);const a=m(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=m(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function XU(e,t,n){const r={},o=m(e,["pageSize"]);t!==void 0&&o!=null&&y(t,["_query","pageSize"],o);const a=m(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=m(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function QU(e,t){const n={},r=m(e,["config"]);return r!=null&&YU(r,n),n}function WU(e,t){const n={},r=m(e,["config"]);return r!=null&&XU(r,n),n}function e$(e,t){const n={},r=m(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const o=m(e,["nextPageToken"]);o!=null&&y(n,["nextPageToken"],o);const a=m(e,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>b1(c))),y(n,["tuningJobs"],l)}return n}function t$(e,t){const n={},r=m(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const o=m(e,["nextPageToken"]);o!=null&&y(n,["nextPageToken"],o);const a=m(e,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Km(c))),y(n,["tuningJobs"],l)}return n}function n$(e,t){const n={},r=m(e,["name"]);r!=null&&y(n,["model"],r);const o=m(e,["name"]);return o!=null&&y(n,["endpoint"],o),n}function r$(e,t){const n={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=m(e,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),y(n,["examples","examples"],o)}return n}function i$(e,t,n){const r={};let o=m(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=m(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=m(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let a=m(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=m(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=m(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(m(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function b1(e,t){const n={},r=m(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const o=m(e,["name"]);o!=null&&y(n,["name"],o);const a=m(e,["state"]);a!=null&&y(n,["state"],OT(a));const l=m(e,["createTime"]);l!=null&&y(n,["createTime"],l);const c=m(e,["tuningTask","startTime"]);c!=null&&y(n,["startTime"],c);const d=m(e,["tuningTask","completeTime"]);d!=null&&y(n,["endTime"],d);const f=m(e,["updateTime"]);f!=null&&y(n,["updateTime"],f);const p=m(e,["description"]);p!=null&&y(n,["description"],p);const g=m(e,["baseModel"]);g!=null&&y(n,["baseModel"],g);const v=m(e,["_self"]);return v!=null&&y(n,["tunedModel"],n$(v)),n}function Km(e,t){const n={},r=m(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const o=m(e,["name"]);o!=null&&y(n,["name"],o);const a=m(e,["state"]);a!=null&&y(n,["state"],OT(a));const l=m(e,["createTime"]);l!=null&&y(n,["createTime"],l);const c=m(e,["startTime"]);c!=null&&y(n,["startTime"],c);const d=m(e,["endTime"]);d!=null&&y(n,["endTime"],d);const f=m(e,["updateTime"]);f!=null&&y(n,["updateTime"],f);const p=m(e,["error"]);p!=null&&y(n,["error"],p);const g=m(e,["description"]);g!=null&&y(n,["description"],g);const v=m(e,["baseModel"]);v!=null&&y(n,["baseModel"],v);const b=m(e,["tunedModel"]);b!=null&&y(n,["tunedModel"],b);const E=m(e,["preTunedModel"]);E!=null&&y(n,["preTunedModel"],E);const R=m(e,["supervisedTuningSpec"]);R!=null&&y(n,["supervisedTuningSpec"],R);const k=m(e,["preferenceOptimizationSpec"]);k!=null&&y(n,["preferenceOptimizationSpec"],k);const w=m(e,["tuningDataStats"]);w!=null&&y(n,["tuningDataStats"],w);const T=m(e,["encryptionSpec"]);T!=null&&y(n,["encryptionSpec"],T);const A=m(e,["partnerModelTuningSpec"]);A!=null&&y(n,["partnerModelTuningSpec"],A);const M=m(e,["customBaseModel"]);M!=null&&y(n,["customBaseModel"],M);const C=m(e,["experiment"]);C!=null&&y(n,["experiment"],C);const N=m(e,["labels"]);N!=null&&y(n,["labels"],N);const P=m(e,["outputUri"]);P!=null&&y(n,["outputUri"],P);const L=m(e,["pipelineJob"]);L!=null&&y(n,["pipelineJob"],L);const j=m(e,["serviceAccount"]);j!=null&&y(n,["serviceAccount"],j);const q=m(e,["tunedModelDisplayName"]);q!=null&&y(n,["tunedModelDisplayName"],q);const H=m(e,["veoTuningSpec"]);return H!=null&&y(n,["veoTuningSpec"],H),n}function o$(e,t){const n={},r=m(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const o=m(e,["name"]);o!=null&&y(n,["name"],o);const a=m(e,["metadata"]);a!=null&&y(n,["metadata"],a);const l=m(e,["done"]);l!=null&&y(n,["done"],l);const c=m(e,["error"]);return c!=null&&y(n,["error"],c),n}function IS(e,t){const n={},r=m(e,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const o=m(e,["vertexDatasetResource"]);return o!=null&&y(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s$ extends $i{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ls(Ui.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:o});return a.baseModel=void 0,await this.tuneInternal(a)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),a=await this.tuneMldevInternal(o);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:Um.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=KU(t);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>Km(p))}else{const f=ZU(t);return c=Me("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>b1(p))}}async listInternal(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=WU(t);return c=Me("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=t$(p),v=new rS;return Object.assign(v,g),v})}else{const f=QU(t);return c=Me("tunedModels",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=e$(p),v=new rS;return Object.assign(v,g),v})}}async cancel(t){var n,r,o,a;let l,c="",d={};if(this.apiClient.isVertexAI()){const f=VU(t);return c=Me("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=HU(p),v=new iS;return Object.assign(v,g),v})}else{const f=qU(t);return c=Me("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:p.headers},v})),l.then(p=>{const g=jU(p),v=new iS;return Object.assign(v,g),v})}}async tuneInternal(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI()){const c=JU(t,t);return a=Me("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>Km(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let o,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=GU(t);return a=Me("tunedModels",c._url),l=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>o$(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a${async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const l$=1024*1024*8,u$=3,c$=1e3,d$=2,Ud="x-goog-upload-status";async function f$(e,t,n){var r;const o=await x1(e,t,n),a=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[Ud])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function h$(e,t,n){var r;const o=await x1(e,t,n),a=await(o==null?void 0:o.json());if(((r=o==null?void 0:o.headers)===null||r===void 0?void 0:r[Ud])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=RT(a),c=new Vg;return Object.assign(c,l),c}async function x1(e,t,n){var r,o;let a=0,l=0,c=new $m(new Response),d="upload";for(a=e.size;l<a;){const f=Math.min(l$,a-l),p=e.slice(l,l+f);l+f>=a&&(d+=", finalize");let g=0,v=c$;for(;g<u$&&(c=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[Ud]));)g++,await m$(v),v=v*d$;if(l+=f,((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[Ud])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function p$(e){return{size:e.size,type:e.type}}function m$(e){return new Promise(t=>setTimeout(t,e))}class g${async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await f$(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await h$(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await p$(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y${create(t,n,r){return new v$(t,n,r)}}class v${constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MS="x-goog-api-key";class _${constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(MS)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(MS,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const b$="gl-node/";class x${get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new wn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=pI(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const o=new _$(this.apiKey);this.apiClient=new pO({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:b$+"web",uploader:new g$,downloader:new a$}),this.models=new PO(this.apiClient),this.live=new CO(this.apiClient,o,new y$),this.batches=new HM(this.apiClient),this.chats=new EP(this.models,this.apiClient),this.caches=new xP(this.apiClient),this.files=new DP(this.apiClient),this.operations=new DO(this.apiClient),this.authTokens=new YO(this.apiClient),this.tunings=new s$(this.apiClient),this.fileSearchStores=new iU(this.apiClient)}}var S$={};const w$=()=>{try{return typeof process<"u"&&S$&&"PLACEHOLDER_API_KEY"||""}catch{return""}},S1=w$(),E$=new x$({apiKey:S1}),T$=async e=>{if(!S1)return console.warn("API_KEY not found. Returning empty string."),`{
  "error": "API Key missing. Cannot generate."
}`;try{const t=`
    You are an expert API tester.
    Generate a valid JSON object based strictly on the following schema or description.
    Populate it with realistic, creative dummy data for a "Cosmos Store" (futuristic tech shop).
    Do NOT include markdown formatting (like \`\`\`json). Just return the raw JSON string.
    
    Schema/Description:
    ${e}
    `;return((await E$.models.generateContent({model:"gemini-3-flash-preview",contents:t})).text||"{}").replace(/```json/g,"").replace(/```/g,"").trim()}catch(t){return console.error("Gemini generation failed:",t),`{
  "error": "Failed to generate payload via AI."
}`}},w1=({endpoint:e,baseUrl:t,securitySchemes:n={},authCredentials:r,forcedOpen:o=!1})=>{var gt,wt,xt,Tn;const[a,l]=oe.useState(!1),c=o||a,{activeTab:d,setActiveTab:f,paramValues:p,setParamValues:g,bodyValue:v,setBodyValue:b}=Q2(e.id,{activeTab:(()=>{const fe=e.parameters&&e.parameters.length>0,Ee=["POST","PUT","PATCH"].includes(e.method);return!fe&&Ee?"body":"params"})(),paramValues:{},bodyValue:e.requestBodySchema||""}),[E,R]=oe.useState("0"),[k,w]=oe.useState(!1),[T,A]=oe.useState({}),[M,C]=oe.useState(!1),[N,P]=oe.useState(!1),[L,j]=oe.useState(null),[q,H]=oe.useState(!1),[K,ee]=oe.useState(!1),[Q,W]=oe.useState("json"),[G,ce]=oe.useState([]);oe.useEffect(()=>{if(Q==="ui")try{const fe=JSON.parse(v||"{}");if(typeof fe=="object"&&fe!==null&&!Array.isArray(fe)){const Ee=Object.entries(fe).map(([Te,re])=>({id:Math.random().toString(36).substring(7),key:Te,value:String(re),type:typeof re=="number"?"number":typeof re=="boolean"?"boolean":"string"}));ce(Ee)}else ce([])}catch{ce([])}},[Q]);const _e=fe=>{const Ee={};fe.forEach(Te=>{Te.key&&(Te.type==="number"?Ee[Te.key]=Number(Te.value):Te.type==="boolean"?Ee[Te.key]=Te.value==="true":Ee[Te.key]=Te.value)}),b(JSON.stringify(Ee,null,2))},[ze,$]=oe.useState(!1),[z,B]=oe.useState(null),D=e.security&&e.security.length>0,O=D&&((gt=e.security)==null?void 0:gt.some(fe=>Object.keys(fe).every(Ee=>!!r[Ee]))),V=((wt=e.requestBodyType)==null?void 0:wt.includes("multipart"))||((xt=e.requestBodyType)==null?void 0:xt.includes("form-urlencoded")),X={[Ln.GET]:{bg:"bg-blue-50 dark:bg-blue-500/10",border:"border-blue-200 dark:border-blue-500/20",text:"text-blue-700 dark:text-blue-400",button:"bg-blue-600 hover:bg-blue-500 shadow-blue-900/20"},[Ln.POST]:{bg:"bg-emerald-50 dark:bg-emerald-500/10",border:"border-emerald-200 dark:border-emerald-500/20",text:"text-emerald-700 dark:text-emerald-400",button:"bg-emerald-600 hover:bg-emerald-500 shadow-emerald-900/20"},[Ln.PUT]:{bg:"bg-amber-50 dark:bg-amber-500/10",border:"border-amber-200 dark:border-amber-500/20",text:"text-amber-700 dark:text-amber-400",button:"bg-amber-600 hover:bg-amber-500 shadow-amber-900/20"},[Ln.DELETE]:{bg:"bg-red-50 dark:bg-red-500/10",border:"border-red-200 dark:border-red-500/20",text:"text-red-700 dark:text-red-400",button:"bg-red-600 hover:bg-red-500 shadow-red-900/20"},[Ln.PATCH]:{bg:"bg-purple-50 dark:bg-purple-500/10",border:"border-purple-200 dark:border-purple-500/20",text:"text-purple-700 dark:text-purple-400",button:"bg-purple-600 hover:bg-purple-500 shadow-purple-900/20"}}[e.method],{finalPath:se,headers:xe}=oe.useMemo(()=>{var re,we;let fe=e.path;(re=e.parameters)==null||re.forEach(ye=>{ye.in==="path"&&(fe=fe.replace(`{${ye.name}}`,p[ye.name]||`{${ye.name}}`))});const Ee=[];(we=e.parameters)==null||we.forEach(ye=>{if(ye.in==="query"){const Pe=p[ye.name]!==void 0?p[ye.name]:ye.default!==void 0?String(ye.default):"";Pe&&Ee.push(`${encodeURIComponent(ye.name)}=${encodeURIComponent(Pe)}`)}}),Ee.length>0&&(fe+=(fe.includes("?")?"&":"?")+Ee.join("&"));const Te={};if(D&&e.security){const ye=e.security.find(Pe=>Object.keys(Pe).every(Ve=>!!r[Ve]))||e.security[0];ye&&Object.keys(ye).forEach(Pe=>{const Ve=n[Pe],Gt=r[Pe];if(Ve&&Gt)if(Ve.type==="http"&&Ve.scheme==="bearer")Te.Authorization=`Bearer ${Gt}`;else if(Ve.type==="http"&&Ve.scheme==="basic")Te.Authorization=`Basic ${Gt}`;else if(Ve.type==="apiKey"&&Ve.in==="header"&&Ve.name)Te[Ve.name]=Gt;else if(Ve.type==="apiKey"&&Ve.in==="query"&&Ve.name){const mn=fe.includes("?")?"&":"?";fe+=`${mn}${Ve.name}=${encodeURIComponent(Gt)}`}else Ve.type==="oauth2"&&(Te.Authorization=`Bearer ${Gt}`)})}return{finalPath:fe,headers:Te}},[e,p,r,n,D]),Ce=async()=>{var Ee;const fe=[];if((Ee=e.parameters)==null||Ee.forEach(Te=>{Te.required&&!p[Te.name]&&fe.push(`Parameter: ${Te.name}`)}),V&&e.requestBodyProperties&&e.requestBodyProperties.forEach(Te=>{Te.required&&!T[Te.name]&&fe.push(`Body Field: ${Te.name}`)}),fe.length>0){B(fe);return}C(!0),j(null),R("live");try{let Te=v;if(V){const we=new FormData;Object.entries(T).forEach(([ye,Pe])=>{we.append(ye,Pe)}),Te=we}const re=await aI(t,e.method,se,Te,xe);j(re)}finally{C(!1)}},Ue=async()=>{if(e.requestBodySchema){P(!0);try{const fe=await T$(e.requestBodySchema);b(fe)}finally{P(!1)}}},Y=fe=>{navigator.clipboard.writeText(fe),H(!0),setTimeout(()=>H(!1),2e3)},ne=fe=>{fe.stopPropagation();const Ee=`${t.replace(/\/$/,"")}${e.path}`;navigator.clipboard.writeText(Ee),ee(!0),setTimeout(()=>ee(!1),2e3)},me=fe=>{fe.stopPropagation();const Ee=JSON.stringify(e,null,2),Te=new Blob([Ee],{type:"application/json"}),re=URL.createObjectURL(Te);window.open(re,"_blank"),$(!1)},be=fe=>{fe.stopPropagation();const Ee="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),Te=document.createElement("a");Te.setAttribute("href",Ee),Te.setAttribute("download",`${e.method}_${e.path.replace(/\//g,"_")}.json`),document.body.appendChild(Te),Te.click(),Te.remove(),$(!1)},Ae=(fe,Ee)=>{Ee.target.files&&Ee.target.files.length>0&&A(Te=>({...Te,[fe]:Ee.target.files[0]}))},He=(fe,Ee)=>{A(Te=>({...Te,[fe]:Ee}))},It=fe=>{A(Ee=>{const Te={...Ee};return delete Te[fe],Te})},Ye=Object.keys(e.responses).sort();return x.jsxs("div",{className:`mb-4 rounded-lg border ${c&&!o?"ring-1 ring-opacity-50 shadow-lg":""} ${X.border} bg-white dark:bg-slate-950 shadow-sm dark:shadow-none relative ${ze?"z-10":""} ${o?"h-full flex flex-col mb-0 border-0 rounded-none md:rounded-lg md:border":""}`,children:[x.jsxs("div",{className:`flex items-center justify-between p-3 px-4 select-none group ${X.bg} ${!o&&"hover:brightness-110 cursor-pointer"} rounded-t-lg ${c?"":"rounded-b-lg"}`,onClick:o?void 0:()=>l(!a),children:[x.jsxs("div",{className:"flex items-center gap-4 overflow-hidden min-w-0 flex-1",children:[x.jsx("div",{className:"w-20 shrink-0",children:x.jsx(NT,{method:e.method,className:"shadow-sm w-full block text-center"})}),x.jsxs("span",{className:"font-mono text-slate-700 dark:text-slate-200 font-medium truncate min-w-0 flex-1 flex items-center gap-3",children:[x.jsx("span",{className:"opacity-90",children:e.path}),x.jsxs("span",{className:"text-slate-400 text-sm hidden sm:block truncate shrink-0 font-sans opacity-60",children:["- ",e.summary]})]})]}),x.jsxs("div",{className:"flex items-center gap-3 shrink-0 ml-4",children:[x.jsx("button",{onClick:ne,className:`transition-all p-1 ${K?"text-emerald-500 dark:text-emerald-400":"text-slate-500 dark:text-slate-500 hover:text-slate-800 dark:hover:text-slate-200"}`,title:"Copy Endpoint URL",children:K?x.jsx(la,{size:14}):x.jsx(x2,{size:14})}),x.jsxs("div",{className:"relative",children:[x.jsx("button",{onClick:fe=>{fe.stopPropagation(),$(!ze)},className:"p-1 text-slate-500 dark:text-slate-500 hover:text-slate-800 dark:hover:text-slate-200 transition-colors",title:"Export",children:x.jsx(s2,{size:16})}),ze&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-40",onClick:fe=>{fe.stopPropagation(),$(!1)}}),x.jsxs("div",{className:"absolute right-0 top-full mt-1 w-40 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-md shadow-xl z-50 overflow-hidden py-1",children:[x.jsxs("button",{onClick:me,className:"w-full text-left px-3 py-2 text-xs text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-white flex items-center gap-2",children:[x.jsx(f2,{size:12})," Raw JSON"]}),x.jsxs("button",{onClick:be,className:"w-full text-left px-3 py-2 text-xs text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-white flex items-center gap-2",children:[x.jsx(i2,{size:12})," Download JSON"]})]})]})]}),D&&x.jsx("div",{title:O?"Authorized":"Authorization required",children:O?x.jsx(Dm,{size:14,className:"text-emerald-500 dark:text-emerald-400"}):x.jsx(Rd,{size:14,className:"text-slate-400 dark:text-slate-600"})}),!o&&x.jsx("div",{className:"text-slate-500 dark:text-slate-400 transition-colors ml-2",children:c?x.jsx(jl,{size:20}):x.jsx(of,{size:20})})]})]}),c&&x.jsxs("div",{className:`bg-slate-50/50 dark:bg-slate-900/30 p-4 border-t border-slate-200 dark:border-slate-800/50 animate-in fade-in slide-in-from-top-1 duration-200 rounded-b-lg ${o?"flex-1 flex flex-col min-h-0 overflow-hidden":""}`,children:[x.jsxs("div",{className:"mb-6 px-4",children:[x.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Description"}),(()=>{const fe=e.description||"No description available.";return fe.split(`
`).length>5||fe.length>300?x.jsxs("div",{className:"relative block w-full",children:[x.jsx("div",{className:"mask-image-gradient-b",children:x.jsx(ua,{content:fe,className:"text-sm dark:text-slate-300 text-slate-600 line-clamp-2"})}),x.jsx("div",{className:"mt-2 text-right",children:x.jsx("button",{onClick:Te=>{Te.stopPropagation(),w(!0)},className:"text-xs font-bold text-blue-500 hover:text-blue-400 inline-flex items-center group cursor-pointer",children:x.jsxs("span",{className:"shrink-0 text-[10px] bg-blue-50 hover:bg-blue-100 dark:bg-slate-800 dark:text-slate-400 px-1.5 py-0.5 rounded-full border border-blue-100 dark:border-slate-700/50 flex items-center gap-1 dark:group-hover:border-blue-500/30 transition-colors",children:[x.jsx(Ol,{size:8})," Read More"]})})}),k&&x.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:Te=>{Te.stopPropagation(),w(!1)},children:x.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 w-full max-w-2xl max-h-[80vh] rounded-xl shadow-2xl flex flex-col animate-in zoom-in-95 duration-200",onClick:Te=>Te.stopPropagation(),children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50 rounded-t-xl",children:[x.jsx("h3",{className:"font-bold text-slate-900 dark:text-slate-200 flex items-center gap-2",children:"Description"}),x.jsx("button",{onClick:Te=>{Te.stopPropagation(),w(!1)},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-800 rounded text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M18 6 6 18"}),x.jsx("path",{d:"m6 6 12 12"})]})})]}),x.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:x.jsx(ua,{content:fe,className:"text-sm text-slate-300"})})]})})]}):x.jsx(ua,{content:fe,className:"text-sm text-slate-600 dark:text-slate-300"})})()]}),x.jsxs("div",{className:`grid lg:grid-cols-2 gap-6 ${o?"flex-1 min-h-0":""}`,children:[x.jsxs("div",{className:`space-y-4 min-w-0 flex flex-col ${o?"h-full":""}`,children:[x.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 dark:border-slate-800 pb-2 mb-2",children:[x.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 flex items-center gap-2",children:"Request"}),x.jsx("div",{className:"flex gap-1",children:["params","body","auth"].map(fe=>{const Ee=fe==="body"&&!["POST","PUT","PATCH"].includes(e.method);return x.jsx("button",{disabled:Ee,onClick:Te=>{Te.stopPropagation(),f(fe)},className:`px-3 py-1 text-xs font-medium rounded-full transition-all ${d===fe?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm ring-1 ring-slate-200 dark:ring-slate-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800/50"} ${Ee?"opacity-30 cursor-not-allowed hidden":""}`,children:fe==="params"?"Parameters":fe==="body"?"Request Body":"Authorization"},fe)})})]}),x.jsxs("div",{className:`p-4 rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 min-h-[250px] flex-1 shadow-inner transition-colors ${o?"flex flex-col overflow-hidden":""}`,children:[d==="params"&&x.jsx("div",{className:"space-y-4 overflow-y-auto custom-scrollbar max-h-[500px] pr-2",children:!e.parameters||e.parameters.length===0?x.jsx("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 text-sm italic opacity-60 flex-1",children:x.jsx("span",{children:"No parameters required"})}):x.jsxs("table",{className:"w-full text-left border-collapse",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-800 text-[10px] uppercase text-slate-500 font-bold tracking-wider",children:[x.jsx("th",{className:"pb-2 w-1/3",children:"Name"}),x.jsx("th",{className:"pb-2",children:"Value"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800/50",children:e.parameters.map(fe=>x.jsxs("tr",{children:[x.jsx("td",{className:"py-3 align-top pr-2",children:x.jsxs("div",{className:"flex flex-col",children:[x.jsxs("span",{className:"text-xs font-mono font-semibold text-slate-700 dark:text-slate-300",children:[fe.name,fe.required&&x.jsx("span",{className:"text-red-500 ml-0.5",children:"*"})]}),x.jsxs("span",{className:"text-[10px] text-slate-500 mt-0.5",children:[fe.in,"  ",fe.type,fe.default!==void 0&&x.jsxs("span",{className:"ml-1 text-blue-500 dark:text-blue-400",children:[" default: ",String(fe.default)]})]}),fe.description&&x.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-600 mt-1 leading-tight",children:fe.description})]})}),x.jsx("td",{className:"py-3 align-top",children:fe.enum?x.jsxs("div",{className:"relative",children:[x.jsxs("select",{className:"w-full appearance-none bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded px-2.5 py-1.5 text-xs text-slate-900 dark:text-slate-200 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/20 transition-all cursor-pointer",value:p[fe.name]!==void 0?p[fe.name]:fe.default!==void 0?String(fe.default):"",onChange:Ee=>g(Te=>({...Te,[fe.name]:Ee.target.value})),children:[x.jsx("option",{value:"",children:"Select..."}),fe.enum.map(Ee=>x.jsx("option",{value:Ee,children:Ee},Ee))]}),x.jsx(jl,{size:12,className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-slate-500 pointer-events-none"})]}):x.jsx("input",{type:"text",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded px-2.5 py-1.5 text-xs text-slate-900 dark:text-slate-200 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/20 transition-all placeholder:text-slate-400 dark:placeholder:text-slate-700",placeholder:fe.default!==void 0?String(fe.default):`Enter ${fe.name}...`,value:p[fe.name]!==void 0?p[fe.name]:fe.default!==void 0?String(fe.default):"",onChange:Ee=>g(Te=>({...Te,[fe.name]:Ee.target.value}))})})]},fe.name))})]})}),d==="body"&&x.jsxs("div",{className:`h-full flex flex-col overflow-hidden ${o?"flex-1 min-h-0":""}`,children:[x.jsxs("div",{className:"flex justify-between items-center mb-3 shrink-0 px-1",children:[x.jsx("span",{className:"text-[10px] font-mono text-slate-500 bg-slate-100 dark:bg-slate-900 px-2 py-0.5 rounded border border-slate-200 dark:border-slate-800",children:e.requestBodyType||"application/json"}),!V&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-900 rounded-lg p-0.5 border border-slate-200 dark:border-slate-800",children:[x.jsx("button",{onClick:()=>W("json"),className:`px-2.5 py-1 text-[10px] font-medium rounded-md transition-all ${Q==="json"?"bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"JSON"}),x.jsx("button",{onClick:()=>W("ui"),className:`px-2.5 py-1 text-[10px] font-medium rounded-md transition-all ${Q==="ui"?"bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"UI Builder"})]}),x.jsxs("button",{onClick:Ue,disabled:N,className:"group flex items-center gap-1.5 text-[10px] font-medium bg-purple-500/5 text-purple-400 px-2.5 py-1 rounded-full border border-purple-500/20 hover:bg-purple-500/20 transition-all disabled:opacity-50",children:[N?x.jsx(bo,{size:10,className:"animate-spin"}):x.jsx($2,{size:10,className:"group-hover:text-purple-300"}),"Generate Example"]})]})]}),V&&e.requestBodyProperties?x.jsx("div",{className:`space-y-3 overflow-y-auto custom-scrollbar p-1 pb-4 max-h-[500px] ${o?"flex-1 min-h-0":""}`,children:Object.entries(e.requestBodyProperties).map(([fe,Ee])=>{const Te=Ee.format==="binary"||Ee.type==="file";return x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800 rounded p-3",children:[x.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[x.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:Ee.name}),Ee.required&&x.jsx("span",{className:"text-red-500 text-xs",children:"*"}),x.jsxs("span",{className:"text-[10px] text-slate-500 font-mono bg-white dark:bg-slate-950 px-1.5 rounded border border-slate-200 dark:border-transparent",children:[Ee.type,Ee.format?` (${Ee.format})`:""]})]}),Te?x.jsx("div",{className:"relative",children:T[Ee.name]&&T[Ee.name]instanceof File?x.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-100 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded",children:[x.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[x.jsx("div",{className:"w-8 h-8 bg-blue-500/10 rounded flex items-center justify-center shrink-0",children:x.jsx(p2,{size:14,className:"text-blue-500 dark:text-blue-400"})}),x.jsxs("div",{className:"min-w-0",children:[x.jsx("p",{className:"text-xs text-slate-700 dark:text-slate-300 truncate",children:T[Ee.name].name}),x.jsxs("p",{className:"text-[10px] text-slate-500",children:[(T[Ee.name].size/1024).toFixed(1)," ","KB"]})]})]}),x.jsx("button",{onClick:()=>It(Ee.name),className:"p-1 hover:bg-red-500/10 text-slate-500 hover:text-red-400 rounded transition-colors",children:x.jsx(Jr,{size:14})})]}):x.jsxs("div",{className:"relative group",children:[x.jsx("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer w-full z-10",onChange:re=>Ae(Ee.name,re)}),x.jsxs("div",{className:"border border-dashed border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-950/50 rounded p-4 text-center group-hover:border-blue-500/30 transition-colors",children:[x.jsx(B2,{size:16,className:"mx-auto mb-1 text-slate-500 group-hover:text-blue-400"}),x.jsx("p",{className:"text-xs text-slate-500",children:"Click or drag to upload"})]})]})}):x.jsx("input",{type:"text",className:"w-full bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-700 rounded px-3 py-2 text-xs text-slate-900 dark:text-slate-200 focus:outline-none focus:border-blue-500/50",placeholder:`Enter ${Ee.name}`,onChange:re=>He(Ee.name,re.target.value)}),Ee.description&&x.jsx("p",{className:"text-[10px] text-slate-500 mt-1.5",children:Ee.description})]},Ee.name)})}):x.jsx("div",{className:`w-full flex-1 border border-slate-200 dark:border-slate-800 rounded overflow-hidden min-h-[160px] transition-colors ${o?"h-full":""}`,children:Q==="json"?x.jsx(oI,{value:v,onChange:fe=>b(fe),placeholder:"{}",className:"bg-slate-50 dark:bg-slate-900/50"}):x.jsxs("div",{className:"flex flex-col h-full bg-slate-50 dark:bg-slate-900/50 min-h-0 max-h-[500px]",children:[x.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2 space-y-2 min-h-0",children:G.length===0?x.jsx("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 text-xs italic opacity-60 min-h-[100px]",children:x.jsx("p",{children:"No properties added"})}):G.map((fe,Ee)=>x.jsxs("div",{className:"flex gap-2 items-center group",children:[x.jsx("input",{type:"text",placeholder:"Key",value:fe.key,onChange:Te=>{const re=[...G];re[Ee].key=Te.target.value,ce(re),_e(re)},className:"flex-1 min-w-0 bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded px-2 py-1 text-xs text-slate-800 dark:text-slate-200 focus:outline-none focus:border-blue-500/50"}),x.jsxs("select",{value:fe.type,onChange:Te=>{const re=[...G];re[Ee].type=Te.target.value,ce(re),_e(re)},className:"w-20 bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded px-2 py-1 text-[10px] text-slate-500 outline-none cursor-pointer",children:[x.jsx("option",{value:"string",children:"String"}),x.jsx("option",{value:"number",children:"Number"}),x.jsx("option",{value:"boolean",children:"Boolean"})]}),x.jsx("input",{type:"text",placeholder:"Value",value:fe.value,onChange:Te=>{const re=[...G];re[Ee].value=Te.target.value,ce(re),_e(re)},className:"flex-1 min-w-0 bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded px-2 py-1 text-xs text-slate-800 dark:text-slate-200 focus:outline-none focus:border-blue-500/50"}),x.jsx("button",{onClick:()=>{const Te=G.filter((re,we)=>we!==Ee);ce(Te),_e(Te)},className:"p-1 text-slate-400 hover:text-red-500 hover:bg-red-500/10 rounded transition-colors",children:x.jsx(Jr,{size:12})})]},fe.id))}),x.jsx("div",{className:"p-2 border-t border-slate-200 dark:border-slate-800 bg-slate-100/50 dark:bg-slate-900/30",children:x.jsxs("button",{onClick:()=>{const fe=[...G,{id:Math.random().toString(36).substring(7),key:"",value:"",type:"string"}];ce(fe),_e(fe)},className:"w-full py-1.5 rounded border border-dashed border-slate-300 dark:border-slate-700 text-slate-500 text-xs hover:bg-white dark:hover:bg-slate-800 hover:text-blue-500 hover:border-blue-300 transition-all flex items-center justify-center gap-1.5",children:[x.jsx(zm,{size:12})," Add Property"]})})]})})]}),d==="auth"&&x.jsx("div",{className:"flex flex-col gap-3 overflow-y-auto custom-scrollbar max-h-[500px] pr-2",children:D?(Tn=e.security)==null?void 0:Tn.map((fe,Ee)=>x.jsx("div",{className:"space-y-2",children:Object.keys(fe).map(Te=>{n[Te];const re=!!r[Te];return x.jsxs("div",{className:"p-3 border border-slate-200 dark:border-slate-800 rounded-md bg-slate-50 dark:bg-slate-900/50",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[re?x.jsx(Dm,{size:12,className:"text-emerald-500"}):x.jsx(Rd,{size:12,className:"text-amber-500"}),x.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:Te})]}),re?x.jsx("span",{className:"text-[10px] bg-emerald-500/10 text-emerald-400 px-1.5 py-0.5 rounded border border-emerald-500/20",children:"Authorized"}):x.jsx("span",{className:"text-[10px] bg-amber-500/10 text-amber-500 px-1.5 py-0.5 rounded border border-amber-500/20",children:"Missing"})]}),x.jsx("div",{className:"flex gap-2 items-center",children:x.jsx("input",{type:"password",value:"************************",disabled:!0,className:"w-full bg-slate-100 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 text-slate-500 dark:text-slate-600 text-[10px] px-2 py-1.5 rounded cursor-not-allowed font-mono tracking-widest"})}),!re&&x.jsx("p",{className:"text-[10px] text-slate-500 mt-2 italic",children:'Please set credentials in the top-right "Authorize" menu.'})]},Te)})},Ee)):x.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 dark:text-slate-500 text-sm italic py-12 rounded-lg bg-slate-50 dark:bg-slate-900 transition-colors border border-dashed border-slate-200 dark:border-slate-800",children:"No authorization needed"})})]}),x.jsxs("button",{onClick:Ce,disabled:M,className:`w-full py-2.5 text-white rounded font-medium text-sm flex items-center justify-center gap-2 shadow-lg transition-all active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed ${X.button}`,children:[M?x.jsx(bo,{size:16,className:"animate-spin"}):x.jsx(kT,{size:16,fill:"currentColor"}),"Execute"]})]}),x.jsxs("div",{className:"flex flex-col h-full min-w-0",children:[x.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 dark:border-slate-800 pb-2 mb-2",children:[x.jsx("h3",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:"Response"}),x.jsxs("div",{className:"flex gap-1 overflow-x-auto no-scrollbar max-w-[200px] sm:max-w-none",children:[x.jsxs("button",{onClick:()=>R("live"),className:`px-3 py-1 text-xs font-medium rounded-full transition-all flex items-center gap-1.5 whitespace-nowrap ${E==="live"?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm ring-1 ring-slate-200 dark:ring-slate-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800/50"}`,children:[x.jsx(Hl,{size:10,className:E==="live"?"text-yellow-400 fill-current":""}),"Live"]}),x.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-800 mx-1 self-center"}),Ye.map(fe=>x.jsxs("button",{onClick:()=>R(fe),className:`px-2.5 py-1 text-xs font-mono font-bold rounded-full transition-all whitespace-nowrap ${E===fe?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm ring-1 ring-slate-200 dark:ring-slate-600":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800/50"}`,children:[x.jsx("span",{className:`inline-block w-1.5 h-1.5 rounded-full mr-1.5 ${parseInt(fe)<400?"bg-emerald-500":"bg-red-500"}`}),fe]},fe))]})]}),x.jsxs("div",{className:`flex-1 flex flex-col rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 overflow-hidden min-h-[300px] shadow-inner relative ${o?"h-full":""}`,children:[E==="live"&&x.jsxs("div",{className:`flex-1 flex flex-col overflow-auto custom-scrollbar relative ${!L&&"items-center justify-center"}`,children:[!L&&!M&&x.jsxs("div",{className:"text-center p-6 opacity-60",children:[x.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-50 dark:bg-slate-900 mx-auto mb-3 flex items-center justify-center border border-slate-200 dark:border-slate-800",children:x.jsx(Hl,{size:20,className:"text-slate-400 dark:text-slate-600"})}),x.jsx("p",{className:"text-slate-500 font-medium text-xs uppercase tracking-wide",children:"Ready to execute"})]}),M&&x.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-white/80 dark:bg-slate-950/80 backdrop-blur-sm z-20",children:[x.jsx(bo,{size:32,className:"text-blue-500 animate-spin mb-3"}),x.jsx("p",{className:"text-slate-400 text-xs font-medium animate-pulse",children:"Sending Request..."})]}),L&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:`flex items-center justify-between px-4 py-2 border-b border-slate-800 ${L.status>=400?"bg-red-500/5":"bg-emerald-500/5"} shrink-0`,children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:`flex items-center gap-2 px-2 py-1 rounded text-xs font-bold ${L.status>=400?"bg-red-500/20 text-red-400":"bg-emerald-500/20 text-emerald-400"}`,children:[x.jsx("span",{children:L.status}),x.jsx("span",{className:`w-1 h-1 rounded-full ${L.status>=400?"bg-red-400":"bg-emerald-400"}`})]}),x.jsxs("span",{className:"text-[10px] font-mono text-slate-500",children:[L.latency,"ms"]})]}),x.jsx("button",{onClick:()=>Y(JSON.stringify(L.data,null,2)),className:"text-slate-500 hover:text-slate-300 transition-colors",children:q?x.jsx(la,{size:14,className:"text-emerald-400"}):x.jsx(Pm,{size:14})})]}),x.jsx("div",{className:"p-4",children:x.jsx(ma,{data:L.data})})]})]}),Ye.includes(E)&&e.responses[parseInt(E)]&&x.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-slate-950",children:[x.jsxs("div",{className:"flex flex-col border-b border-slate-800 bg-slate-900/30 shrink-0",children:[x.jsxs("div",{className:"px-4 py-3",children:[x.jsx("h5",{className:"text-[10px] font-bold uppercase text-slate-500 tracking-wider mb-1",children:"Description"}),x.jsx("p",{className:"text-sm text-slate-300 leading-snug",children:e.responses[parseInt(E)].description})]}),x.jsxs("div",{className:"px-4 py-1.5 bg-slate-900/50 flex justify-between items-center border-t border-slate-800/50",children:[x.jsx("span",{className:"text-[10px] font-mono text-slate-500",children:"application/json"}),e.responses[parseInt(E)].schema&&x.jsxs("button",{onClick:()=>Y(e.responses[parseInt(E)].schema),className:"text-slate-500 hover:text-slate-300 transition-colors flex items-center gap-1.5 text-[10px] font-medium",children:[q?x.jsx(la,{size:12,className:"text-emerald-400"}):x.jsx(Pm,{size:12}),q?"Copied":"Copy"]})]})]}),x.jsx("div",{className:"p-4 overflow-auto custom-scrollbar flex-1 bg-white dark:bg-slate-950 transition-colors max-h-[500px]",children:e.responses[parseInt(E)].schema?(()=>{let fe=e.responses[parseInt(E)].schema;try{typeof fe=="string"&&(fe=JSON.parse(fe))}catch{}return x.jsx(ma,{data:fe})})():x.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-600 italic text-sm",children:[x.jsx(c2,{size:24,className:"mb-2 opacity-30"}),"No example schema provided"]})})]})]})]}),z&&x.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:fe=>{fe.stopPropagation(),B(null)},children:x.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg shadow-2xl w-full max-w-sm overflow-hidden relative animate-in zoom-in-95 duration-200",onClick:fe=>fe.stopPropagation(),children:x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[x.jsx("div",{className:"p-2 bg-red-500/10 rounded-full shrink-0",children:x.jsx(Nd,{size:24,className:"text-red-500"})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-base font-bold text-slate-800 dark:text-slate-200",children:"Missing Required Fields"}),x.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Please complete the following fields:"})]})]}),x.jsx("div",{className:"bg-slate-50 dark:bg-slate-950/50 rounded-md border border-slate-200 dark:border-slate-800/50 p-3 mb-5 max-h-[200px] overflow-y-auto custom-scrollbar",children:x.jsx("ul",{className:"space-y-2",children:z.map((fe,Ee)=>x.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-600 dark:text-slate-300",children:[x.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-500 mt-1 shrink-0"}),fe]},Ee))})}),x.jsx("button",{onClick:fe=>{fe.stopPropagation(),B(null)},className:"w-full py-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 hover:text-slate-900 dark:hover:text-white text-slate-600 dark:text-slate-300 rounded font-bold text-xs transition-colors border border-slate-200 dark:border-slate-700 uppercase tracking-wide",children:"Dismiss"})]})})})]})]})]})},E1="https://api.cosmos-store.io/v1",T1={openapi:"3.1.0",info:{title:"Test API - Full CRUD Operations",version:"0.1.0"},paths:{"/":{get:{summary:"Read Root",operationId:"read_root__get",responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}}}}},"/users":{get:{tags:["Users"],summary:"Get Users",description:" users ",operationId:"get_users_users_get",security:[{HTTPBasic:[]}],parameters:[{name:"skip",in:"query",required:!1,schema:{type:"integer",minimum:0,default:0,title:"Skip"}},{name:"limit",in:"query",required:!1,schema:{type:"integer",maximum:100,minimum:1,default:10,title:"Limit"}}],responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}},post:{tags:["Users"],summary:"Create User",description:" user ",operationId:"create_user_users_post",security:[{HTTPBasic:[]}],requestBody:{required:!0,content:{"application/json":{schema:{$ref:"#/components/schemas/User"}}}},responses:{201:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}}},"/users/{user_id}":{get:{tags:["Users"],summary:"Get User",description:" user  ID",operationId:"get_user_users__user_id__get",security:[{HTTPBasic:[]}],parameters:[{name:"user_id",in:"path",required:!0,schema:{type:"integer",title:"User Id"}}],responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}},put:{tags:["Users"],summary:"Update User",description:" user  (replace)",operationId:"update_user_users__user_id__put",security:[{HTTPBasic:[]}],parameters:[{name:"user_id",in:"path",required:!0,schema:{type:"integer",title:"User Id"}}],requestBody:{required:!0,content:{"application/json":{schema:{$ref:"#/components/schemas/User"}}}},responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}},patch:{tags:["Users"],summary:"Partial Update User",description:" user ",operationId:"partial_update_user_users__user_id__patch",security:[{HTTPBasic:[]}],parameters:[{name:"user_id",in:"path",required:!0,schema:{type:"integer",title:"User Id"}}],requestBody:{required:!0,content:{"application/json":{schema:{$ref:"#/components/schemas/UserUpdate"}}}},responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}},delete:{tags:["Users"],summary:"Delete User",description:" user",operationId:"delete_user_users__user_id__delete",security:[{HTTPBasic:[]}],parameters:[{name:"user_id",in:"path",required:!0,schema:{type:"integer",title:"User Id"}}],responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}}},"/products":{get:{tags:["Products"],summary:"Get Products",description:" products  filter",operationId:"get_products_products_get",security:[{HTTPBasic:[]}],parameters:[{name:"skip",in:"query",required:!1,schema:{type:"integer",minimum:0,default:0,title:"Skip"}},{name:"limit",in:"query",required:!1,schema:{type:"integer",maximum:100,minimum:1,default:10,title:"Limit"}},{name:"category",in:"query",required:!1,schema:{anyOf:[{type:"string"},{type:"null"}],title:"Category"}},{name:"min_price",in:"query",required:!1,schema:{anyOf:[{type:"number"},{type:"null"}],title:"Min Price"}},{name:"max_price",in:"query",required:!1,schema:{anyOf:[{type:"number"},{type:"null"}],title:"Max Price"}}],responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}},post:{tags:["Products"],summary:"Create Product",description:" product ",operationId:"create_product_products_post",security:[{HTTPBasic:[]}],requestBody:{required:!0,content:{"application/json":{schema:{$ref:"#/components/schemas/Product"}}}},responses:{201:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}}},"/products/{product_id}":{get:{tags:["Products"],summary:"Get Product",description:" product  ID",operationId:"get_product_products__product_id__get",security:[{HTTPBasic:[]}],parameters:[{name:"product_id",in:"path",required:!0,schema:{type:"integer",title:"Product Id"}}],responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}},put:{tags:["Products"],summary:"Update Product",description:" product ",operationId:"update_product_products__product_id__put",security:[{HTTPBasic:[]}],parameters:[{name:"product_id",in:"path",required:!0,schema:{type:"integer",title:"Product Id"}}],requestBody:{required:!0,content:{"application/json":{schema:{$ref:"#/components/schemas/Product"}}}},responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}},patch:{tags:["Products"],summary:"Partial Update Product",description:" product ",operationId:"partial_update_product_products__product_id__patch",security:[{HTTPBasic:[]}],parameters:[{name:"product_id",in:"path",required:!0,schema:{type:"integer",title:"Product Id"}}],requestBody:{required:!0,content:{"application/json":{schema:{$ref:"#/components/schemas/ProductUpdate"}}}},responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}},delete:{tags:["Products"],summary:"Delete Product",description:" product",operationId:"delete_product_products__product_id__delete",security:[{HTTPBasic:[]}],parameters:[{name:"product_id",in:"path",required:!0,schema:{type:"integer",title:"Product Id"}}],responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}}},"/orders":{get:{tags:["Orders"],summary:"Get Orders",description:" orders  filter",operationId:"get_orders_orders_get",security:[{HTTPBasic:[]}],parameters:[{name:"skip",in:"query",required:!1,schema:{type:"integer",minimum:0,default:0,title:"Skip"}},{name:"limit",in:"query",required:!1,schema:{type:"integer",maximum:100,minimum:1,default:10,title:"Limit"}},{name:"status",in:"query",required:!1,schema:{anyOf:[{type:"string"},{type:"null"}],title:"Status"}},{name:"user_id",in:"query",required:!1,schema:{anyOf:[{type:"integer"},{type:"null"}],title:"User Id"}}],responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}},post:{tags:["Orders"],summary:"Create Order",description:" order ",operationId:"create_order_orders_post",security:[{HTTPBasic:[]}],requestBody:{required:!0,content:{"application/json":{schema:{$ref:"#/components/schemas/Order"}}}},responses:{201:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}}},"/orders/{order_id}":{get:{tags:["Orders"],summary:"Get Order",description:" order  ID",operationId:"get_order_orders__order_id__get",security:[{HTTPBasic:[]}],parameters:[{name:"order_id",in:"path",required:!0,schema:{type:"integer",title:"Order Id"}}],responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}},delete:{tags:["Orders"],summary:"Delete Order",description:" order",operationId:"delete_order_orders__order_id__delete",security:[{HTTPBasic:[]}],parameters:[{name:"order_id",in:"path",required:!0,schema:{type:"integer",title:"Order Id"}}],responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}}},"/orders/{order_id}/status":{patch:{tags:["Orders"],summary:"Update Order Status",description:" order",operationId:"update_order_status_orders__order_id__status_patch",security:[{HTTPBasic:[]}],parameters:[{name:"order_id",in:"path",required:!0,schema:{type:"integer",title:"Order Id"}}],requestBody:{required:!0,content:{"application/json":{schema:{$ref:"#/components/schemas/Body_update_order_status_orders__order_id__status_patch"}}}},responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}}},"/posts":{get:{tags:["Posts"],summary:"Get Posts",description:" posts  filter",operationId:"get_posts_posts_get",security:[{HTTPBasic:[]}],parameters:[{name:"skip",in:"query",required:!1,schema:{type:"integer",minimum:0,default:0,title:"Skip"}},{name:"limit",in:"query",required:!1,schema:{type:"integer",maximum:100,minimum:1,default:10,title:"Limit"}},{name:"published",in:"query",required:!1,schema:{anyOf:[{type:"boolean"},{type:"null"}],title:"Published"}},{name:"author",in:"query",required:!1,schema:{anyOf:[{type:"string"},{type:"null"}],title:"Author"}},{name:"tag",in:"query",required:!1,schema:{anyOf:[{type:"string"},{type:"null"}],title:"Tag"}}],responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}},post:{tags:["Posts"],summary:"Create Post",description:" post ",operationId:"create_post_posts_post",security:[{HTTPBasic:[]}],requestBody:{required:!0,content:{"application/json":{schema:{$ref:"#/components/schemas/Post"}}}},responses:{201:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}}},"/posts/{post_id}":{get:{tags:["Posts"],summary:"Get Post",description:" post  ID",operationId:"get_post_posts__post_id__get",security:[{HTTPBasic:[]}],parameters:[{name:"post_id",in:"path",required:!0,schema:{type:"integer",title:"Post Id"}}],responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}},put:{tags:["Posts"],summary:"Update Post",description:" post ",operationId:"update_post_posts__post_id__put",security:[{HTTPBasic:[]}],parameters:[{name:"post_id",in:"path",required:!0,schema:{type:"integer",title:"Post Id"}}],requestBody:{required:!0,content:{"application/json":{schema:{$ref:"#/components/schemas/Post"}}}},responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}},delete:{tags:["Posts"],summary:"Delete Post",description:" post",operationId:"delete_post_posts__post_id__delete",security:[{HTTPBasic:[]}],parameters:[{name:"post_id",in:"path",required:!0,schema:{type:"integer",title:"Post Id"}}],responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}}},"/posts/{post_id}/publish":{patch:{tags:["Posts"],summary:"Publish Post",description:" post",operationId:"publish_post_posts__post_id__publish_patch",security:[{HTTPBasic:[]}],parameters:[{name:"post_id",in:"path",required:!0,schema:{type:"integer",title:"Post Id"}}],requestBody:{required:!0,content:{"application/json":{schema:{$ref:"#/components/schemas/Body_publish_post_posts__post_id__publish_patch"}}}},responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}}},"/echo":{post:{tags:["Utilities"],summary:"Echo Json",description:" JSON  ",operationId:"echo_json_echo_post",requestBody:{content:{"application/json":{schema:{additionalProperties:!0,type:"object",title:"Data"}}},required:!0},responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}},security:[{HTTPBasic:[]}]}},"/calculate":{post:{tags:["Utilities"],summary:"Calculate",description:"",operationId:"calculate_calculate_post",requestBody:{content:{"application/json":{schema:{$ref:"#/components/schemas/Body_calculate_calculate_post"}}},required:!0},responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}},security:[{HTTPBasic:[]}]}},"/upload":{post:{tags:["Files"],summary:"Upload Image",description:"",operationId:"upload_image_upload_post",requestBody:{content:{"multipart/form-data":{schema:{$ref:"#/components/schemas/Body_upload_image_upload_post"}}},required:!0},responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}},security:[{HTTPBasic:[]}]}},"/files":{get:{tags:["Files"],summary:"Get All Files",description:"",operationId:"get_all_files_files_get",responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}}},security:[{HTTPBasic:[]}]}},"/files/{filename}":{get:{tags:["Files"],summary:"Get File",description:"",operationId:"get_file_files__filename__get",security:[{HTTPBasic:[]}],parameters:[{name:"filename",in:"path",required:!0,schema:{type:"string",title:"Filename"}}],responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}},delete:{tags:["Files"],summary:"Delete File",description:"",operationId:"delete_file_files__filename__delete",security:[{HTTPBasic:[]}],parameters:[{name:"filename",in:"path",required:!0,schema:{type:"string",title:"Filename"}}],responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}},422:{description:"Validation Error",content:{"application/json":{schema:{$ref:"#/components/schemas/HTTPValidationError"}}}}}}},"/stress-test/30-parameters":{get:{tags:["Stress Test"],summary:"UI Stress Test (30 Params)",description:"Endpoint with 30 parameters to test UI layout capabilities.",operationId:"stress_test_30_params",parameters:[{name:"param_01",in:"query",schema:{type:"string"},description:"Parameter 01 description."},{name:"param_02",in:"query",schema:{type:"integer"},description:"Parameter 02 description."},{name:"param_03",in:"query",schema:{type:"boolean"},description:"Parameter 03 description.",required:!0},{name:"param_04",in:"query",schema:{type:"string"},description:"Parameter 04 description."},{name:"param_05",in:"query",schema:{type:"integer"},description:"Parameter 05 description."},{name:"param_06",in:"query",schema:{type:"string"},description:"Parameter 06 with a very long description to test wrapping behavior in the UI table."},{name:"param_07",in:"query",schema:{type:"string"},description:"Parameter 07 description."},{name:"param_08",in:"query",schema:{type:"integer"},description:"Parameter 08 description."},{name:"param_09_enum",in:"query",schema:{type:"string",enum:["on","off"]},description:"Parameter 09 (Enum Test) - Should be a dropdown."},{name:"param_10",in:"query",schema:{type:"string"},description:"Parameter 10 description."},{name:"param_11",in:"query",schema:{type:"string"},description:"Parameter 11 description."},{name:"param_12",in:"query",schema:{type:"integer"},description:"Parameter 12 description."},{name:"param_13",in:"query",schema:{type:"string"},description:"Parameter 13 description."},{name:"param_14",in:"query",schema:{type:"boolean"},description:"Parameter 14 description."},{name:"param_15",in:"query",schema:{type:"string"},description:"Parameter 15 description."},{name:"param_16",in:"query",schema:{type:"integer"},description:"Parameter 16 description."},{name:"param_17",in:"query",schema:{type:"string"},description:"Parameter 17 description."},{name:"param_18",in:"query",schema:{type:"boolean"},description:"Parameter 18 description."},{name:"param_19",in:"query",schema:{type:"string"},description:"Parameter 19 description."},{name:"param_20",in:"query",schema:{type:"integer"},description:"Parameter 20 description."},{name:"param_21",in:"query",schema:{type:"string"},description:"Parameter 21 description."},{name:"param_22",in:"query",schema:{type:"boolean"},description:"Parameter 22 description."},{name:"param_23",in:"query",schema:{type:"string"},description:"Parameter 23 description."},{name:"param_24",in:"query",schema:{type:"integer"},description:"Parameter 24 description."},{name:"param_25",in:"query",schema:{type:"string"},description:"Parameter 25 description."},{name:"param_26",in:"query",schema:{type:"boolean"},description:"Parameter 26 description."},{name:"param_27",in:"query",schema:{type:"string"},description:"Parameter 27 description."},{name:"param_28",in:"query",schema:{type:"integer"},description:"Parameter 28 description."},{name:"param_29",in:"query",schema:{type:"string"},description:"Parameter 29 description."},{name:"param_30",in:"query",schema:{type:"string"},description:"Parameter 30 description."}],responses:{200:{description:"Successful Response",content:{"application/json":{schema:{}}}}}}}},components:{schemas:{Body_calculate_calculate_post:{properties:{operation:{type:"string",title:"Operation"},a:{type:"number",title:"A"},b:{type:"number",title:"B"}},type:"object",required:["operation","a","b"],title:"Body_calculate_calculate_post"},Body_publish_post_posts__post_id__publish_patch:{properties:{published:{type:"boolean",title:"Published"}},type:"object",required:["published"],title:"Body_publish_post_posts__post_id__publish_patch"},Body_update_order_status_orders__order_id__status_patch:{properties:{status:{type:"string",title:"Status"}},type:"object",required:["status"],title:"Body_update_order_status_orders__order_id__status_patch"},Body_upload_image_upload_post:{properties:{file:{type:"string",format:"binary",title:"File"}},type:"object",required:["file"],title:"Body_upload_image_upload_post"},HTTPValidationError:{properties:{detail:{items:{$ref:"#/components/schemas/ValidationError"},type:"array",title:"Detail"}},type:"object",title:"HTTPValidationError"},Order:{properties:{id:{anyOf:[{type:"integer"},{type:"null"}],title:"Id"},user_id:{type:"integer",title:"User Id"},product_id:{type:"integer",title:"Product Id"},quantity:{type:"integer",title:"Quantity"},total_price:{anyOf:[{type:"number"},{type:"null"}],title:"Total Price"},status:{type:"string",title:"Status",default:"pending"},created_at:{anyOf:[{type:"string"},{type:"null"}],title:"Created At"}},type:"object",required:["user_id","product_id","quantity"],title:"Order"},Post:{properties:{id:{anyOf:[{type:"integer"},{type:"null"}],title:"Id"},title:{type:"string",title:"Title"},content:{type:"string",title:"Content"},author:{type:"string",title:"Author"},tags:{items:{type:"string"},type:"array",title:"Tags",default:[]},published:{type:"boolean",title:"Published",default:!1},created_at:{anyOf:[{type:"string"},{type:"null"}],title:"Created At"}},type:"object",required:["title","content","author"],title:"Post"},Product:{properties:{id:{anyOf:[{type:"integer"},{type:"null"}],title:"Id"},name:{type:"string",title:"Name"},description:{anyOf:[{type:"string"},{type:"null"}],title:"Description"},price:{type:"number",title:"Price"},stock:{type:"integer",title:"Stock",default:0},category:{anyOf:[{type:"string"},{type:"null"}],title:"Category"},created_at:{anyOf:[{type:"string"},{type:"null"}],title:"Created At"}},type:"object",required:["name","price"],title:"Product"},ProductUpdate:{properties:{name:{anyOf:[{type:"string"},{type:"null"}],title:"Name"},description:{anyOf:[{type:"string"},{type:"null"}],title:"Description"},price:{anyOf:[{type:"number"},{type:"null"}],title:"Price"},stock:{anyOf:[{type:"integer"},{type:"null"}],title:"Stock"},category:{anyOf:[{type:"string"},{type:"null"}],title:"Category"}},type:"object",title:"ProductUpdate"},User:{properties:{id:{anyOf:[{type:"integer"},{type:"null"}],title:"Id"},username:{type:"string",title:"Username"},email:{type:"string",title:"Email"},full_name:{anyOf:[{type:"string"},{type:"null"}],title:"Full Name"},age:{anyOf:[{type:"integer"},{type:"null"}],title:"Age"},is_active:{type:"boolean",title:"Is Active",default:!0},created_at:{anyOf:[{type:"string"},{type:"null"}],title:"Created At"}},type:"object",required:["username","email"],title:"User"},UserUpdate:{properties:{username:{anyOf:[{type:"string"},{type:"null"}],title:"Username"},email:{anyOf:[{type:"string"},{type:"null"}],title:"Email"},full_name:{anyOf:[{type:"string"},{type:"null"}],title:"Full Name"},age:{anyOf:[{type:"integer"},{type:"null"}],title:"Age"},is_active:{anyOf:[{type:"boolean"},{type:"null"}],title:"Is Active"}},type:"object",title:"UserUpdate"},ValidationError:{properties:{loc:{items:{anyOf:[{type:"string"},{type:"integer"}]},type:"array",title:"Location"},msg:{type:"string",title:"Message"},type:{type:"string",title:"Error Type"}},type:"object",required:["loc","msg","type"],title:"ValidationError"}},securitySchemes:{HTTPBasic:{type:"http",scheme:"basic"}}}},k$=async e=>{if(!e)return PS(T1,E1);try{let t=await fetch(e).catch(()=>null);if(!t){console.warn("Direct fetch failed, attempting via CORS proxy...");const r=`https://corsproxy.io/?${encodeURIComponent(e)}`;t=await fetch(r)}if(!t.ok)throw new Error(`Failed to fetch OpenAPI spec: ${t.status} ${t.statusText}`);const n=await t.json();return PS(n,e)}catch(t){throw console.error("Error parsing OpenAPI:",t),t.message.includes("Failed to fetch")||t.message.includes("NetworkError")?new Error(`Network error (CORS). The server at ${e} may not allow requests from this origin. Try enabling CORS on your server.`):t}},PS=(e,t)=>{var p,g,v,b,E,R,k;const n=((p=e.info)==null?void 0:p.title)||"Unknown API",r=((g=e.info)==null?void 0:g.version)||"1.0.0";let o="";if((b=(v=e.servers)==null?void 0:v[0])!=null&&b.url?o=e.servers[0].url:e.host&&(o=`${((E=e.schemes)==null?void 0:E[0])||"https"}://${e.host}${e.basePath||""}`),o&&!o.startsWith("http")&&t.startsWith("http")){const w=new URL(t);if(o.startsWith("/"))o=w.origin+o;else{const T=w.pathname.substring(0,w.pathname.lastIndexOf("/"));o=w.origin+T+"/"+o}}if(!o){if(e===T1)o=E1;else if(t.startsWith("http"))if(t.includes("corsproxy.io")){const w=t.match(/corsproxy\.io\/\?(.+)/);if(w&&w[1]){const T=decodeURIComponent(w[1]);try{o=new URL(T).origin}catch{o=""}}}else o=new URL(t).origin}const a=((R=e.tags)==null?void 0:R.map(w=>({name:w.name,description:w.description||""})))||[],l=((k=e.components)==null?void 0:k.securitySchemes)||e.securityDefinitions||{},c=e.security||[],d=[];return e.paths&&Object.entries(e.paths).forEach(([w,T])=>{Object.entries(T).forEach(([A,M])=>{if(["get","post","put","delete","patch","head","options"].includes(A.toLowerCase())){const C=A.toUpperCase(),N=[...M.parameters||[],...e.paths[w].parameters||[]],P=N.filter(ee=>{const Q=ee.$ref?Hr(ee.$ref,e):ee;return["query","path","header"].includes(Q.in)}).map(ee=>{var W,G,ce;const Q=ee.$ref?Hr(ee.$ref,e):ee;return{name:Q.name,in:Q.in,required:Q.required||!1,type:((W=Q.schema)==null?void 0:W.type)||Q.type||"string",enum:((G=Q.schema)==null?void 0:G.enum)||Q.enum,description:Q.description,default:((ce=Q.schema)==null?void 0:ce.default)||Q.default}});let L="",j="",q=[];if(M.requestBody){const Q=(M.requestBody.$ref?Hr(M.requestBody.$ref,e):M.requestBody).content||{},W=Object.keys(Q).find(G=>G.includes("json")||G.includes("multipart")||G.includes("form-urlencoded"));if(W){j=W;const G=Q[W].schema,ce=G.$ref?Hr(G.$ref,e):G;(W.includes("multipart")||W.includes("form-urlencoded"))&&ce&&ce.properties&&(q=Object.keys(ce.properties).map(_e=>{var z;const ze=ce.properties[_e],$=ze.$ref?Hr(ze.$ref,e):ze;return{name:_e,type:$.type||"string",format:$.format,description:$.description,required:(z=ce.required)==null?void 0:z.includes(_e)}})),L=JSON.stringify(_o(G,e),null,2)}}else{const ee=N.find(W=>(W.$ref?Hr(W.$ref,e):W).in==="body"),Q=N.filter(W=>(W.$ref?Hr(W.$ref,e):W).in==="formData");if(ee){const W=ee.$ref?Hr(ee.$ref,e):ee;j="application/json",L=JSON.stringify(_o(W.schema,e),null,2)}else Q.length>0&&(j="multipart/form-data",L="{}",q=Q.map(W=>{const G=W.$ref?Hr(W.$ref,e):W;return{name:G.name,type:G.type||"string",format:G.format,description:G.description,required:G.required}}))}const H={};M.responses&&Object.entries(M.responses).forEach(([ee,Q])=>{var ce,_e;const W=Q.$ref?Hr(Q.$ref,e):Q;let G;if((_e=(ce=W.content)==null?void 0:ce["application/json"])!=null&&_e.schema){const ze=W.content["application/json"].schema;G=JSON.stringify(_o(ze,e),null,2)}else W.schema&&(G=JSON.stringify(_o(W.schema,e),null,2));H[parseInt(ee)||200]={description:W.description||"No description",schema:G}});const K=M.security||c;d.push({id:`${A}-${w}`,path:w,method:C,summary:M.summary||w,description:M.description||"",tags:M.tags||["Default"],parameters:P,requestBodySchema:L,requestBodyType:j,requestBodyProperties:q,responses:H,security:K})}})}),new Set(d.flatMap(w=>w.tags)).forEach(w=>{a.find(T=>T.name===w)||a.push({name:w,description:""})}),{title:n,version:r,baseUrl:o,endpoints:d,tags:a,securitySchemes:l}},Hr=(e,t)=>{if(!e||!e.startsWith("#/"))return{};const n=e.split("/").slice(1);let r=t;for(const o of n)if(r=r==null?void 0:r[o],!r)return{};return r};function _o(e,t,n=0){if(!e)return{};if(n>5)return"possible_circular_ref";if(e.$ref){const r=Hr(e.$ref,t);return _o(r,t,n+1)}if(e.allOf){let r={};return e.allOf.forEach(o=>{r={...r,..._o(o,t,n+1)}}),r}if(e.default!==void 0)return e.default;if(e.example)return e.example;if(e.type==="object"||!e.type&&e.properties){const r={};return e.properties&&Object.keys(e.properties).forEach(o=>{r[o]=_o(e.properties[o],t,n+1)}),r}return e.type==="array"?e.items?[_o(e.items,t,n+1)]:[]:e.type==="string"?e.format==="date-time"?new Date().toISOString():e.format==="uuid"?"3fa85f64-5717-4562-b3fc-2c963f66afa6":e.enum&&e.enum.length>0?e.enum[0]:"string":e.type==="number"||e.type==="integer"?0:e.type==="boolean"?!0:{}}function C$(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const A$=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,N$=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,R$={};function DS(e,t){return(R$.jsx?N$:A$).test(e)}const I$=/[ \t\n\f\r]/g;function M$(e){return typeof e=="object"?e.type==="text"?zS(e.value):!1:zS(e)}function zS(e){return e.replace(I$,"")===""}class Kl{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Kl.prototype.normal={};Kl.prototype.property={};Kl.prototype.space=void 0;function k1(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new Kl(n,r,t)}function Ym(e){return e.toLowerCase()}class sr{constructor(t,n){this.attribute=n,this.property=t}}sr.prototype.attribute="";sr.prototype.booleanish=!1;sr.prototype.boolean=!1;sr.prototype.commaOrSpaceSeparated=!1;sr.prototype.commaSeparated=!1;sr.prototype.defined=!1;sr.prototype.mustUseProperty=!1;sr.prototype.number=!1;sr.prototype.overloadedBoolean=!1;sr.prototype.property="";sr.prototype.spaceSeparated=!1;sr.prototype.space=void 0;let P$=0;const tt=us(),fn=us(),Xm=us(),ke=us(),$t=us(),fa=us(),vr=us();function us(){return 2**++P$}const Qm=Object.freeze(Object.defineProperty({__proto__:null,boolean:tt,booleanish:fn,commaOrSpaceSeparated:vr,commaSeparated:fa,number:ke,overloadedBoolean:Xm,spaceSeparated:$t},Symbol.toStringTag,{value:"Module"})),Kp=Object.keys(Qm);class Kg extends sr{constructor(t,n,r,o){let a=-1;if(super(t,n),OS(this,"space",o),typeof r=="number")for(;++a<Kp.length;){const l=Kp[a];OS(this,Kp[a],(r&Qm[l])===Qm[l])}}}Kg.prototype.defined=!0;function OS(e,t,n){n&&(e[t]=n)}function Ea(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const a=new Kg(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[Ym(r)]=r,n[Ym(a.attribute)]=r}return new Kl(t,n,e.space)}const C1=Ea({properties:{ariaActiveDescendant:null,ariaAtomic:fn,ariaAutoComplete:null,ariaBusy:fn,ariaChecked:fn,ariaColCount:ke,ariaColIndex:ke,ariaColSpan:ke,ariaControls:$t,ariaCurrent:null,ariaDescribedBy:$t,ariaDetails:null,ariaDisabled:fn,ariaDropEffect:$t,ariaErrorMessage:null,ariaExpanded:fn,ariaFlowTo:$t,ariaGrabbed:fn,ariaHasPopup:null,ariaHidden:fn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:$t,ariaLevel:ke,ariaLive:null,ariaModal:fn,ariaMultiLine:fn,ariaMultiSelectable:fn,ariaOrientation:null,ariaOwns:$t,ariaPlaceholder:null,ariaPosInSet:ke,ariaPressed:fn,ariaReadOnly:fn,ariaRelevant:null,ariaRequired:fn,ariaRoleDescription:$t,ariaRowCount:ke,ariaRowIndex:ke,ariaRowSpan:ke,ariaSelected:fn,ariaSetSize:ke,ariaSort:null,ariaValueMax:ke,ariaValueMin:ke,ariaValueNow:ke,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function A1(e,t){return t in e?e[t]:t}function N1(e,t){return A1(e,t.toLowerCase())}const D$=Ea({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:fa,acceptCharset:$t,accessKey:$t,action:null,allow:null,allowFullScreen:tt,allowPaymentRequest:tt,allowUserMedia:tt,alt:null,as:null,async:tt,autoCapitalize:null,autoComplete:$t,autoFocus:tt,autoPlay:tt,blocking:$t,capture:null,charSet:null,checked:tt,cite:null,className:$t,cols:ke,colSpan:null,content:null,contentEditable:fn,controls:tt,controlsList:$t,coords:ke|fa,crossOrigin:null,data:null,dateTime:null,decoding:null,default:tt,defer:tt,dir:null,dirName:null,disabled:tt,download:Xm,draggable:fn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:tt,formTarget:null,headers:$t,height:ke,hidden:Xm,high:ke,href:null,hrefLang:null,htmlFor:$t,httpEquiv:$t,id:null,imageSizes:null,imageSrcSet:null,inert:tt,inputMode:null,integrity:null,is:null,isMap:tt,itemId:null,itemProp:$t,itemRef:$t,itemScope:tt,itemType:$t,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:tt,low:ke,manifest:null,max:null,maxLength:ke,media:null,method:null,min:null,minLength:ke,multiple:tt,muted:tt,name:null,nonce:null,noModule:tt,noValidate:tt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:tt,optimum:ke,pattern:null,ping:$t,placeholder:null,playsInline:tt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:tt,referrerPolicy:null,rel:$t,required:tt,reversed:tt,rows:ke,rowSpan:ke,sandbox:$t,scope:null,scoped:tt,seamless:tt,selected:tt,shadowRootClonable:tt,shadowRootDelegatesFocus:tt,shadowRootMode:null,shape:null,size:ke,sizes:null,slot:null,span:ke,spellCheck:fn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ke,step:null,style:null,tabIndex:ke,target:null,title:null,translate:null,type:null,typeMustMatch:tt,useMap:null,value:fn,width:ke,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:$t,axis:null,background:null,bgColor:null,border:ke,borderColor:null,bottomMargin:ke,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:tt,declare:tt,event:null,face:null,frame:null,frameBorder:null,hSpace:ke,leftMargin:ke,link:null,longDesc:null,lowSrc:null,marginHeight:ke,marginWidth:ke,noResize:tt,noHref:tt,noShade:tt,noWrap:tt,object:null,profile:null,prompt:null,rev:null,rightMargin:ke,rules:null,scheme:null,scrolling:fn,standby:null,summary:null,text:null,topMargin:ke,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ke,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:tt,disableRemotePlayback:tt,prefix:null,property:null,results:ke,security:null,unselectable:null},space:"html",transform:N1}),z$=Ea({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:vr,accentHeight:ke,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ke,amplitude:ke,arabicForm:null,ascent:ke,attributeName:null,attributeType:null,azimuth:ke,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ke,by:null,calcMode:null,capHeight:ke,className:$t,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ke,diffuseConstant:ke,direction:null,display:null,dur:null,divisor:ke,dominantBaseline:null,download:tt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ke,enableBackground:null,end:null,event:null,exponent:ke,externalResourcesRequired:null,fill:null,fillOpacity:ke,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:fa,g2:fa,glyphName:fa,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ke,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ke,horizOriginX:ke,horizOriginY:ke,id:null,ideographic:ke,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ke,k:ke,k1:ke,k2:ke,k3:ke,k4:ke,kernelMatrix:vr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ke,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ke,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ke,overlineThickness:ke,paintOrder:null,panose1:null,path:null,pathLength:ke,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:$t,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ke,pointsAtY:ke,pointsAtZ:ke,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:vr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:vr,rev:vr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:vr,requiredFeatures:vr,requiredFonts:vr,requiredFormats:vr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ke,specularExponent:ke,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ke,strikethroughThickness:ke,string:null,stroke:null,strokeDashArray:vr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ke,strokeOpacity:ke,strokeWidth:null,style:null,surfaceScale:ke,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:vr,tabIndex:ke,tableValues:null,target:null,targetX:ke,targetY:ke,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:vr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ke,underlineThickness:ke,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ke,values:null,vAlphabetic:ke,vMathematical:ke,vectorEffect:null,vHanging:ke,vIdeographic:ke,version:null,vertAdvY:ke,vertOriginX:ke,vertOriginY:ke,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ke,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:A1}),R1=Ea({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),I1=Ea({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:N1}),M1=Ea({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),O$={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},U$=/[A-Z]/g,US=/-[a-z]/g,$$=/^data[-\w.:]+$/i;function L$(e,t){const n=Ym(t);let r=t,o=sr;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&$$.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(US,V$);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!US.test(a)){let l=a.replace(U$,q$);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}o=Kg}return new o(r,t)}function q$(e){return"-"+e.toLowerCase()}function V$(e){return e.charAt(1).toUpperCase()}const j$=k1([C1,D$,R1,I1,M1],"html"),Yg=k1([C1,z$,R1,I1,M1],"svg");function H$(e){return e.join(" ").trim()}var Fs={},Yp,$S;function B$(){if($S)return Yp;$S=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,f="/",p="*",g="",v="comment",b="declaration";function E(k,w){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];w=w||{};var T=1,A=1;function M(Q){var W=Q.match(t);W&&(T+=W.length);var G=Q.lastIndexOf(d);A=~G?Q.length-G:A+Q.length}function C(){var Q={line:T,column:A};return function(W){return W.position=new N(Q),j(),W}}function N(Q){this.start=Q,this.end={line:T,column:A},this.source=w.source}N.prototype.content=k;function P(Q){var W=new Error(w.source+":"+T+":"+A+": "+Q);if(W.reason=Q,W.filename=w.source,W.line=T,W.column=A,W.source=k,!w.silent)throw W}function L(Q){var W=Q.exec(k);if(W){var G=W[0];return M(G),k=k.slice(G.length),W}}function j(){L(n)}function q(Q){var W;for(Q=Q||[];W=H();)W!==!1&&Q.push(W);return Q}function H(){var Q=C();if(!(f!=k.charAt(0)||p!=k.charAt(1))){for(var W=2;g!=k.charAt(W)&&(p!=k.charAt(W)||f!=k.charAt(W+1));)++W;if(W+=2,g===k.charAt(W-1))return P("End of comment missing");var G=k.slice(2,W-2);return A+=2,M(G),k=k.slice(W),A+=2,Q({type:v,comment:G})}}function K(){var Q=C(),W=L(r);if(W){if(H(),!L(o))return P("property missing ':'");var G=L(a),ce=Q({type:b,property:R(W[0].replace(e,g)),value:G?R(G[0].replace(e,g)):g});return L(l),ce}}function ee(){var Q=[];q(Q);for(var W;W=K();)W!==!1&&(Q.push(W),q(Q));return Q}return j(),ee()}function R(k){return k?k.replace(c,g):g}return Yp=E,Yp}var LS;function F$(){if(LS)return Fs;LS=1;var e=Fs&&Fs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.default=n;const t=e(B$());function n(r,o){let a=null;if(!r||typeof r!="string")return a;const l=(0,t.default)(r),c=typeof o=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:f,value:p}=d;c?o(f,p,d):p&&(a=a||{},a[f]=p)}),a}return Fs}var Sl={},qS;function G$(){if(qS)return Sl;qS=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,a=function(f){return!f||n.test(f)||e.test(f)},l=function(f,p){return p.toUpperCase()},c=function(f,p){return"".concat(p,"-")},d=function(f,p){return p===void 0&&(p={}),a(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(o,c):f=f.replace(r,c),f.replace(t,l))};return Sl.camelCase=d,Sl}var wl,VS;function J$(){if(VS)return wl;VS=1;var e=wl&&wl.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(F$()),n=G$();function r(o,a){var l={};return!o||typeof o!="string"||(0,t.default)(o,function(c,d){c&&d&&(l[(0,n.camelCase)(c,a)]=d)}),l}return r.default=r,wl=r,wl}var Z$=J$();const K$=as(Z$),P1=D1("end"),Xg=D1("start");function D1(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Y$(e){const t=Xg(e),n=P1(e);if(t&&n)return{start:t,end:n}}function Ul(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?jS(e.position):"start"in e||"end"in e?jS(e):"line"in e||"column"in e?Wm(e):""}function Wm(e){return HS(e&&e.line)+":"+HS(e&&e.column)}function jS(e){return Wm(e&&e.start)+"-"+Wm(e&&e.end)}function HS(e){return e&&typeof e=="number"?e:1}class jn extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?o=t:!a.cause&&t&&(l=!0,o=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?a.ruleId=r:(a.source=r.slice(0,d),a.ruleId=r.slice(d+1))}if(!a.place&&a.ancestors&&a.ancestors){const d=a.ancestors[a.ancestors.length-1];d&&(a.place=d.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=c?c.line:void 0,this.name=Ul(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}jn.prototype.file="";jn.prototype.name="";jn.prototype.reason="";jn.prototype.message="";jn.prototype.stack="";jn.prototype.column=void 0;jn.prototype.line=void 0;jn.prototype.ancestors=void 0;jn.prototype.cause=void 0;jn.prototype.fatal=void 0;jn.prototype.place=void 0;jn.prototype.ruleId=void 0;jn.prototype.source=void 0;const Qg={}.hasOwnProperty,X$=new Map,Q$=/[A-Z]/g,W$=new Set(["table","tbody","thead","tfoot","tr"]),e4=new Set(["td","th"]),z1="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function t4(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=u4(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=l4(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Yg:j$,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=O1(o,e,void 0);return a&&typeof a!="string"?a:o.create(e,o.Fragment,{children:a||void 0},void 0)}function O1(e,t,n){if(t.type==="element")return n4(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return r4(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return o4(e,t,n);if(t.type==="mdxjsEsm")return i4(e,t);if(t.type==="root")return s4(e,t,n);if(t.type==="text")return a4(e,t)}function n4(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=Yg,e.schema=o),e.ancestors.push(t);const a=$1(e,t.tagName,!1),l=c4(e,t);let c=e0(e,t);return W$.has(t.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!M$(d):!0})),U1(e,l,a,t),Wg(l,c),e.ancestors.pop(),e.schema=r,e.create(t,a,l,n)}function r4(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Bl(e,t.position)}function i4(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Bl(e,t.position)}function o4(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=Yg,e.schema=o),e.ancestors.push(t);const a=t.name===null?e.Fragment:$1(e,t.name,!0),l=d4(e,t),c=e0(e,t);return U1(e,l,a,t),Wg(l,c),e.ancestors.pop(),e.schema=r,e.create(t,a,l,n)}function s4(e,t,n){const r={};return Wg(r,e0(e,t)),e.create(t,e.Fragment,r,n)}function a4(e,t){return t.value}function U1(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Wg(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function l4(e,t,n){return r;function r(o,a,l,c){const f=Array.isArray(l.children)?n:t;return c?f(a,l,c):f(a,l)}}function u4(e,t){return n;function n(r,o,a,l){const c=Array.isArray(a.children),d=Xg(r);return t(o,a,l,c,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function c4(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&Qg.call(t.properties,o)){const a=f4(e,o,t.properties[o]);if(a){const[l,c]=a;e.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&e4.has(t.tagName)?r=c:n[l]=c}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function d4(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const l=a.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else Bl(e,t.position);else{const o=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];c.type,a=e.evaluater.evaluateExpression(c.expression)}else Bl(e,t.position);else a=r.value===null?!0:r.value;n[o]=a}return n}function e0(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:X$;for(;++r<t.children.length;){const a=t.children[r];let l;if(e.passKeys){const d=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(d){const f=o.get(d)||0;l=d+"-"+f,o.set(d,f+1)}}const c=O1(e,a,l);c!==void 0&&n.push(c)}return n}function f4(e,t,n){const r=L$(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?C$(n):H$(n)),r.property==="style"){let o=typeof n=="object"?n:h4(e,String(n));return e.stylePropertyNameCase==="css"&&(o=p4(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?O$[r.property]||r.property:r.attribute,n]}}function h4(e,t){try{return K$(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new jn("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=z1+"#cannot-parse-style-attribute",o}}function $1(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let a=-1,l;for(;++a<o.length;){const c=DS(o[a])?{type:"Identifier",name:o[a]}:{type:"Literal",value:o[a]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}r=l}else r=DS(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return Qg.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);Bl(e)}function Bl(e,t){const n=new jn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=z1+"#cannot-handle-mdx-estrees-without-createevaluater",n}function p4(e){const t={};let n;for(n in e)Qg.call(e,n)&&(t[m4(n)]=e[n]);return t}function m4(e){let t=e.replace(Q$,g4);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function g4(e){return"-"+e.toLowerCase()}const Xp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},y4={};function t0(e,t){const n=y4,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return L1(e,r,o)}function L1(e,t,n){if(v4(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return BS(e.children,t,n)}return Array.isArray(e)?BS(e,t,n):""}function BS(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=L1(e[o],t,n);return r.join("")}function v4(e){return!!(e&&typeof e=="object")}const FS=document.createElement("i");function n0(e){const t="&"+e+";";FS.innerHTML=t;const n=FS.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function _r(e,t,n,r){const o=e.length;let a=0,l;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);a<r.length;)l=r.slice(a,a+1e4),l.unshift(t,0),e.splice(...l),a+=1e4,t+=1e4}function Mr(e,t){return e.length>0?(_r(e,e.length,0,t),e):t}const GS={}.hasOwnProperty;function q1(e){const t={};let n=-1;for(;++n<e.length;)_4(t,e[n]);return t}function _4(e,t){let n;for(n in t){const o=(GS.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let l;if(a)for(l in a){GS.call(o,l)||(o[l]=[]);const c=a[l];b4(o[l],Array.isArray(c)?c:c?[c]:[])}}}function b4(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);_r(e,0,0,r)}function V1(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Yr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Zn=Eo(/[A-Za-z]/),Vn=Eo(/[\dA-Za-z]/),x4=Eo(/[#-'*+\--9=?A-Z^-~]/);function $d(e){return e!==null&&(e<32||e===127)}const eg=Eo(/\d/),S4=Eo(/[\dA-Fa-f]/),w4=Eo(/[!-/:-@[-`{-~]/);function Be(e){return e!==null&&e<-2}function Ut(e){return e!==null&&(e<0||e===32)}function ct(e){return e===-2||e===-1||e===32}const hf=Eo(new RegExp("\\p{P}|\\p{S}","u")),ss=Eo(/\s/);function Eo(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ta(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const a=e.charCodeAt(n);let l="";if(a===37&&Vn(e.charCodeAt(n+1))&&Vn(e.charCodeAt(n+2)))o=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const c=e.charCodeAt(n+1);a<56320&&c>56319&&c<57344?(l=String.fromCharCode(a,c),o=1):l=""}else l=String.fromCharCode(a);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+o+1,l=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function mt(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(d){return ct(d)?(e.enter(n),c(d)):t(d)}function c(d){return ct(d)&&a++<o?(e.consume(d),c):(e.exit(n),t(d))}}const E4={tokenize:T4};function T4(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),mt(e,t,"linePrefix")}function o(c){return e.enter("paragraph"),a(c)}function a(c){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Be(c)?(e.consume(c),e.exit("chunkText"),a):(e.consume(c),l)}}const k4={tokenize:C4},JS={tokenize:A4};function C4(e){const t=this,n=[];let r=0,o,a,l;return c;function c(A){if(r<n.length){const M=n[r];return t.containerState=M[1],e.attempt(M[0].continuation,d,f)(A)}return f(A)}function d(A){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&T();const M=t.events.length;let C=M,N;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){N=t.events[C][1].end;break}w(r);let P=M;for(;P<t.events.length;)t.events[P][1].end={...N},P++;return _r(t.events,C+1,0,t.events.slice(M)),t.events.length=P,f(A)}return c(A)}function f(A){if(r===n.length){if(!o)return v(A);if(o.currentConstruct&&o.currentConstruct.concrete)return E(A);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(JS,p,g)(A)}function p(A){return o&&T(),w(r),v(A)}function g(A){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,E(A)}function v(A){return t.containerState={},e.attempt(JS,b,E)(A)}function b(A){return r++,n.push([t.currentConstruct,t.containerState]),v(A)}function E(A){if(A===null){o&&T(),w(0),e.consume(A);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:a}),R(A)}function R(A){if(A===null){k(e.exit("chunkFlow"),!0),w(0),e.consume(A);return}return Be(A)?(e.consume(A),k(e.exit("chunkFlow")),r=0,t.interrupt=void 0,c):(e.consume(A),R)}function k(A,M){const C=t.sliceStream(A);if(M&&C.push(null),A.previous=a,a&&(a.next=A),a=A,o.defineSkip(A.start),o.write(C),t.parser.lazy[A.start.line]){let N=o.events.length;for(;N--;)if(o.events[N][1].start.offset<l&&(!o.events[N][1].end||o.events[N][1].end.offset>l))return;const P=t.events.length;let L=P,j,q;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){if(j){q=t.events[L][1].end;break}j=!0}for(w(r),N=P;N<t.events.length;)t.events[N][1].end={...q},N++;_r(t.events,L+1,0,t.events.slice(P)),t.events.length=N}}function w(A){let M=n.length;for(;M-- >A;){const C=n[M];t.containerState=C[1],C[0].exit.call(t,e)}n.length=A}function T(){o.write([null]),a=void 0,o=void 0,t.containerState._closeFlow=void 0}}function A4(e,t,n){return mt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ga(e){if(e===null||Ut(e)||ss(e))return 1;if(hf(e))return 2}function pf(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const a=e[o].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const tg={name:"attention",resolveAll:N4,tokenize:R4};function N4(e,t){let n=-1,r,o,a,l,c,d,f,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const g={...e[r][1].end},v={...e[n][1].start};ZS(g,-d),ZS(v,d),l={type:d>1?"strongSequence":"emphasisSequence",start:g,end:{...e[r][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},a={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},e[r][1].end={...l.start},e[n][1].start={...c.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=Mr(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=Mr(f,[["enter",o,t],["enter",l,t],["exit",l,t],["enter",a,t]]),f=Mr(f,pf(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=Mr(f,[["exit",a,t],["enter",c,t],["exit",c,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,f=Mr(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,_r(e,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function R4(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=ga(r);let a;return l;function l(d){return a=d,e.enter("attentionSequence"),c(d)}function c(d){if(d===a)return e.consume(d),c;const f=e.exit("attentionSequence"),p=ga(d),g=!p||p===2&&o||n.includes(d),v=!o||o===2&&p||n.includes(r);return f._open=!!(a===42?g:g&&(o||!v)),f._close=!!(a===42?v:v&&(p||!g)),t(d)}}function ZS(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const I4={name:"autolink",tokenize:M4};function M4(e,t,n){let r=0;return o;function o(b){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(b){return Zn(b)?(e.consume(b),l):b===64?n(b):f(b)}function l(b){return b===43||b===45||b===46||Vn(b)?(r=1,c(b)):f(b)}function c(b){return b===58?(e.consume(b),r=0,d):(b===43||b===45||b===46||Vn(b))&&r++<32?(e.consume(b),c):(r=0,f(b))}function d(b){return b===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):b===null||b===32||b===60||$d(b)?n(b):(e.consume(b),d)}function f(b){return b===64?(e.consume(b),p):x4(b)?(e.consume(b),f):n(b)}function p(b){return Vn(b)?g(b):n(b)}function g(b){return b===46?(e.consume(b),r=0,p):b===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(b),e.exit("autolinkMarker"),e.exit("autolink"),t):v(b)}function v(b){if((b===45||Vn(b))&&r++<63){const E=b===45?v:g;return e.consume(b),E}return n(b)}}const Yl={partial:!0,tokenize:P4};function P4(e,t,n){return r;function r(a){return ct(a)?mt(e,o,"linePrefix")(a):o(a)}function o(a){return a===null||Be(a)?t(a):n(a)}}const j1={continuation:{tokenize:z4},exit:O4,name:"blockQuote",tokenize:D4};function D4(e,t,n){const r=this;return o;function o(l){if(l===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),a}return n(l)}function a(l){return ct(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function z4(e,t,n){const r=this;return o;function o(l){return ct(l)?mt(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return e.attempt(j1,t,n)(l)}}function O4(e){e.exit("blockQuote")}const H1={name:"characterEscape",tokenize:U4};function U4(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),o}function o(a){return w4(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const B1={name:"characterReference",tokenize:$4};function $4(e,t,n){const r=this;let o=0,a,l;return c;function c(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),d}function d(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),a=31,l=Vn,p(g))}function f(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,l=S4,p):(e.enter("characterReferenceValue"),a=7,l=eg,p(g))}function p(g){if(g===59&&o){const v=e.exit("characterReferenceValue");return l===Vn&&!n0(r.sliceSerialize(v))?n(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(g)&&o++<a?(e.consume(g),p):n(g)}}const KS={partial:!0,tokenize:q4},YS={concrete:!0,name:"codeFenced",tokenize:L4};function L4(e,t,n){const r=this,o={partial:!0,tokenize:C};let a=0,l=0,c;return d;function d(N){return f(N)}function f(N){const P=r.events[r.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,c=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(N)}function p(N){return N===c?(l++,e.consume(N),p):l<3?n(N):(e.exit("codeFencedFenceSequence"),ct(N)?mt(e,g,"whitespace")(N):g(N))}function g(N){return N===null||Be(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(KS,R,M)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(N))}function v(N){return N===null||Be(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(N)):ct(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),mt(e,b,"whitespace")(N)):N===96&&N===c?n(N):(e.consume(N),v)}function b(N){return N===null||Be(N)?g(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),E(N))}function E(N){return N===null||Be(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(N)):N===96&&N===c?n(N):(e.consume(N),E)}function R(N){return e.attempt(o,M,k)(N)}function k(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),w}function w(N){return a>0&&ct(N)?mt(e,T,"linePrefix",a+1)(N):T(N)}function T(N){return N===null||Be(N)?e.check(KS,R,M)(N):(e.enter("codeFlowValue"),A(N))}function A(N){return N===null||Be(N)?(e.exit("codeFlowValue"),T(N)):(e.consume(N),A)}function M(N){return e.exit("codeFenced"),t(N)}function C(N,P,L){let j=0;return q;function q(W){return N.enter("lineEnding"),N.consume(W),N.exit("lineEnding"),H}function H(W){return N.enter("codeFencedFence"),ct(W)?mt(N,K,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):K(W)}function K(W){return W===c?(N.enter("codeFencedFenceSequence"),ee(W)):L(W)}function ee(W){return W===c?(j++,N.consume(W),ee):j>=l?(N.exit("codeFencedFenceSequence"),ct(W)?mt(N,Q,"whitespace")(W):Q(W)):L(W)}function Q(W){return W===null||Be(W)?(N.exit("codeFencedFence"),P(W)):L(W)}}}function q4(e,t,n){const r=this;return o;function o(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a)}function a(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const Qp={name:"codeIndented",tokenize:j4},V4={partial:!0,tokenize:H4};function j4(e,t,n){const r=this;return o;function o(f){return e.enter("codeIndented"),mt(e,a,"linePrefix",5)(f)}function a(f){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?d(f):Be(f)?e.attempt(V4,l,d)(f):(e.enter("codeFlowValue"),c(f))}function c(f){return f===null||Be(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),c)}function d(f){return e.exit("codeIndented"),t(f)}}function H4(e,t,n){const r=this;return o;function o(l){return r.parser.lazy[r.now().line]?n(l):Be(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):mt(e,a,"linePrefix",5)(l)}function a(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):Be(l)?o(l):n(l)}}const B4={name:"codeText",previous:G4,resolve:F4,tokenize:J4};function F4(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function G4(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function J4(e,t,n){let r=0,o,a;return l;function l(g){return e.enter("codeText"),e.enter("codeTextSequence"),c(g)}function c(g){return g===96?(e.consume(g),r++,c):(e.exit("codeTextSequence"),d(g))}function d(g){return g===null?n(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),d):g===96?(a=e.enter("codeTextSequence"),o=0,p(g)):Be(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(g))}function f(g){return g===null||g===32||g===96||Be(g)?(e.exit("codeTextData"),d(g)):(e.consume(g),f)}function p(g){return g===96?(e.consume(g),o++,p):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(g)):(a.type="codeTextData",f(g))}}class Z4{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&El(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),El(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),El(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);El(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);El(this.left,n.reverse())}}}function El(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function F1(e){const t={};let n=-1,r,o,a,l,c,d,f;const p=new Z4(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,a=0,a<d.length&&d[a][1].type==="lineEndingBlank"&&(a+=2),a<d.length&&d[a][1].type==="content"))for(;++a<d.length&&d[a][1].type!=="content";)d[a][1].type==="chunkText"&&(d[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,K4(p,n)),n=t[n],f=!0);else if(r[1]._container){for(a=n,o=void 0;a--;)if(l=p.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(o&&(p.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;o&&(r[1].end={...p.get(o)[1].start},c=p.slice(o,n),c.unshift(r),p.splice(o,n-o+1,c))}}return _r(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function K4(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const a=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,d=[],f={};let p,g,v=-1,b=n,E=0,R=0;const k=[R];for(;b;){for(;e.get(++o)[1]!==b;);a.push(o),b._tokenizer||(p=r.sliceStream(b),b.next||p.push(null),g&&l.defineSkip(b.start),b._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),b._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=b,b=b.next}for(b=n;++v<c.length;)c[v][0]==="exit"&&c[v-1][0]==="enter"&&c[v][1].type===c[v-1][1].type&&c[v][1].start.line!==c[v][1].end.line&&(R=v+1,k.push(R),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(l.events=[],b?(b._tokenizer=void 0,b.previous=void 0):k.pop(),v=k.length;v--;){const w=c.slice(k[v],k[v+1]),T=a.pop();d.push([T,T+w.length-1]),e.splice(T,2,w)}for(d.reverse(),v=-1;++v<d.length;)f[E+d[v][0]]=E+d[v][1],E+=d[v][1]-d[v][0]-1;return f}const Y4={resolve:Q4,tokenize:W4},X4={partial:!0,tokenize:e5};function Q4(e){return F1(e),e}function W4(e,t){let n;return r;function r(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(c)}function o(c){return c===null?a(c):Be(c)?e.check(X4,l,a)(c):(e.consume(c),o)}function a(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function l(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function e5(e,t,n){const r=this;return o;function o(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),mt(e,a,"linePrefix")}function a(l){if(l===null||Be(l))return n(l);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function G1(e,t,n,r,o,a,l,c,d){const f=d||Number.POSITIVE_INFINITY;let p=0;return g;function g(w){return w===60?(e.enter(r),e.enter(o),e.enter(a),e.consume(w),e.exit(a),v):w===null||w===32||w===41||$d(w)?n(w):(e.enter(r),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),R(w))}function v(w){return w===62?(e.enter(a),e.consume(w),e.exit(a),e.exit(o),e.exit(r),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),b(w))}function b(w){return w===62?(e.exit("chunkString"),e.exit(c),v(w)):w===null||w===60||Be(w)?n(w):(e.consume(w),w===92?E:b)}function E(w){return w===60||w===62||w===92?(e.consume(w),b):b(w)}function R(w){return!p&&(w===null||w===41||Ut(w))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(r),t(w)):p<f&&w===40?(e.consume(w),p++,R):w===41?(e.consume(w),p--,R):w===null||w===32||w===40||$d(w)?n(w):(e.consume(w),w===92?k:R)}function k(w){return w===40||w===41||w===92?(e.consume(w),R):R(w)}}function J1(e,t,n,r,o,a){const l=this;let c=0,d;return f;function f(b){return e.enter(r),e.enter(o),e.consume(b),e.exit(o),e.enter(a),p}function p(b){return c>999||b===null||b===91||b===93&&!d||b===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(b):b===93?(e.exit(a),e.enter(o),e.consume(b),e.exit(o),e.exit(r),t):Be(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),g(b))}function g(b){return b===null||b===91||b===93||Be(b)||c++>999?(e.exit("chunkString"),p(b)):(e.consume(b),d||(d=!ct(b)),b===92?v:g)}function v(b){return b===91||b===92||b===93?(e.consume(b),c++,g):g(b)}}function Z1(e,t,n,r,o,a){let l;return c;function c(v){return v===34||v===39||v===40?(e.enter(r),e.enter(o),e.consume(v),e.exit(o),l=v===40?41:v,d):n(v)}function d(v){return v===l?(e.enter(o),e.consume(v),e.exit(o),e.exit(r),t):(e.enter(a),f(v))}function f(v){return v===l?(e.exit(a),d(l)):v===null?n(v):Be(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),mt(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===l||v===null||Be(v)?(e.exit("chunkString"),f(v)):(e.consume(v),v===92?g:p)}function g(v){return v===l||v===92?(e.consume(v),p):p(v)}}function $l(e,t){let n;return r;function r(o){return Be(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):ct(o)?mt(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const t5={name:"definition",tokenize:r5},n5={partial:!0,tokenize:i5};function r5(e,t,n){const r=this;let o;return a;function a(b){return e.enter("definition"),l(b)}function l(b){return J1.call(r,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function c(b){return o=Yr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),d):n(b)}function d(b){return Ut(b)?$l(e,f)(b):f(b)}function f(b){return G1(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function p(b){return e.attempt(n5,g,g)(b)}function g(b){return ct(b)?mt(e,v,"whitespace")(b):v(b)}function v(b){return b===null||Be(b)?(e.exit("definition"),r.parser.defined.push(o),t(b)):n(b)}}function i5(e,t,n){return r;function r(c){return Ut(c)?$l(e,o)(c):n(c)}function o(c){return Z1(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return ct(c)?mt(e,l,"whitespace")(c):l(c)}function l(c){return c===null||Be(c)?t(c):n(c)}}const o5={name:"hardBreakEscape",tokenize:s5};function s5(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),o}function o(a){return Be(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const a5={name:"headingAtx",resolve:l5,tokenize:u5};function l5(e,t){let n=e.length-2,r=3,o,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},_r(e,r,n-r+1,[["enter",o,t],["enter",a,t],["exit",a,t],["exit",o,t]])),e}function u5(e,t,n){let r=0;return o;function o(p){return e.enter("atxHeading"),a(p)}function a(p){return e.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&r++<6?(e.consume(p),l):p===null||Ut(p)?(e.exit("atxHeadingSequence"),c(p)):n(p)}function c(p){return p===35?(e.enter("atxHeadingSequence"),d(p)):p===null||Be(p)?(e.exit("atxHeading"),t(p)):ct(p)?mt(e,c,"whitespace")(p):(e.enter("atxHeadingText"),f(p))}function d(p){return p===35?(e.consume(p),d):(e.exit("atxHeadingSequence"),c(p))}function f(p){return p===null||p===35||Ut(p)?(e.exit("atxHeadingText"),c(p)):(e.consume(p),f)}}const c5=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],XS=["pre","script","style","textarea"],d5={concrete:!0,name:"htmlFlow",resolveTo:p5,tokenize:m5},f5={partial:!0,tokenize:y5},h5={partial:!0,tokenize:g5};function p5(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function m5(e,t,n){const r=this;let o,a,l,c,d;return f;function f(D){return p(D)}function p(D){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(D),g}function g(D){return D===33?(e.consume(D),v):D===47?(e.consume(D),a=!0,R):D===63?(e.consume(D),o=3,r.interrupt?t:$):Zn(D)?(e.consume(D),l=String.fromCharCode(D),k):n(D)}function v(D){return D===45?(e.consume(D),o=2,b):D===91?(e.consume(D),o=5,c=0,E):Zn(D)?(e.consume(D),o=4,r.interrupt?t:$):n(D)}function b(D){return D===45?(e.consume(D),r.interrupt?t:$):n(D)}function E(D){const O="CDATA[";return D===O.charCodeAt(c++)?(e.consume(D),c===O.length?r.interrupt?t:K:E):n(D)}function R(D){return Zn(D)?(e.consume(D),l=String.fromCharCode(D),k):n(D)}function k(D){if(D===null||D===47||D===62||Ut(D)){const O=D===47,V=l.toLowerCase();return!O&&!a&&XS.includes(V)?(o=1,r.interrupt?t(D):K(D)):c5.includes(l.toLowerCase())?(o=6,O?(e.consume(D),w):r.interrupt?t(D):K(D)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(D):a?T(D):A(D))}return D===45||Vn(D)?(e.consume(D),l+=String.fromCharCode(D),k):n(D)}function w(D){return D===62?(e.consume(D),r.interrupt?t:K):n(D)}function T(D){return ct(D)?(e.consume(D),T):q(D)}function A(D){return D===47?(e.consume(D),q):D===58||D===95||Zn(D)?(e.consume(D),M):ct(D)?(e.consume(D),A):q(D)}function M(D){return D===45||D===46||D===58||D===95||Vn(D)?(e.consume(D),M):C(D)}function C(D){return D===61?(e.consume(D),N):ct(D)?(e.consume(D),C):A(D)}function N(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(e.consume(D),d=D,P):ct(D)?(e.consume(D),N):L(D)}function P(D){return D===d?(e.consume(D),d=null,j):D===null||Be(D)?n(D):(e.consume(D),P)}function L(D){return D===null||D===34||D===39||D===47||D===60||D===61||D===62||D===96||Ut(D)?C(D):(e.consume(D),L)}function j(D){return D===47||D===62||ct(D)?A(D):n(D)}function q(D){return D===62?(e.consume(D),H):n(D)}function H(D){return D===null||Be(D)?K(D):ct(D)?(e.consume(D),H):n(D)}function K(D){return D===45&&o===2?(e.consume(D),G):D===60&&o===1?(e.consume(D),ce):D===62&&o===4?(e.consume(D),z):D===63&&o===3?(e.consume(D),$):D===93&&o===5?(e.consume(D),ze):Be(D)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(f5,B,ee)(D)):D===null||Be(D)?(e.exit("htmlFlowData"),ee(D)):(e.consume(D),K)}function ee(D){return e.check(h5,Q,B)(D)}function Q(D){return e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),W}function W(D){return D===null||Be(D)?ee(D):(e.enter("htmlFlowData"),K(D))}function G(D){return D===45?(e.consume(D),$):K(D)}function ce(D){return D===47?(e.consume(D),l="",_e):K(D)}function _e(D){if(D===62){const O=l.toLowerCase();return XS.includes(O)?(e.consume(D),z):K(D)}return Zn(D)&&l.length<8?(e.consume(D),l+=String.fromCharCode(D),_e):K(D)}function ze(D){return D===93?(e.consume(D),$):K(D)}function $(D){return D===62?(e.consume(D),z):D===45&&o===2?(e.consume(D),$):K(D)}function z(D){return D===null||Be(D)?(e.exit("htmlFlowData"),B(D)):(e.consume(D),z)}function B(D){return e.exit("htmlFlow"),t(D)}}function g5(e,t,n){const r=this;return o;function o(l){return Be(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):n(l)}function a(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function y5(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Yl,t,n)}}const v5={name:"htmlText",tokenize:_5};function _5(e,t,n){const r=this;let o,a,l;return c;function c($){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume($),d}function d($){return $===33?(e.consume($),f):$===47?(e.consume($),C):$===63?(e.consume($),A):Zn($)?(e.consume($),L):n($)}function f($){return $===45?(e.consume($),p):$===91?(e.consume($),a=0,E):Zn($)?(e.consume($),T):n($)}function p($){return $===45?(e.consume($),b):n($)}function g($){return $===null?n($):$===45?(e.consume($),v):Be($)?(l=g,ce($)):(e.consume($),g)}function v($){return $===45?(e.consume($),b):g($)}function b($){return $===62?G($):$===45?v($):g($)}function E($){const z="CDATA[";return $===z.charCodeAt(a++)?(e.consume($),a===z.length?R:E):n($)}function R($){return $===null?n($):$===93?(e.consume($),k):Be($)?(l=R,ce($)):(e.consume($),R)}function k($){return $===93?(e.consume($),w):R($)}function w($){return $===62?G($):$===93?(e.consume($),w):R($)}function T($){return $===null||$===62?G($):Be($)?(l=T,ce($)):(e.consume($),T)}function A($){return $===null?n($):$===63?(e.consume($),M):Be($)?(l=A,ce($)):(e.consume($),A)}function M($){return $===62?G($):A($)}function C($){return Zn($)?(e.consume($),N):n($)}function N($){return $===45||Vn($)?(e.consume($),N):P($)}function P($){return Be($)?(l=P,ce($)):ct($)?(e.consume($),P):G($)}function L($){return $===45||Vn($)?(e.consume($),L):$===47||$===62||Ut($)?j($):n($)}function j($){return $===47?(e.consume($),G):$===58||$===95||Zn($)?(e.consume($),q):Be($)?(l=j,ce($)):ct($)?(e.consume($),j):G($)}function q($){return $===45||$===46||$===58||$===95||Vn($)?(e.consume($),q):H($)}function H($){return $===61?(e.consume($),K):Be($)?(l=H,ce($)):ct($)?(e.consume($),H):j($)}function K($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(e.consume($),o=$,ee):Be($)?(l=K,ce($)):ct($)?(e.consume($),K):(e.consume($),Q)}function ee($){return $===o?(e.consume($),o=void 0,W):$===null?n($):Be($)?(l=ee,ce($)):(e.consume($),ee)}function Q($){return $===null||$===34||$===39||$===60||$===61||$===96?n($):$===47||$===62||Ut($)?j($):(e.consume($),Q)}function W($){return $===47||$===62||Ut($)?j($):n($)}function G($){return $===62?(e.consume($),e.exit("htmlTextData"),e.exit("htmlText"),t):n($)}function ce($){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),_e}function _e($){return ct($)?mt(e,ze,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):ze($)}function ze($){return e.enter("htmlTextData"),l($)}}const r0={name:"labelEnd",resolveAll:w5,resolveTo:E5,tokenize:T5},b5={tokenize:k5},x5={tokenize:C5},S5={tokenize:A5};function w5(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&_r(e,0,e.length,n),e}function E5(e,t){let n=e.length,r=0,o,a,l,c;for(;n--;)if(o=e[n][1],a){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(a=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(l=n);const d={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[a][1].start},end:{...e[l][1].end}},p={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[l-2][1].start}};return c=[["enter",d,t],["enter",f,t]],c=Mr(c,e.slice(a+1,a+r+3)),c=Mr(c,[["enter",p,t]]),c=Mr(c,pf(t.parser.constructs.insideSpan.null,e.slice(a+r+4,l-3),t)),c=Mr(c,[["exit",p,t],e[l-2],e[l-1],["exit",f,t]]),c=Mr(c,e.slice(l+1)),c=Mr(c,[["exit",d,t]]),_r(e,a,e.length,c),e}function T5(e,t,n){const r=this;let o=r.events.length,a,l;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){a=r.events[o][1];break}return c;function c(v){return a?a._inactive?g(v):(l=r.parser.defined.includes(Yr(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),d):n(v)}function d(v){return v===40?e.attempt(b5,p,l?p:g)(v):v===91?e.attempt(x5,p,l?f:g)(v):l?p(v):g(v)}function f(v){return e.attempt(S5,p,g)(v)}function p(v){return t(v)}function g(v){return a._balanced=!0,n(v)}}function k5(e,t,n){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),o}function o(g){return Ut(g)?$l(e,a)(g):a(g)}function a(g){return g===41?p(g):G1(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return Ut(g)?$l(e,d)(g):p(g)}function c(g){return n(g)}function d(g){return g===34||g===39||g===40?Z1(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):p(g)}function f(g){return Ut(g)?$l(e,p)(g):p(g)}function p(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),t):n(g)}}function C5(e,t,n){const r=this;return o;function o(c){return J1.call(r,e,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return r.parser.defined.includes(Yr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function l(c){return n(c)}}function A5(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),o}function o(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const N5={name:"labelStartImage",resolveAll:r0.resolveAll,tokenize:R5};function R5(e,t,n){const r=this;return o;function o(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),a}function a(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const I5={name:"labelStartLink",resolveAll:r0.resolveAll,tokenize:M5};function M5(e,t,n){const r=this;return o;function o(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Wp={name:"lineEnding",tokenize:P5};function P5(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),mt(e,t,"linePrefix")}}const xd={name:"thematicBreak",tokenize:D5};function D5(e,t,n){let r=0,o;return a;function a(f){return e.enter("thematicBreak"),l(f)}function l(f){return o=f,c(f)}function c(f){return f===o?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Be(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===o?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),ct(f)?mt(e,c,"whitespace")(f):c(f))}}const ir={continuation:{tokenize:$5},exit:q5,name:"list",tokenize:U5},z5={partial:!0,tokenize:V5},O5={partial:!0,tokenize:L5};function U5(e,t,n){const r=this,o=r.events[r.events.length-1];let a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return c;function c(b){const E=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:eg(b)){if(r.containerState.type||(r.containerState.type=E,e.enter(E,{_container:!0})),E==="listUnordered")return e.enter("listItemPrefix"),b===42||b===45?e.check(xd,n,f)(b):f(b);if(!r.interrupt||b===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(b)}return n(b)}function d(b){return eg(b)&&++l<10?(e.consume(b),d):(!r.interrupt||l<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(e.exit("listItemValue"),f(b)):n(b)}function f(b){return e.enter("listItemMarker"),e.consume(b),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,e.check(Yl,r.interrupt?n:p,e.attempt(z5,v,g))}function p(b){return r.containerState.initialBlankLine=!0,a++,v(b)}function g(b){return ct(b)?(e.enter("listItemPrefixWhitespace"),e.consume(b),e.exit("listItemPrefixWhitespace"),v):n(b)}function v(b){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(b)}}function $5(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Yl,o,a);function o(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,mt(e,t,"listItemIndent",r.containerState.size+1)(c)}function a(c){return r.containerState.furtherBlankLines||!ct(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(O5,t,l)(c))}function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,mt(e,e.attempt(ir,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function L5(e,t,n){const r=this;return mt(e,o,"listItemIndent",r.containerState.size+1);function o(a){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(a):n(a)}}function q5(e){e.exit(this.containerState.type)}function V5(e,t,n){const r=this;return mt(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(a){const l=r.events[r.events.length-1];return!ct(a)&&l&&l[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const QS={name:"setextUnderline",resolveTo:j5,tokenize:H5};function j5(e,t){let n=e.length,r,o,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",a?(e.splice(o,0,["enter",l,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function H5(e,t,n){const r=this;let o;return a;function a(f){let p=r.events.length,g;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){g=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),o=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),c(f)}function c(f){return f===o?(e.consume(f),c):(e.exit("setextHeadingLineSequence"),ct(f)?mt(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Be(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const B5={tokenize:F5};function F5(e){const t=this,n=e.attempt(Yl,r,e.attempt(this.parser.constructs.flowInitial,o,mt(e,e.attempt(this.parser.constructs.flow,o,e.attempt(Y4,o)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const G5={resolveAll:Y1()},J5=K1("string"),Z5=K1("text");function K1(e){return{resolveAll:Y1(e==="text"?K5:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],a=n.attempt(o,l,c);return l;function l(p){return f(p)?a(p):c(p)}function c(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),d}function d(p){return f(p)?(n.exit("data"),a(p)):(n.consume(p),d)}function f(p){if(p===null)return!0;const g=o[p];let v=-1;if(g)for(;++v<g.length;){const b=g[v];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function Y1(e){return t;function t(n,r){let o=-1,a;for(;++o<=n.length;)a===void 0?n[o]&&n[o][1].type==="data"&&(a=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==a+2&&(n[a][1].end=n[o-1][1].end,n.splice(a+2,o-a-2),o=a+2),a=void 0);return e?e(n,r):n}}function K5(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let a=o.length,l=-1,c=0,d;for(;a--;){const f=o[a];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(f===-2)d=!0,c++;else if(f!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(c=0),c){const f={type:n===e.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:r.start._bufferIndex+l,_index:r.start._index+a,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const Y5={42:ir,43:ir,45:ir,48:ir,49:ir,50:ir,51:ir,52:ir,53:ir,54:ir,55:ir,56:ir,57:ir,62:j1},X5={91:t5},Q5={[-2]:Qp,[-1]:Qp,32:Qp},W5={35:a5,42:xd,45:[QS,xd],60:d5,61:QS,95:xd,96:YS,126:YS},eL={38:B1,92:H1},tL={[-5]:Wp,[-4]:Wp,[-3]:Wp,33:N5,38:B1,42:tg,60:[I4,v5],91:I5,92:[o5,H1],93:r0,95:tg,96:B4},nL={null:[tg,G5]},rL={null:[42,95]},iL={null:[]},oL=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:rL,contentInitial:X5,disable:iL,document:Y5,flow:W5,flowInitial:Q5,insideSpan:nL,string:eL,text:tL},Symbol.toStringTag,{value:"Module"}));function sL(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},a=[];let l=[],c=[];const d={attempt:P(C),check:P(N),consume:T,enter:A,exit:M,interrupt:P(N,{interrupt:!0})},f={code:null,containerState:{},defineSkip:R,events:[],now:E,parser:e,previous:null,sliceSerialize:v,sliceStream:b,write:g};let p=t.tokenize.call(f,d);return t.resolveAll&&a.push(t),f;function g(H){return l=Mr(l,H),k(),l[l.length-1]!==null?[]:(L(t,0),f.events=pf(a,f.events,f),f.events)}function v(H,K){return lL(b(H),K)}function b(H){return aL(l,H)}function E(){const{_bufferIndex:H,_index:K,line:ee,column:Q,offset:W}=r;return{_bufferIndex:H,_index:K,line:ee,column:Q,offset:W}}function R(H){o[H.line]=H.column,q()}function k(){let H;for(;r._index<l.length;){const K=l[r._index];if(typeof K=="string")for(H=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===H&&r._bufferIndex<K.length;)w(K.charCodeAt(r._bufferIndex));else w(K)}}function w(H){p=p(H)}function T(H){Be(H)?(r.line++,r.column=1,r.offset+=H===-3?2:1,q()):H!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=H}function A(H,K){const ee=K||{};return ee.type=H,ee.start=E(),f.events.push(["enter",ee,f]),c.push(ee),ee}function M(H){const K=c.pop();return K.end=E(),f.events.push(["exit",K,f]),K}function C(H,K){L(H,K.from)}function N(H,K){K.restore()}function P(H,K){return ee;function ee(Q,W,G){let ce,_e,ze,$;return Array.isArray(Q)?B(Q):"tokenize"in Q?B([Q]):z(Q);function z(X){return se;function se(xe){const Ce=xe!==null&&X[xe],Ue=xe!==null&&X.null,Y=[...Array.isArray(Ce)?Ce:Ce?[Ce]:[],...Array.isArray(Ue)?Ue:Ue?[Ue]:[]];return B(Y)(xe)}}function B(X){return ce=X,_e=0,X.length===0?G:D(X[_e])}function D(X){return se;function se(xe){return $=j(),ze=X,X.partial||(f.currentConstruct=X),X.name&&f.parser.constructs.disable.null.includes(X.name)?V():X.tokenize.call(K?Object.assign(Object.create(f),K):f,d,O,V)(xe)}}function O(X){return H(ze,$),W}function V(X){return $.restore(),++_e<ce.length?D(ce[_e]):G}}}function L(H,K){H.resolveAll&&!a.includes(H)&&a.push(H),H.resolve&&_r(f.events,K,f.events.length-K,H.resolve(f.events.slice(K),f)),H.resolveTo&&(f.events=H.resolveTo(f.events,f))}function j(){const H=E(),K=f.previous,ee=f.currentConstruct,Q=f.events.length,W=Array.from(c);return{from:Q,restore:G};function G(){r=H,f.previous=K,f.currentConstruct=ee,f.events.length=Q,c=W,q()}}function q(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function aL(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,a=t.end._bufferIndex;let l;if(n===o)l=[e[n].slice(r,a)];else{if(l=e.slice(n,o),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}a>0&&l.push(e[o].slice(0,a))}return l}function lL(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const a=e[n];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&o)continue;l=" ";break}default:l=String.fromCharCode(a)}o=a===-2,r.push(l)}return r.join("")}function uL(e){const r={constructs:q1([oL,...(e||{}).extensions||[]]),content:o(E4),defined:[],document:o(k4),flow:o(B5),lazy:{},string:o(J5),text:o(Z5)};return r;function o(a){return l;function l(c){return sL(r,a,c)}}}function cL(e){for(;!F1(e););return e}const WS=/[\0\t\n\r]/g;function dL(){let e=1,t="",n=!0,r;return o;function o(a,l,c){const d=[];let f,p,g,v,b;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),g=0,t="",n&&(a.charCodeAt(0)===65279&&g++,n=void 0);g<a.length;){if(WS.lastIndex=g,f=WS.exec(a),v=f&&f.index!==void 0?f.index:a.length,b=a.charCodeAt(v),!f){t=a.slice(g);break}if(b===10&&g===v&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),g<v&&(d.push(a.slice(g,v)),e+=v-g),b){case 0:{d.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,d.push(-2);e++<p;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}g=v+1}return c&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const fL=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function hL(e){return e.replace(fL,pL)}function pL(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),a=o===120||o===88;return V1(n.slice(a?2:1),a?16:10)}return n0(n)||e}const X1={}.hasOwnProperty;function mL(e,t,n){return typeof t!="string"&&(n=t,t=void 0),gL(n)(cL(uL(n).document().write(dL()(e,t,!0))))}function gL(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(gt),autolinkProtocol:j,autolinkEmail:j,atxHeading:a(Ae),blockQuote:a(Ue),characterEscape:j,characterReference:j,codeFenced:a(Y),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(Y,l),codeText:a(ne,l),codeTextData:j,data:j,codeFlowValue:j,definition:a(me),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(be),hardBreakEscape:a(He),hardBreakTrailing:a(He),htmlFlow:a(It,l),htmlFlowData:j,htmlText:a(It,l),htmlTextData:j,image:a(Ye),label:l,link:a(gt),listItem:a(xt),listItemValue:v,listOrdered:a(wt,g),listUnordered:a(wt),paragraph:a(Tn),reference:D,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Ae),strong:a(fe),thematicBreak:a(Te)},exit:{atxHeading:d(),atxHeadingSequence:C,autolink:d(),autolinkEmail:Ce,autolinkProtocol:xe,blockQuote:d(),characterEscapeValue:q,characterReferenceMarkerHexadecimal:V,characterReferenceMarkerNumeric:V,characterReferenceValue:X,characterReference:se,codeFenced:d(k),codeFencedFence:R,codeFencedFenceInfo:b,codeFencedFenceMeta:E,codeFlowValue:q,codeIndented:d(w),codeText:d(W),codeTextData:q,data:q,definition:d(),definitionDestinationString:M,definitionLabelString:T,definitionTitleString:A,emphasis:d(),hardBreakEscape:d(K),hardBreakTrailing:d(K),htmlFlow:d(ee),htmlFlowData:q,htmlText:d(Q),htmlTextData:q,image:d(ce),label:ze,labelText:_e,lineEnding:H,link:d(G),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:O,resourceDestinationString:$,resourceTitleString:z,resource:B,setextHeading:d(L),setextHeadingLineSequence:P,setextHeadingText:N,strong:d(),thematicBreak:d()}};Q1(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(re){let we={type:"root",children:[]};const ye={stack:[we],tokenStack:[],config:t,enter:c,exit:f,buffer:l,resume:p,data:n},Pe=[];let Ve=-1;for(;++Ve<re.length;)if(re[Ve][1].type==="listOrdered"||re[Ve][1].type==="listUnordered")if(re[Ve][0]==="enter")Pe.push(Ve);else{const Gt=Pe.pop();Ve=o(re,Gt,Ve)}for(Ve=-1;++Ve<re.length;){const Gt=t[re[Ve][0]];X1.call(Gt,re[Ve][1].type)&&Gt[re[Ve][1].type].call(Object.assign({sliceSerialize:re[Ve][2].sliceSerialize},ye),re[Ve][1])}if(ye.tokenStack.length>0){const Gt=ye.tokenStack[ye.tokenStack.length-1];(Gt[1]||ew).call(ye,void 0,Gt[0])}for(we.position={start:po(re.length>0?re[0][1].start:{line:1,column:1,offset:0}),end:po(re.length>0?re[re.length-2][1].end:{line:1,column:1,offset:0})},Ve=-1;++Ve<t.transforms.length;)we=t.transforms[Ve](we)||we;return we}function o(re,we,ye){let Pe=we-1,Ve=-1,Gt=!1,mn,nt,Se,Ze;for(;++Pe<=ye;){const De=re[Pe];switch(De[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{De[0]==="enter"?Ve++:Ve--,Ze=void 0;break}case"lineEndingBlank":{De[0]==="enter"&&(mn&&!Ze&&!Ve&&!Se&&(Se=Pe),Ze=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ze=void 0}if(!Ve&&De[0]==="enter"&&De[1].type==="listItemPrefix"||Ve===-1&&De[0]==="exit"&&(De[1].type==="listUnordered"||De[1].type==="listOrdered")){if(mn){let Ge=Pe;for(nt=void 0;Ge--;){const ht=re[Ge];if(ht[1].type==="lineEnding"||ht[1].type==="lineEndingBlank"){if(ht[0]==="exit")continue;nt&&(re[nt][1].type="lineEndingBlank",Gt=!0),ht[1].type="lineEnding",nt=Ge}else if(!(ht[1].type==="linePrefix"||ht[1].type==="blockQuotePrefix"||ht[1].type==="blockQuotePrefixWhitespace"||ht[1].type==="blockQuoteMarker"||ht[1].type==="listItemIndent"))break}Se&&(!nt||Se<nt)&&(mn._spread=!0),mn.end=Object.assign({},nt?re[nt][1].start:De[1].end),re.splice(nt||Pe,0,["exit",mn,De[2]]),Pe++,ye++}if(De[1].type==="listItemPrefix"){const Ge={type:"listItem",_spread:!1,start:Object.assign({},De[1].start),end:void 0};mn=Ge,re.splice(Pe,0,["enter",Ge,De[2]]),Pe++,ye++,Se=void 0,Ze=!0}}}return re[we][1]._spread=Gt,ye}function a(re,we){return ye;function ye(Pe){c.call(this,re(Pe),Pe),we&&we.call(this,Pe)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(re,we,ye){this.stack[this.stack.length-1].children.push(re),this.stack.push(re),this.tokenStack.push([we,ye||void 0]),re.position={start:po(we.start),end:void 0}}function d(re){return we;function we(ye){re&&re.call(this,ye),f.call(this,ye)}}function f(re,we){const ye=this.stack.pop(),Pe=this.tokenStack.pop();if(Pe)Pe[0].type!==re.type&&(we?we.call(this,re,Pe[0]):(Pe[1]||ew).call(this,re,Pe[0]));else throw new Error("Cannot close `"+re.type+"` ("+Ul({start:re.start,end:re.end})+"): its not open");ye.position.end=po(re.end)}function p(){return t0(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function v(re){if(this.data.expectingFirstListItemValue){const we=this.stack[this.stack.length-2];we.start=Number.parseInt(this.sliceSerialize(re),10),this.data.expectingFirstListItemValue=void 0}}function b(){const re=this.resume(),we=this.stack[this.stack.length-1];we.lang=re}function E(){const re=this.resume(),we=this.stack[this.stack.length-1];we.meta=re}function R(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const re=this.resume(),we=this.stack[this.stack.length-1];we.value=re.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const re=this.resume(),we=this.stack[this.stack.length-1];we.value=re.replace(/(\r?\n|\r)$/g,"")}function T(re){const we=this.resume(),ye=this.stack[this.stack.length-1];ye.label=we,ye.identifier=Yr(this.sliceSerialize(re)).toLowerCase()}function A(){const re=this.resume(),we=this.stack[this.stack.length-1];we.title=re}function M(){const re=this.resume(),we=this.stack[this.stack.length-1];we.url=re}function C(re){const we=this.stack[this.stack.length-1];if(!we.depth){const ye=this.sliceSerialize(re).length;we.depth=ye}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function P(re){const we=this.stack[this.stack.length-1];we.depth=this.sliceSerialize(re).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function j(re){const ye=this.stack[this.stack.length-1].children;let Pe=ye[ye.length-1];(!Pe||Pe.type!=="text")&&(Pe=Ee(),Pe.position={start:po(re.start),end:void 0},ye.push(Pe)),this.stack.push(Pe)}function q(re){const we=this.stack.pop();we.value+=this.sliceSerialize(re),we.position.end=po(re.end)}function H(re){const we=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ye=we.children[we.children.length-1];ye.position.end=po(re.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(we.type)&&(j.call(this,re),q.call(this,re))}function K(){this.data.atHardBreak=!0}function ee(){const re=this.resume(),we=this.stack[this.stack.length-1];we.value=re}function Q(){const re=this.resume(),we=this.stack[this.stack.length-1];we.value=re}function W(){const re=this.resume(),we=this.stack[this.stack.length-1];we.value=re}function G(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const we=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=we,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function ce(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const we=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=we,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function _e(re){const we=this.sliceSerialize(re),ye=this.stack[this.stack.length-2];ye.label=hL(we),ye.identifier=Yr(we).toLowerCase()}function ze(){const re=this.stack[this.stack.length-1],we=this.resume(),ye=this.stack[this.stack.length-1];if(this.data.inReference=!0,ye.type==="link"){const Pe=re.children;ye.children=Pe}else ye.alt=we}function $(){const re=this.resume(),we=this.stack[this.stack.length-1];we.url=re}function z(){const re=this.resume(),we=this.stack[this.stack.length-1];we.title=re}function B(){this.data.inReference=void 0}function D(){this.data.referenceType="collapsed"}function O(re){const we=this.resume(),ye=this.stack[this.stack.length-1];ye.label=we,ye.identifier=Yr(this.sliceSerialize(re)).toLowerCase(),this.data.referenceType="full"}function V(re){this.data.characterReferenceType=re.type}function X(re){const we=this.sliceSerialize(re),ye=this.data.characterReferenceType;let Pe;ye?(Pe=V1(we,ye==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Pe=n0(we);const Ve=this.stack[this.stack.length-1];Ve.value+=Pe}function se(re){const we=this.stack.pop();we.position.end=po(re.end)}function xe(re){q.call(this,re);const we=this.stack[this.stack.length-1];we.url=this.sliceSerialize(re)}function Ce(re){q.call(this,re);const we=this.stack[this.stack.length-1];we.url="mailto:"+this.sliceSerialize(re)}function Ue(){return{type:"blockquote",children:[]}}function Y(){return{type:"code",lang:null,meta:null,value:""}}function ne(){return{type:"inlineCode",value:""}}function me(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function be(){return{type:"emphasis",children:[]}}function Ae(){return{type:"heading",depth:0,children:[]}}function He(){return{type:"break"}}function It(){return{type:"html",value:""}}function Ye(){return{type:"image",title:null,url:"",alt:null}}function gt(){return{type:"link",title:null,url:"",children:[]}}function wt(re){return{type:"list",ordered:re.type==="listOrdered",start:null,spread:re._spread,children:[]}}function xt(re){return{type:"listItem",spread:re._spread,checked:null,children:[]}}function Tn(){return{type:"paragraph",children:[]}}function fe(){return{type:"strong",children:[]}}function Ee(){return{type:"text",value:""}}function Te(){return{type:"thematicBreak"}}}function po(e){return{line:e.line,column:e.column,offset:e.offset}}function Q1(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Q1(e,r):yL(e,r)}}function yL(e,t){let n;for(n in t)if(X1.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function ew(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ul({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ul({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ul({start:t.start,end:t.end})+") is still open")}function vL(e){const t=this;t.parser=n;function n(r){return mL(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function _L(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function bL(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function xL(e,t){const n=t.value?t.value+`
`:"",r={},o=t.lang?t.lang.split(/\s+/):[];o.length>0&&(r.className=["language-"+o[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function SL(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wL(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function EL(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=Ta(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let l,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=a+1,c+=1,e.footnoteCounts.set(r,c);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function TL(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kL(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function W1(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),a=o[0];a&&a.type==="text"?a.value="["+a.value:o.unshift({type:"text",value:"["});const l=o[o.length-1];return l&&l.type==="text"?l.value+=r:o.push({type:"text",value:r}),o}function CL(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return W1(e,t);const o={src:Ta(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const a={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,a),e.applyData(t,a)}function AL(e,t){const n={src:Ta(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function NL(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function RL(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return W1(e,t);const o={href:Ta(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const a={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function IL(e,t){const n={href:Ta(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ML(e,t,n){const r=e.all(t),o=n?PL(n):ek(t),a={},l=[];if(typeof t.checked=="boolean"){const p=r[0];let g;p&&p.type==="element"&&p.tagName==="p"?g=p:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const p=r[c];(o||c!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!o?l.push(...p.children):l.push(p)}const d=r[r.length-1];d&&(o||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:a,children:l};return e.patch(t,f),e.applyData(t,f)}function PL(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=ek(n[r])}return t}function ek(e){const t=e.spread;return t??e.children.length>1}function DL(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const l=r[o];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function zL(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function OL(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function UL(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $L(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),o.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=Xg(t.children[1]),d=P1(t.children[t.children.length-1]);c&&d&&(l.position={start:c,end:d}),o.push(l)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,a),e.applyData(t,a)}function LL(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:t.children.length;let d=-1;const f=[];for(;++d<c;){const g=t.children[d],v={},b=l?l[d]:void 0;b&&(v.align=b);let E={type:"element",tagName:a,properties:v,children:[]};g&&(E.children=e.all(g),e.patch(g,E),E=e.applyData(g,E)),f.push(E)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,p),e.applyData(t,p)}function qL(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const tw=9,nw=32;function VL(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const a=[];for(;r;)a.push(rw(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return a.push(rw(t.slice(o),o>0,!1)),a.join("")}function rw(e,t,n){let r=0,o=e.length;if(t){let a=e.codePointAt(r);for(;a===tw||a===nw;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(o-1);for(;a===tw||a===nw;)o--,a=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function jL(e,t){const n={type:"text",value:VL(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function HL(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const BL={blockquote:_L,break:bL,code:xL,delete:SL,emphasis:wL,footnoteReference:EL,heading:TL,html:kL,imageReference:CL,image:AL,inlineCode:NL,linkReference:RL,link:IL,listItem:ML,list:DL,paragraph:zL,root:OL,strong:UL,table:$L,tableCell:qL,tableRow:LL,text:jL,thematicBreak:HL,toml:Sc,yaml:Sc,definition:Sc,footnoteDefinition:Sc};function Sc(){}const tk=-1,mf=0,Ll=1,Ld=2,i0=3,o0=4,s0=5,a0=6,nk=7,rk=8,iw=typeof self=="object"?self:globalThis,FL=(e,t)=>{const n=(o,a)=>(e.set(a,o),o),r=o=>{if(e.has(o))return e.get(o);const[a,l]=t[o];switch(a){case mf:case tk:return n(l,o);case Ll:{const c=n([],o);for(const d of l)c.push(r(d));return c}case Ld:{const c=n({},o);for(const[d,f]of l)c[r(d)]=r(f);return c}case i0:return n(new Date(l),o);case o0:{const{source:c,flags:d}=l;return n(new RegExp(c,d),o)}case s0:{const c=n(new Map,o);for(const[d,f]of l)c.set(r(d),r(f));return c}case a0:{const c=n(new Set,o);for(const d of l)c.add(r(d));return c}case nk:{const{name:c,message:d}=l;return n(new iw[c](d),o)}case rk:return n(BigInt(l),o);case"BigInt":return n(Object(BigInt(l)),o);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new iw[a](l),o)};return r},ow=e=>FL(new Map,e)(0),Gs="",{toString:GL}={},{keys:JL}=Object,Tl=e=>{const t=typeof e;if(t!=="object"||!e)return[mf,t];const n=GL.call(e).slice(8,-1);switch(n){case"Array":return[Ll,Gs];case"Object":return[Ld,Gs];case"Date":return[i0,Gs];case"RegExp":return[o0,Gs];case"Map":return[s0,Gs];case"Set":return[a0,Gs];case"DataView":return[Ll,n]}return n.includes("Array")?[Ll,n]:n.includes("Error")?[nk,n]:[Ld,n]},wc=([e,t])=>e===mf&&(t==="function"||t==="symbol"),ZL=(e,t,n,r)=>{const o=(l,c)=>{const d=r.push(l)-1;return n.set(c,d),d},a=l=>{if(n.has(l))return n.get(l);let[c,d]=Tl(l);switch(c){case mf:{let p=l;switch(d){case"bigint":c=rk,p=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);p=null;break;case"undefined":return o([tk],l)}return o([c,p],l)}case Ll:{if(d){let v=l;return d==="DataView"?v=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(v=new Uint8Array(l)),o([d,[...v]],l)}const p=[],g=o([c,p],l);for(const v of l)p.push(a(v));return g}case Ld:{if(d)switch(d){case"BigInt":return o([d,l.toString()],l);case"Boolean":case"Number":case"String":return o([d,l.valueOf()],l)}if(t&&"toJSON"in l)return a(l.toJSON());const p=[],g=o([c,p],l);for(const v of JL(l))(e||!wc(Tl(l[v])))&&p.push([a(v),a(l[v])]);return g}case i0:return o([c,l.toISOString()],l);case o0:{const{source:p,flags:g}=l;return o([c,{source:p,flags:g}],l)}case s0:{const p=[],g=o([c,p],l);for(const[v,b]of l)(e||!(wc(Tl(v))||wc(Tl(b))))&&p.push([a(v),a(b)]);return g}case a0:{const p=[],g=o([c,p],l);for(const v of l)(e||!wc(Tl(v)))&&p.push(a(v));return g}}const{message:f}=l;return o([c,{name:d,message:f}],l)};return a},sw=(e,{json:t,lossy:n}={})=>{const r=[];return ZL(!(t||n),!!t,new Map,r)(e),r},qd=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?ow(sw(e,t)):structuredClone(e):(e,t)=>ow(sw(e,t));function KL(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function YL(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function XL(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||KL,r=e.options.footnoteBackLabel||YL,o=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const p=e.all(f),g=String(f.identifier).toUpperCase(),v=Ta(g.toLowerCase());let b=0;const E=[],R=e.footnoteCounts.get(g);for(;R!==void 0&&++b<=R;){E.length>0&&E.push({type:"text",value:" "});let T=typeof n=="string"?n:n(d,b);typeof T=="string"&&(T={type:"text",value:T}),E.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,b),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const k=p[p.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const T=k.children[k.children.length-1];T&&T.type==="text"?T.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...E)}else p.push(...E);const w={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(p,!0)};e.patch(f,w),c.push(w)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...qd(l),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const gf=(function(e){if(e==null)return tq;if(typeof e=="function")return yf(e);if(typeof e=="object")return Array.isArray(e)?QL(e):WL(e);if(typeof e=="string")return eq(e);throw new Error("Expected function, string, or object as test")});function QL(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=gf(e[n]);return yf(r);function r(...o){let a=-1;for(;++a<t.length;)if(t[a].apply(this,o))return!0;return!1}}function WL(e){const t=e;return yf(n);function n(r){const o=r;let a;for(a in e)if(o[a]!==t[a])return!1;return!0}}function eq(e){return yf(t);function t(n){return n&&n.type===e}}function yf(e){return t;function t(n,r,o){return!!(nq(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function tq(){return!0}function nq(e){return e!==null&&typeof e=="object"&&"type"in e}const ik=[],rq=!0,ng=!1,iq="skip";function ok(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const a=gf(o),l=r?-1:1;c(e,void 0,[])();function c(d,f,p){const g=d&&typeof d=="object"?d:{};if(typeof g.type=="string"){const b=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(d.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=ik,E,R,k;if((!t||a(d,f,p[p.length-1]||void 0))&&(b=oq(n(d,p)),b[0]===ng))return b;if("children"in d&&d.children){const w=d;if(w.children&&b[0]!==iq)for(R=(r?w.children.length:-1)+l,k=p.concat(w);R>-1&&R<w.children.length;){const T=w.children[R];if(E=c(T,R,k)(),E[0]===ng)return E;R=typeof E[1]=="number"?E[1]:R+l}}return b}}}function oq(e){return Array.isArray(e)?e:typeof e=="number"?[rq,e]:e==null?ik:[e]}function l0(e,t,n,r){let o,a,l;typeof t=="function"&&typeof n!="function"?(a=void 0,l=t,o=n):(a=t,l=n,o=r),ok(e,a,c,o);function c(d,f){const p=f[f.length-1],g=p?p.children.indexOf(d):void 0;return l(d,g,p)}}const rg={}.hasOwnProperty,sq={};function aq(e,t){const n=t||sq,r=new Map,o=new Map,a=new Map,l={...BL,...n.handlers},c={all:f,applyData:uq,definitionById:r,footnoteById:o,footnoteCounts:a,footnoteOrder:[],handlers:l,one:d,options:n,patch:lq,wrap:dq};return l0(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const g=p.type==="definition"?r:o,v=String(p.identifier).toUpperCase();g.has(v)||g.set(v,p)}}),c;function d(p,g){const v=p.type,b=c.handlers[v];if(rg.call(c.handlers,v)&&b)return b(c,p,g);if(c.options.passThrough&&c.options.passThrough.includes(v)){if("children"in p){const{children:R,...k}=p,w=qd(k);return w.children=c.all(p),w}return qd(p)}return(c.options.unknownHandler||cq)(c,p,g)}function f(p){const g=[];if("children"in p){const v=p.children;let b=-1;for(;++b<v.length;){const E=c.one(v[b],p);if(E){if(b&&v[b-1].type==="break"&&(!Array.isArray(E)&&E.type==="text"&&(E.value=aw(E.value)),!Array.isArray(E)&&E.type==="element")){const R=E.children[0];R&&R.type==="text"&&(R.value=aw(R.value))}Array.isArray(E)?g.push(...E):g.push(E)}}}return g}}function lq(e,t){e.position&&(t.position=Y$(e))}function uq(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&a&&Object.assign(n.properties,qd(a)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function cq(e,t){const n=t.data||{},r="value"in t&&!(rg.call(n,"hProperties")||rg.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function dq(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function aw(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function lw(e,t){const n=aq(e,t),r=n.one(e,void 0),o=XL(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&a.children.push({type:"text",value:`
`},o),a}function fq(e,t){return e&&"run"in e?async function(n,r){const o=lw(n,{file:r,...t});await e.run(o,r)}:function(n,r){return lw(n,{file:r,...e||t})}}function uw(e){if(e)throw e}var em,cw;function hq(){if(cw)return em;cw=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},a=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var p=e.call(f,"constructor"),g=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!g)return!1;var v;for(v in f);return typeof v>"u"||e.call(f,v)},l=function(f,p){n&&p.name==="__proto__"?n(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},c=function(f,p){if(p==="__proto__")if(e.call(f,p)){if(r)return r(f,p).value}else return;return f[p]};return em=function d(){var f,p,g,v,b,E,R=arguments[0],k=1,w=arguments.length,T=!1;for(typeof R=="boolean"&&(T=R,R=arguments[1]||{},k=2),(R==null||typeof R!="object"&&typeof R!="function")&&(R={});k<w;++k)if(f=arguments[k],f!=null)for(p in f)g=c(R,p),v=c(f,p),R!==v&&(T&&v&&(a(v)||(b=o(v)))?(b?(b=!1,E=g&&o(g)?g:[]):E=g&&a(g)?g:{},l(R,{name:p,newValue:d(T,E,v)})):typeof v<"u"&&l(R,{name:p,newValue:v}));return R},em}var pq=hq();const tm=as(pq);function ig(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function mq(){const e=[],t={run:n,use:r};return t;function n(...o){let a=-1;const l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...o);function c(d,...f){const p=e[++a];let g=-1;if(d){l(d);return}for(;++g<o.length;)(f[g]===null||f[g]===void 0)&&(f[g]=o[g]);o=f,p?gq(p,c)(...f):l(null,...f)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function gq(e,t){let n;return r;function r(...l){const c=e.length>l.length;let d;c&&l.push(o);try{d=e.apply(this,l)}catch(f){const p=f;if(c&&n)throw p;return o(p)}c||(d&&d.then&&typeof d.then=="function"?d.then(a,o):d instanceof Error?o(d):a(d))}function o(l,...c){n||(n=!0,t(l,...c))}function a(l){o(null,l)}}const oi={basename:yq,dirname:vq,extname:_q,join:bq,sep:"/"};function yq(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Xl(e);let n=0,r=-1,o=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(a){n=o+1;break}}else r<0&&(a=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,c=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(a){n=o+1;break}}else l<0&&(a=!0,l=o+1),c>-1&&(e.codePointAt(o)===t.codePointAt(c--)?c<0&&(r=o):(c=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function vq(e){if(Xl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function _q(e){Xl(e);let t=e.length,n=-1,r=0,o=-1,a=0,l;for(;t--;){const c=e.codePointAt(t);if(c===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),c===46?o<0?o=t:a!==1&&(a=1):o>-1&&(a=-1)}return o<0||n<0||a===0||a===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function bq(...e){let t=-1,n;for(;++t<e.length;)Xl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":xq(n)}function xq(e){Xl(e);const t=e.codePointAt(0)===47;let n=Sq(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Sq(e,t){let n="",r=0,o=-1,a=0,l=-1,c,d;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(o===l-1||a===1))if(o!==l-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),o=l,a=0;continue}}else if(n.length>0){n="",r=0,o=l,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,l):n=e.slice(o+1,l),r=l-o-1;o=l,a=0}else c===46&&a>-1?a++:a=-1}return n}function Xl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const wq={cwd:Eq};function Eq(){return"/"}function og(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Tq(e){if(typeof e=="string")e=new URL(e);else if(!og(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return kq(e)}function kq(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const nm=["history","path","basename","stem","extname","dirname"];class sk{constructor(t){let n;t?og(t)?n={path:t}:typeof t=="string"||Cq(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":wq.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<nm.length;){const a=nm[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let o;for(o in n)nm.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?oi.basename(this.path):void 0}set basename(t){im(t,"basename"),rm(t,"basename"),this.path=oi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?oi.dirname(this.path):void 0}set dirname(t){dw(this.basename,"dirname"),this.path=oi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?oi.extname(this.path):void 0}set extname(t){if(rm(t,"extname"),dw(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=oi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){og(t)&&(t=Tq(t)),im(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?oi.basename(this.path,this.extname):void 0}set stem(t){im(t,"stem"),rm(t,"stem"),this.path=oi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new jn(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function rm(e,t){if(e&&e.includes(oi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+oi.sep+"`")}function im(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function dw(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Cq(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Aq=(function(e){const r=this.constructor.prototype,o=r[e],a=function(){return o.apply(a,arguments)};return Object.setPrototypeOf(a,r),a}),Nq={}.hasOwnProperty;class u0 extends Aq{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=mq()}copy(){const t=new u0;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(tm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(am("data",this.frozen),this.namespace[t]=n,this):Nq.call(this.namespace,t)&&this.namespace[t]||void 0:t?(am("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ec(t),r=this.parser||this.Parser;return om("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),om("process",this.parser||this.Parser),sm("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(a,l){const c=Ec(t),d=r.parse(c);r.run(d,c,function(p,g,v){if(p||!g||!v)return f(p);const b=g,E=r.stringify(b,v);Mq(E)?v.value=E:v.result=E,f(p,v)});function f(p,g){p||!g?l(p):a?a(g):n(void 0,g)}}}processSync(t){let n=!1,r;return this.freeze(),om("processSync",this.parser||this.Parser),sm("processSync",this.compiler||this.Compiler),this.process(t,o),hw("processSync","process",n),r;function o(a,l){n=!0,uw(a),r=l}}run(t,n,r){fw(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(l,c){const d=Ec(n);o.run(t,d,f);function f(p,g,v){const b=g||t;p?c(p):l?l(b):r(void 0,b,v)}}}runSync(t,n){let r=!1,o;return this.run(t,n,a),hw("runSync","run",r),o;function a(l,c){uw(l),o=c,r=!0}}stringify(t,n){this.freeze();const r=Ec(n),o=this.compiler||this.Compiler;return sm("stringify",o),fw(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(am("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...g]=f;d(p,g)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(f.plugins),f.settings&&(o.settings=tm(!0,o.settings,f.settings))}function c(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const g=f[p];a(g)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,p){let g=-1,v=-1;for(;++g<r.length;)if(r[g][0]===f){v=g;break}if(v===-1)r.push([f,...p]);else if(p.length>0){let[b,...E]=p;const R=r[v][1];ig(R)&&ig(b)&&(b=tm(!0,R,b)),r[v]=[f,b,...E]}}}}const Rq=new u0().freeze();function om(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function sm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function am(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function fw(e){if(!ig(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function hw(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ec(e){return Iq(e)?e:new sk(e)}function Iq(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Mq(e){return typeof e=="string"||Pq(e)}function Pq(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Dq="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",pw=[],mw={allowDangerousHtml:!0},zq=/^(https?|ircs?|mailto|xmpp)$/i,Oq=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Uq(e){const t=$q(e),n=Lq(e);return qq(t.runSync(t.parse(n),n),e)}function $q(e){const t=e.rehypePlugins||pw,n=e.remarkPlugins||pw,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...mw}:mw;return Rq().use(vL).use(n).use(fq,r).use(t)}function Lq(e){const t=e.children||"",n=new sk;return typeof t=="string"&&(n.value=t),n}function qq(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,a=t.disallowedElements,l=t.skipHtml,c=t.unwrapDisallowed,d=t.urlTransform||Vq;for(const p of Oq)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+Dq+p.id,void 0);return l0(e,f),t4(e,{Fragment:x.Fragment,components:o,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function f(p,g,v){if(p.type==="raw"&&v&&typeof g=="number")return l?v.children.splice(g,1):v.children[g]={type:"text",value:p.value},g;if(p.type==="element"){let b;for(b in Xp)if(Object.hasOwn(Xp,b)&&Object.hasOwn(p.properties,b)){const E=p.properties[b],R=Xp[b];(R===null||R.includes(p.tagName))&&(p.properties[b]=d(String(E||""),b,p))}}if(p.type==="element"){let b=n?!n.includes(p.tagName):a?a.includes(p.tagName):!1;if(!b&&r&&typeof g=="number"&&(b=!r(p,g,v)),b&&v&&typeof g=="number")return c&&p.children?v.children.splice(g,1,...p.children):v.children.splice(g,1),g}}}function Vq(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||zq.test(e.slice(0,t))?e:""}function gw(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;o!==-1;)r++,o=n.indexOf(t,o+t.length);return r}function jq(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Hq(e,t,n){const o=gf((n||{}).ignore||[]),a=Bq(t);let l=-1;for(;++l<a.length;)ok(e,"text",c);function c(f,p){let g=-1,v;for(;++g<p.length;){const b=p[g],E=v?v.children:void 0;if(o(b,E?E.indexOf(b):void 0,v))return;v=b}if(v)return d(f,p)}function d(f,p){const g=p[p.length-1],v=a[l][0],b=a[l][1];let E=0;const k=g.children.indexOf(f);let w=!1,T=[];v.lastIndex=0;let A=v.exec(f.value);for(;A;){const M=A.index,C={index:A.index,input:A.input,stack:[...p,f]};let N=b(...A,C);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?v.lastIndex=M+1:(E!==M&&T.push({type:"text",value:f.value.slice(E,M)}),Array.isArray(N)?T.push(...N):N&&T.push(N),E=M+A[0].length,w=!0),!v.global)break;A=v.exec(f.value)}return w?(E<f.value.length&&T.push({type:"text",value:f.value.slice(E)}),g.children.splice(k,1,...T)):T=[f],k+T.length}}function Bq(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const o=n[r];t.push([Fq(o[0]),Gq(o[1])])}return t}function Fq(e){return typeof e=="string"?new RegExp(jq(e),"g"):e}function Gq(e){return typeof e=="function"?e:function(){return e}}const lm="phrasing",um=["autolink","link","image","label"];function Jq(){return{transforms:[e3],enter:{literalAutolink:Kq,literalAutolinkEmail:cm,literalAutolinkHttp:cm,literalAutolinkWww:cm},exit:{literalAutolink:Wq,literalAutolinkEmail:Qq,literalAutolinkHttp:Yq,literalAutolinkWww:Xq}}}function Zq(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:lm,notInConstruct:um},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:lm,notInConstruct:um},{character:":",before:"[ps]",after:"\\/",inConstruct:lm,notInConstruct:um}]}}function Kq(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function cm(e){this.config.enter.autolinkProtocol.call(this,e)}function Yq(e){this.config.exit.autolinkProtocol.call(this,e)}function Xq(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Qq(e){this.config.exit.autolinkEmail.call(this,e)}function Wq(e){this.exit(e)}function e3(e){Hq(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,t3],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),n3]],{ignore:["link","linkReference"]})}function t3(e,t,n,r,o){let a="";if(!ak(o)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!r3(n)))return!1;const l=i3(n+r);if(!l[0])return!1;const c={type:"link",title:null,url:a+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[c,{type:"text",value:l[1]}]:c}function n3(e,t,n,r){return!ak(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function r3(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function i3(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=gw(e,"(");let a=gw(e,")");for(;r!==-1&&o>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function ak(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||ss(n)||hf(n))&&(!t||n!==47)}lk.peek=h3;function o3(){this.buffer()}function s3(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function a3(){this.buffer()}function l3(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function u3(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Yr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function c3(e){this.exit(e)}function d3(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Yr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function f3(e){this.exit(e)}function h3(){return"["}function lk(e,t,n,r){const o=n.createTracker(r);let a=o.move("[^");const l=n.enter("footnoteReference"),c=n.enter("reference");return a+=o.move(n.safe(n.associationId(e),{after:"]",before:a})),c(),l(),a+=o.move("]"),a}function p3(){return{enter:{gfmFootnoteCallString:o3,gfmFootnoteCall:s3,gfmFootnoteDefinitionLabelString:a3,gfmFootnoteDefinition:l3},exit:{gfmFootnoteCallString:u3,gfmFootnoteCall:c3,gfmFootnoteDefinitionLabelString:d3,gfmFootnoteDefinition:f3}}}function m3(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:lk},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,o,a,l){const c=a.createTracker(l);let d=c.move("[^");const f=a.enter("footnoteDefinition"),p=a.enter("label");return d+=c.move(a.safe(a.associationId(r),{before:d,after:"]"})),p(),d+=c.move("]:"),r.children&&r.children.length>0&&(c.shift(4),d+=c.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,c.current()),t?uk:g3))),f(),d}}function g3(e,t,n){return t===0?e:uk(e,t,n)}function uk(e,t,n){return(n?"":"    ")+e}const y3=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];ck.peek=S3;function v3(){return{canContainEols:["delete"],enter:{strikethrough:b3},exit:{strikethrough:x3}}}function _3(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:y3}],handlers:{delete:ck}}}function b3(e){this.enter({type:"delete",children:[]},e)}function x3(e){this.exit(e)}function ck(e,t,n,r){const o=n.createTracker(r),a=n.enter("strikethrough");let l=o.move("~~");return l+=n.containerPhrasing(e,{...o.current(),before:l,after:"~"}),l+=o.move("~~"),a(),l}function S3(){return"~"}function w3(e){return e.length}function E3(e,t){const n=t||{},r=(n.align||[]).concat(),o=n.stringLength||w3,a=[],l=[],c=[],d=[];let f=0,p=-1;for(;++p<e.length;){const R=[],k=[];let w=-1;for(e[p].length>f&&(f=e[p].length);++w<e[p].length;){const T=T3(e[p][w]);if(n.alignDelimiters!==!1){const A=o(T);k[w]=A,(d[w]===void 0||A>d[w])&&(d[w]=A)}R.push(T)}l[p]=R,c[p]=k}let g=-1;if(typeof r=="object"&&"length"in r)for(;++g<f;)a[g]=yw(r[g]);else{const R=yw(r);for(;++g<f;)a[g]=R}g=-1;const v=[],b=[];for(;++g<f;){const R=a[g];let k="",w="";R===99?(k=":",w=":"):R===108?k=":":R===114&&(w=":");let T=n.alignDelimiters===!1?1:Math.max(1,d[g]-k.length-w.length);const A=k+"-".repeat(T)+w;n.alignDelimiters!==!1&&(T=k.length+T+w.length,T>d[g]&&(d[g]=T),b[g]=T),v[g]=A}l.splice(1,0,v),c.splice(1,0,b),p=-1;const E=[];for(;++p<l.length;){const R=l[p],k=c[p];g=-1;const w=[];for(;++g<f;){const T=R[g]||"";let A="",M="";if(n.alignDelimiters!==!1){const C=d[g]-(k[g]||0),N=a[g];N===114?A=" ".repeat(C):N===99?C%2?(A=" ".repeat(C/2+.5),M=" ".repeat(C/2-.5)):(A=" ".repeat(C/2),M=A):M=" ".repeat(C)}n.delimiterStart!==!1&&!g&&w.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&T==="")&&(n.delimiterStart!==!1||g)&&w.push(" "),n.alignDelimiters!==!1&&w.push(A),w.push(T),n.alignDelimiters!==!1&&w.push(M),n.padding!==!1&&w.push(" "),(n.delimiterEnd!==!1||g!==f-1)&&w.push("|")}E.push(n.delimiterEnd===!1?w.join("").replace(/ +$/,""):w.join(""))}return E.join(`
`)}function T3(e){return e==null?"":String(e)}function yw(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function k3(e,t,n,r){const o=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const l=n.indentLines(n.containerFlow(e,a.current()),C3);return o(),l}function C3(e,t,n){return">"+(n?"":" ")+e}function A3(e,t){return vw(e,t.inConstruct,!0)&&!vw(e,t.notInConstruct,!1)}function vw(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function _w(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&A3(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function N3(e,t){const n=String(e);let r=n.indexOf(t),o=r,a=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++a>l&&(l=a):a=1,o=r+t.length,r=n.indexOf(t,o);return l}function R3(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function I3(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function M3(e,t,n,r){const o=I3(n),a=e.value||"",l=o==="`"?"GraveAccent":"Tilde";if(R3(e,n)){const g=n.enter("codeIndented"),v=n.indentLines(a,P3);return g(),v}const c=n.createTracker(r),d=o.repeat(Math.max(N3(a,o)+1,3)),f=n.enter("codeFenced");let p=c.move(d);if(e.lang){const g=n.enter(`codeFencedLang${l}`);p+=c.move(n.safe(e.lang,{before:p,after:" ",encode:["`"],...c.current()})),g()}if(e.lang&&e.meta){const g=n.enter(`codeFencedMeta${l}`);p+=c.move(" "),p+=c.move(n.safe(e.meta,{before:p,after:`
`,encode:["`"],...c.current()})),g()}return p+=c.move(`
`),a&&(p+=c.move(a+`
`)),p+=c.move(d),f(),p}function P3(e,t,n){return(n?"":"    ")+e}function c0(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function D3(e,t,n,r){const o=c0(n),a=o==='"'?"Quote":"Apostrophe",l=n.enter("definition");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("[");return f+=d.move(n.safe(n.associationId(e),{before:f,after:"]",...d.current()})),f+=d.move("]: "),c(),!e.url||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":`
`,...d.current()}))),c(),e.title&&(c=n.enter(`title${a}`),f+=d.move(" "+o),f+=d.move(n.safe(e.title,{before:f,after:o,...d.current()})),f+=d.move(o),c()),l(),f}function z3(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Fl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Vd(e,t,n){const r=ga(e),o=ga(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}dk.peek=O3;function dk(e,t,n,r){const o=z3(n),a=n.enter("emphasis"),l=n.createTracker(r),c=l.move(o);let d=l.move(n.containerPhrasing(e,{after:o,before:c,...l.current()}));const f=d.charCodeAt(0),p=Vd(r.before.charCodeAt(r.before.length-1),f,o);p.inside&&(d=Fl(f)+d.slice(1));const g=d.charCodeAt(d.length-1),v=Vd(r.after.charCodeAt(0),g,o);v.inside&&(d=d.slice(0,-1)+Fl(g));const b=l.move(o);return a(),n.attentionEncodeSurroundingInfo={after:v.outside,before:p.outside},c+d+b}function O3(e,t,n){return n.options.emphasis||"*"}function U3(e,t){let n=!1;return l0(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,ng}),!!((!e.depth||e.depth<3)&&t0(e)&&(t.options.setext||n))}function $3(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(U3(e,n)){const p=n.enter("headingSetext"),g=n.enter("phrasing"),v=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return g(),p(),v+`
`+(o===1?"=":"-").repeat(v.length-(Math.max(v.lastIndexOf("\r"),v.lastIndexOf(`
`))+1))}const l="#".repeat(o),c=n.enter("headingAtx"),d=n.enter("phrasing");a.move(l+" ");let f=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(f)&&(f=Fl(f.charCodeAt(0))+f.slice(1)),f=f?l+" "+f:l,n.options.closeAtx&&(f+=" "+l),d(),c(),f}fk.peek=L3;function fk(e){return e.value||""}function L3(){return"<"}hk.peek=q3;function hk(e,t,n,r){const o=c0(n),a=o==='"'?"Quote":"Apostrophe",l=n.enter("image");let c=n.enter("label");const d=n.createTracker(r);let f=d.move("![");return f+=d.move(n.safe(e.alt,{before:f,after:"]",...d.current()})),f+=d.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),f+=d.move("<"),f+=d.move(n.safe(e.url,{before:f,after:">",...d.current()})),f+=d.move(">")):(c=n.enter("destinationRaw"),f+=d.move(n.safe(e.url,{before:f,after:e.title?" ":")",...d.current()}))),c(),e.title&&(c=n.enter(`title${a}`),f+=d.move(" "+o),f+=d.move(n.safe(e.title,{before:f,after:o,...d.current()})),f+=d.move(o),c()),f+=d.move(")"),l(),f}function q3(){return"!"}pk.peek=V3;function pk(e,t,n,r){const o=e.referenceType,a=n.enter("imageReference");let l=n.enter("label");const c=n.createTracker(r);let d=c.move("![");const f=n.safe(e.alt,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),l();const p=n.stack;n.stack=[],l=n.enter("reference");const g=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return l(),n.stack=p,a(),o==="full"||!f||f!==g?d+=c.move(g+"]"):o==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function V3(){return"!"}mk.peek=j3;function mk(e,t,n){let r=e.value||"",o="`",a=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const l=n.unsafe[a],c=n.compilePattern(l);let d;if(l.atBreak)for(;d=c.exec(r);){let f=d.index;r.charCodeAt(f)===10&&r.charCodeAt(f-1)===13&&f--,r=r.slice(0,f)+" "+r.slice(d.index+1)}}return o+r+o}function j3(){return"`"}function gk(e,t){const n=t0(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}yk.peek=H3;function yk(e,t,n,r){const o=c0(n),a=o==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let c,d;if(gk(e,n)){const p=n.stack;n.stack=[],c=n.enter("autolink");let g=l.move("<");return g+=l.move(n.containerPhrasing(e,{before:g,after:">",...l.current()})),g+=l.move(">"),c(),n.stack=p,g}c=n.enter("link"),d=n.enter("label");let f=l.move("[");return f+=l.move(n.containerPhrasing(e,{before:f,after:"](",...l.current()})),f+=l.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),f+=l.move("<"),f+=l.move(n.safe(e.url,{before:f,after:">",...l.current()})),f+=l.move(">")):(d=n.enter("destinationRaw"),f+=l.move(n.safe(e.url,{before:f,after:e.title?" ":")",...l.current()}))),d(),e.title&&(d=n.enter(`title${a}`),f+=l.move(" "+o),f+=l.move(n.safe(e.title,{before:f,after:o,...l.current()})),f+=l.move(o),d()),f+=l.move(")"),c(),f}function H3(e,t,n){return gk(e,n)?"<":"["}vk.peek=B3;function vk(e,t,n,r){const o=e.referenceType,a=n.enter("linkReference");let l=n.enter("label");const c=n.createTracker(r);let d=c.move("[");const f=n.containerPhrasing(e,{before:d,after:"]",...c.current()});d+=c.move(f+"]["),l();const p=n.stack;n.stack=[],l=n.enter("reference");const g=n.safe(n.associationId(e),{before:d,after:"]",...c.current()});return l(),n.stack=p,a(),o==="full"||!f||f!==g?d+=c.move(g+"]"):o==="shortcut"?d=d.slice(0,-1):d+=c.move("]"),d}function B3(){return"["}function d0(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function F3(e){const t=d0(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function G3(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function _k(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function J3(e,t,n,r){const o=n.enter("list"),a=n.bulletCurrent;let l=e.ordered?G3(n):d0(n);const c=e.ordered?l==="."?")":".":F3(n);let d=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const p=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&p&&(!p.children||!p.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),_k(n)===l&&p){let g=-1;for(;++g<e.children.length;){const v=e.children[g];if(v&&v.type==="listItem"&&v.children&&v.children[0]&&v.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=c),n.bulletCurrent=l;const f=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=a,o(),f}function Z3(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function K3(e,t,n,r){const o=Z3(n);let a=n.bulletCurrent||d0(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let l=a.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const c=n.createTracker(r);c.move(a+" ".repeat(l-a.length)),c.shift(l);const d=n.enter("listItem"),f=n.indentLines(n.containerFlow(e,c.current()),p);return d(),f;function p(g,v,b){return v?(b?"":" ".repeat(l))+g:(b?a:a+" ".repeat(l-a.length))+g}}function Y3(e,t,n,r){const o=n.enter("paragraph"),a=n.enter("phrasing"),l=n.containerPhrasing(e,r);return a(),o(),l}const X3=gf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Q3(e,t,n,r){return(e.children.some(function(l){return X3(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function W3(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}bk.peek=e9;function bk(e,t,n,r){const o=W3(n),a=n.enter("strong"),l=n.createTracker(r),c=l.move(o+o);let d=l.move(n.containerPhrasing(e,{after:o,before:c,...l.current()}));const f=d.charCodeAt(0),p=Vd(r.before.charCodeAt(r.before.length-1),f,o);p.inside&&(d=Fl(f)+d.slice(1));const g=d.charCodeAt(d.length-1),v=Vd(r.after.charCodeAt(0),g,o);v.inside&&(d=d.slice(0,-1)+Fl(g));const b=l.move(o+o);return a(),n.attentionEncodeSurroundingInfo={after:v.outside,before:p.outside},c+d+b}function e9(e,t,n){return n.options.strong||"*"}function t9(e,t,n,r){return n.safe(e.value,r)}function n9(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function r9(e,t,n){const r=(_k(n)+(n.options.ruleSpaces?" ":"")).repeat(n9(n));return n.options.ruleSpaces?r.slice(0,-1):r}const xk={blockquote:k3,break:_w,code:M3,definition:D3,emphasis:dk,hardBreak:_w,heading:$3,html:fk,image:hk,imageReference:pk,inlineCode:mk,link:yk,linkReference:vk,list:J3,listItem:K3,paragraph:Y3,root:Q3,strong:bk,text:t9,thematicBreak:r9};function i9(){return{enter:{table:o9,tableData:bw,tableHeader:bw,tableRow:a9},exit:{codeText:l9,table:s9,tableData:dm,tableHeader:dm,tableRow:dm}}}function o9(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function s9(e){this.exit(e),this.data.inTable=void 0}function a9(e){this.enter({type:"tableRow",children:[]},e)}function dm(e){this.exit(e)}function bw(e){this.enter({type:"tableCell",children:[]},e)}function l9(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,u9));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function u9(e,t){return t==="|"?t:e}function c9(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:v,table:l,tableCell:d,tableRow:c}};function l(b,E,R,k){return f(p(b,R,k),b.align)}function c(b,E,R,k){const w=g(b,R,k),T=f([w]);return T.slice(0,T.indexOf(`
`))}function d(b,E,R,k){const w=R.enter("tableCell"),T=R.enter("phrasing"),A=R.containerPhrasing(b,{...k,before:a,after:a});return T(),w(),A}function f(b,E){return E3(b,{align:E,alignDelimiters:r,padding:n,stringLength:o})}function p(b,E,R){const k=b.children;let w=-1;const T=[],A=E.enter("table");for(;++w<k.length;)T[w]=g(k[w],E,R);return A(),T}function g(b,E,R){const k=b.children;let w=-1;const T=[],A=E.enter("tableRow");for(;++w<k.length;)T[w]=d(k[w],b,E,R);return A(),T}function v(b,E,R){let k=xk.inlineCode(b,E,R);return R.stack.includes("tableCell")&&(k=k.replace(/\|/g,"\\$&")),k}}function d9(){return{exit:{taskListCheckValueChecked:xw,taskListCheckValueUnchecked:xw,paragraph:h9}}}function f9(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:p9}}}function xw(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function h9(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const o=t.children;let a=-1,l;for(;++a<o.length;){const c=o[a];if(c.type==="paragraph"){l=c;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function p9(e,t,n,r){const o=e.children[0],a=typeof e.checked=="boolean"&&o&&o.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",c=n.createTracker(r);a&&c.move(l);let d=xk.listItem(e,t,n,{...r,...c.current()});return a&&(d=d.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,f)),d;function f(p){return p+l}}function m9(){return[Jq(),p3(),v3(),i9(),d9()]}function g9(e){return{extensions:[Zq(),m3(e),_3(),c9(e),f9()]}}const y9={tokenize:w9,partial:!0},Sk={tokenize:E9,partial:!0},wk={tokenize:T9,partial:!0},Ek={tokenize:k9,partial:!0},v9={tokenize:C9,partial:!0},Tk={name:"wwwAutolink",tokenize:x9,previous:Ck},kk={name:"protocolAutolink",tokenize:S9,previous:Ak},qi={name:"emailAutolink",tokenize:b9,previous:Nk},li={};function _9(){return{text:li}}let Yo=48;for(;Yo<123;)li[Yo]=qi,Yo++,Yo===58?Yo=65:Yo===91&&(Yo=97);li[43]=qi;li[45]=qi;li[46]=qi;li[95]=qi;li[72]=[qi,kk];li[104]=[qi,kk];li[87]=[qi,Tk];li[119]=[qi,Tk];function b9(e,t,n){const r=this;let o,a;return l;function l(g){return!sg(g)||!Nk.call(r,r.previous)||f0(r.events)?n(g):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),c(g))}function c(g){return sg(g)?(e.consume(g),c):g===64?(e.consume(g),d):n(g)}function d(g){return g===46?e.check(v9,p,f)(g):g===45||g===95||Vn(g)?(a=!0,e.consume(g),d):p(g)}function f(g){return e.consume(g),o=!0,d}function p(g){return a&&o&&Zn(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(g)):n(g)}}function x9(e,t,n){const r=this;return o;function o(l){return l!==87&&l!==119||!Ck.call(r,r.previous)||f0(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(y9,e.attempt(Sk,e.attempt(wk,a),n),n)(l))}function a(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function S9(e,t,n){const r=this;let o="",a=!1;return l;function l(g){return(g===72||g===104)&&Ak.call(r,r.previous)&&!f0(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(g),e.consume(g),c):n(g)}function c(g){if(Zn(g)&&o.length<5)return o+=String.fromCodePoint(g),e.consume(g),c;if(g===58){const v=o.toLowerCase();if(v==="http"||v==="https")return e.consume(g),d}return n(g)}function d(g){return g===47?(e.consume(g),a?f:(a=!0,d)):n(g)}function f(g){return g===null||$d(g)||Ut(g)||ss(g)||hf(g)?n(g):e.attempt(Sk,e.attempt(wk,p),n)(g)}function p(g){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(g)}}function w9(e,t,n){let r=0;return o;function o(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),o):l===46&&r===3?(e.consume(l),a):n(l)}function a(l){return l===null?n(l):t(l)}}function E9(e,t,n){let r,o,a;return l;function l(f){return f===46||f===95?e.check(Ek,d,c)(f):f===null||Ut(f)||ss(f)||f!==45&&hf(f)?d(f):(a=!0,e.consume(f),l)}function c(f){return f===95?r=!0:(o=r,r=void 0),e.consume(f),l}function d(f){return o||r||!a?n(f):t(f)}}function T9(e,t){let n=0,r=0;return o;function o(l){return l===40?(n++,e.consume(l),o):l===41&&r<n?a(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check(Ek,t,a)(l):l===null||Ut(l)||ss(l)?t(l):(e.consume(l),o)}function a(l){return l===41&&r++,e.consume(l),o}}function k9(e,t,n){return r;function r(c){return c===33||c===34||c===39||c===41||c===42||c===44||c===46||c===58||c===59||c===63||c===95||c===126?(e.consume(c),r):c===38?(e.consume(c),a):c===93?(e.consume(c),o):c===60||c===null||Ut(c)||ss(c)?t(c):n(c)}function o(c){return c===null||c===40||c===91||Ut(c)||ss(c)?t(c):r(c)}function a(c){return Zn(c)?l(c):n(c)}function l(c){return c===59?(e.consume(c),r):Zn(c)?(e.consume(c),l):n(c)}}function C9(e,t,n){return r;function r(a){return e.consume(a),o}function o(a){return Vn(a)?n(a):t(a)}}function Ck(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ut(e)}function Ak(e){return!Zn(e)}function Nk(e){return!(e===47||sg(e))}function sg(e){return e===43||e===45||e===46||e===95||Vn(e)}function f0(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const A9={tokenize:O9,partial:!0};function N9(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:P9,continuation:{tokenize:D9},exit:z9}},text:{91:{name:"gfmFootnoteCall",tokenize:M9},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:R9,resolveTo:I9}}}}function R9(e,t,n){const r=this;let o=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;o--;){const d=r.events[o][1];if(d.type==="labelImage"){l=d;break}if(d.type==="gfmFootnoteCall"||d.type==="labelLink"||d.type==="label"||d.type==="image"||d.type==="link")break}return c;function c(d){if(!l||!l._balanced)return n(d);const f=Yr(r.sliceSerialize({start:l.end,end:r.now()}));return f.codePointAt(0)!==94||!a.includes(f.slice(1))?n(d):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),t(d))}}function I9(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},c=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",o,t],["exit",o,t],["enter",a,t],["enter",l,t],["exit",l,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...c),e}function M9(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,l;return c;function c(g){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),d}function d(g){return g!==94?n(g):(e.enter("gfmFootnoteCallMarker"),e.consume(g),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",f)}function f(g){if(a>999||g===93&&!l||g===null||g===91||Ut(g))return n(g);if(g===93){e.exit("chunkString");const v=e.exit("gfmFootnoteCallString");return o.includes(Yr(r.sliceSerialize(v)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(g),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(g)}return Ut(g)||(l=!0),a++,e.consume(g),g===92?p:f}function p(g){return g===91||g===92||g===93?(e.consume(g),a++,f):f(g)}}function P9(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,l=0,c;return d;function d(E){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionLabelMarker"),f}function f(E){return E===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",p):n(E)}function p(E){if(l>999||E===93&&!c||E===null||E===91||Ut(E))return n(E);if(E===93){e.exit("chunkString");const R=e.exit("gfmFootnoteDefinitionLabelString");return a=Yr(r.sliceSerialize(R)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(E),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),v}return Ut(E)||(c=!0),l++,e.consume(E),E===92?g:p}function g(E){return E===91||E===92||E===93?(e.consume(E),l++,p):p(E)}function v(E){return E===58?(e.enter("definitionMarker"),e.consume(E),e.exit("definitionMarker"),o.includes(a)||o.push(a),mt(e,b,"gfmFootnoteDefinitionWhitespace")):n(E)}function b(E){return t(E)}}function D9(e,t,n){return e.check(Yl,t,e.attempt(A9,t,n))}function z9(e){e.exit("gfmFootnoteDefinition")}function O9(e,t,n){const r=this;return mt(e,o,"gfmFootnoteDefinitionIndent",5);function o(a){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(a):n(a)}}function U9(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:o};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function o(l,c){let d=-1;for(;++d<l.length;)if(l[d][0]==="enter"&&l[d][1].type==="strikethroughSequenceTemporary"&&l[d][1]._close){let f=d;for(;f--;)if(l[f][0]==="exit"&&l[f][1].type==="strikethroughSequenceTemporary"&&l[f][1]._open&&l[d][1].end.offset-l[d][1].start.offset===l[f][1].end.offset-l[f][1].start.offset){l[d][1].type="strikethroughSequence",l[f][1].type="strikethroughSequence";const p={type:"strikethrough",start:Object.assign({},l[f][1].start),end:Object.assign({},l[d][1].end)},g={type:"strikethroughText",start:Object.assign({},l[f][1].end),end:Object.assign({},l[d][1].start)},v=[["enter",p,c],["enter",l[f][1],c],["exit",l[f][1],c],["enter",g,c]],b=c.parser.constructs.insideSpan.null;b&&_r(v,v.length,0,pf(b,l.slice(f+1,d),c)),_r(v,v.length,0,[["exit",g,c],["enter",l[d][1],c],["exit",l[d][1],c],["exit",p,c]]),_r(l,f-1,d-f+3,v),d=f+v.length-2;break}}for(d=-1;++d<l.length;)l[d][1].type==="strikethroughSequenceTemporary"&&(l[d][1].type="data");return l}function a(l,c,d){const f=this.previous,p=this.events;let g=0;return v;function v(E){return f===126&&p[p.length-1][1].type!=="characterEscape"?d(E):(l.enter("strikethroughSequenceTemporary"),b(E))}function b(E){const R=ga(f);if(E===126)return g>1?d(E):(l.consume(E),g++,b);if(g<2&&!n)return d(E);const k=l.exit("strikethroughSequenceTemporary"),w=ga(E);return k._open=!w||w===2&&!!R,k._close=!R||R===2&&!!w,c(E)}}}class $9{constructor(){this.map=[]}add(t,n,r){L9(this,t,n,r)}consume(t){if(this.map.sort(function(a,l){return a[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let o=r.pop();for(;o;){for(const a of o)t.push(a);o=r.pop()}this.map.length=0}}function L9(e,t,n,r){let o=0;if(!(n===0&&r.length===0)){for(;o<e.map.length;){if(e.map[o][0]===t){e.map[o][1]+=n,e.map[o][2].push(...r);return}o+=1}e.map.push([t,n,r])}}function q9(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if(o[0]==="enter")o[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function V9(){return{flow:{null:{name:"table",tokenize:j9,resolveAll:H9}}}}function j9(e,t,n){const r=this;let o=0,a=0,l;return c;function c(q){let H=r.events.length-1;for(;H>-1;){const Q=r.events[H][1].type;if(Q==="lineEnding"||Q==="linePrefix")H--;else break}const K=H>-1?r.events[H][1].type:null,ee=K==="tableHead"||K==="tableRow"?N:d;return ee===N&&r.parser.lazy[r.now().line]?n(q):ee(q)}function d(q){return e.enter("tableHead"),e.enter("tableRow"),f(q)}function f(q){return q===124||(l=!0,a+=1),p(q)}function p(q){return q===null?n(q):Be(q)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(q),e.exit("lineEnding"),b):n(q):ct(q)?mt(e,p,"whitespace")(q):(a+=1,l&&(l=!1,o+=1),q===124?(e.enter("tableCellDivider"),e.consume(q),e.exit("tableCellDivider"),l=!0,p):(e.enter("data"),g(q)))}function g(q){return q===null||q===124||Ut(q)?(e.exit("data"),p(q)):(e.consume(q),q===92?v:g)}function v(q){return q===92||q===124?(e.consume(q),g):g(q)}function b(q){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(q):(e.enter("tableDelimiterRow"),l=!1,ct(q)?mt(e,E,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(q):E(q))}function E(q){return q===45||q===58?k(q):q===124?(l=!0,e.enter("tableCellDivider"),e.consume(q),e.exit("tableCellDivider"),R):C(q)}function R(q){return ct(q)?mt(e,k,"whitespace")(q):k(q)}function k(q){return q===58?(a+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(q),e.exit("tableDelimiterMarker"),w):q===45?(a+=1,w(q)):q===null||Be(q)?M(q):C(q)}function w(q){return q===45?(e.enter("tableDelimiterFiller"),T(q)):C(q)}function T(q){return q===45?(e.consume(q),T):q===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(q),e.exit("tableDelimiterMarker"),A):(e.exit("tableDelimiterFiller"),A(q))}function A(q){return ct(q)?mt(e,M,"whitespace")(q):M(q)}function M(q){return q===124?E(q):q===null||Be(q)?!l||o!==a?C(q):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(q)):C(q)}function C(q){return n(q)}function N(q){return e.enter("tableRow"),P(q)}function P(q){return q===124?(e.enter("tableCellDivider"),e.consume(q),e.exit("tableCellDivider"),P):q===null||Be(q)?(e.exit("tableRow"),t(q)):ct(q)?mt(e,P,"whitespace")(q):(e.enter("data"),L(q))}function L(q){return q===null||q===124||Ut(q)?(e.exit("data"),P(q)):(e.consume(q),q===92?j:L)}function j(q){return q===92||q===124?(e.consume(q),L):L(q)}}function H9(e,t){let n=-1,r=!0,o=0,a=[0,0,0,0],l=[0,0,0,0],c=!1,d=0,f,p,g;const v=new $9;for(;++n<e.length;){const b=e[n],E=b[1];b[0]==="enter"?E.type==="tableHead"?(c=!1,d!==0&&(Sw(v,t,d,f,p),p=void 0,d=0),f={type:"table",start:Object.assign({},E.start),end:Object.assign({},E.end)},v.add(n,0,[["enter",f,t]])):E.type==="tableRow"||E.type==="tableDelimiterRow"?(r=!0,g=void 0,a=[0,0,0,0],l=[0,n+1,0,0],c&&(c=!1,p={type:"tableBody",start:Object.assign({},E.start),end:Object.assign({},E.end)},v.add(n,0,[["enter",p,t]])),o=E.type==="tableDelimiterRow"?2:p?3:1):o&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(a[1]!==0&&(l[0]=l[1],g=Tc(v,t,a,o,void 0,g),a=[0,0,0,0]),l[2]=n)):E.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(l[0]=l[1],g=Tc(v,t,a,o,void 0,g)),a=l,l=[a[1],n,0,0])):E.type==="tableHead"?(c=!0,d=n):E.type==="tableRow"||E.type==="tableDelimiterRow"?(d=n,a[1]!==0?(l[0]=l[1],g=Tc(v,t,a,o,n,g)):l[1]!==0&&(g=Tc(v,t,l,o,n,g)),o=0):o&&(E.type==="data"||E.type==="tableDelimiterMarker"||E.type==="tableDelimiterFiller")&&(l[3]=n)}for(d!==0&&Sw(v,t,d,f,p),v.consume(t.events),n=-1;++n<t.events.length;){const b=t.events[n];b[0]==="enter"&&b[1].type==="table"&&(b[1]._align=q9(t.events,n))}return e}function Tc(e,t,n,r,o,a){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",c="tableContent";n[0]!==0&&(a.end=Object.assign({},Xs(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const d=Xs(t.events,n[1]);if(a={type:l,start:Object.assign({},d),end:Object.assign({},d)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const f=Xs(t.events,n[2]),p=Xs(t.events,n[3]),g={type:c,start:Object.assign({},f),end:Object.assign({},p)};if(e.add(n[2],0,[["enter",g,t]]),r!==2){const v=t.events[n[2]],b=t.events[n[3]];if(v[1].end=Object.assign({},b[1].end),v[1].type="chunkText",v[1].contentType="text",n[3]>n[2]+1){const E=n[2]+1,R=n[3]-n[2]-1;e.add(E,R,[])}}e.add(n[3]+1,0,[["exit",g,t]])}return o!==void 0&&(a.end=Object.assign({},Xs(t.events,o)),e.add(o,0,[["exit",a,t]]),a=void 0),a}function Sw(e,t,n,r,o){const a=[],l=Xs(t.events,n);o&&(o.end=Object.assign({},l),a.push(["exit",o,t])),r.end=Object.assign({},l),a.push(["exit",r,t]),e.add(n+1,0,a)}function Xs(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const B9={name:"tasklistCheck",tokenize:G9};function F9(){return{text:{91:B9}}}function G9(e,t,n){const r=this;return o;function o(d){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(d):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),a)}function a(d){return Ut(d)?(e.enter("taskListCheckValueUnchecked"),e.consume(d),e.exit("taskListCheckValueUnchecked"),l):d===88||d===120?(e.enter("taskListCheckValueChecked"),e.consume(d),e.exit("taskListCheckValueChecked"),l):n(d)}function l(d){return d===93?(e.enter("taskListCheckMarker"),e.consume(d),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),c):n(d)}function c(d){return Be(d)?t(d):ct(d)?e.check({tokenize:J9},t,n)(d):n(d)}}function J9(e,t,n){return mt(e,r,"whitespace");function r(o){return o===null?n(o):t(o)}}function Z9(e){return q1([_9(),N9(),U9(e),V9(),F9()])}const K9={};function Y9(e){const t=this,n=e||K9,r=t.data(),o=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);o.push(Z9(n)),a.push(m9()),l.push(g9(n))}const X9=ET.memo(({content:e})=>{const t=oe.useMemo(()=>{try{const n=e.trim();return n.startsWith("{")&&n.endsWith("}")||n.startsWith("[")&&n.endsWith("]")?JSON.parse(n):null}catch{return null}},[e]);return t?x.jsx("div",{className:"bg-slate-50 dark:bg-slate-950 rounded p-2 border border-slate-200 dark:border-slate-800",children:x.jsx(ma,{data:t})}):x.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none break-words",children:x.jsx(Uq,{remarkPlugins:[Y9],components:{pre:({node:n,...r})=>x.jsx("div",{className:"not-prose bg-slate-100 dark:bg-slate-800 rounded p-2 my-2 overflow-x-auto",children:x.jsx("pre",{...r,className:"text-xs font-mono"})}),code:({node:n,...r})=>x.jsx("code",{...r,className:"bg-slate-100 dark:bg-slate-800 px-1 py-0.5 rounded text-xs font-mono text-purple-600 dark:text-purple-400"})},children:e})})}),Q9=({baseUrl:e,activePaths:t,pathData:n,sendMessage:r,clearPathData:o,removePath:a,clearPathError:l})=>{const c=t.filter(d=>d.isConnected);return x.jsxs("div",{className:"p-6 h-full flex flex-col w-full",children:[x.jsx("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-4 mb-6",children:x.jsxs("div",{className:"shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-3",children:[x.jsx(Oi,{className:"text-purple-600 dark:text-purple-400"})," WebSocket Tester"]}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Real-time path-based monitor."})]})}),x.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-1",children:c.length===0?x.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 opacity-50",children:[x.jsx(Id,{size:48,className:"mb-4"}),x.jsx("p",{className:"text-sm italic",children:"No active connections. Enable paths from the sidebar to connect."})]}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-6 h-full",children:c.map(d=>x.jsx(W9,{path:d,baseUrl:e,data:n[d.name],removePath:a,clearPathData:o,clearPathError:l,sendMessage:r},d.id))})})]})},W9=({path:e,baseUrl:t,data:n,removePath:r,clearPathData:o,clearPathError:a,sendMessage:l})=>{const[c,d]=oe.useState(""),f=oe.useRef(null),p=["connect","disconnect","error","system"].includes(e.name),g=`${t}${e.name}`,v=()=>{var R;(R=f.current)==null||R.scrollIntoView({behavior:"smooth"})};oe.useEffect(()=>{v()},[n==null?void 0:n.history]);const b=R=>{R.preventDefault(),c.trim()&&l(e.id,c)&&d("")},E=R=>{R.key==="Enter"&&!R.shiftKey&&(R.preventDefault(),b(R))};return x.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg overflow-hidden flex flex-col h-[600px] shadow-sm hover:border-purple-200 dark:hover:border-slate-700 transition-colors",children:[x.jsxs("div",{className:`px-4 py-3 border-b shrink-0 flex items-center justify-between ${p?"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-800":"bg-slate-50/50 dark:bg-slate-950 border-slate-200 dark:border-slate-800"}`,children:[x.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[x.jsx("div",{className:`w-2 h-2 rounded-full shrink-0 ${e.isConnected?"bg-emerald-500 animate-pulse":"bg-slate-600"}`}),x.jsx("span",{className:"font-mono font-bold text-sm text-slate-700 dark:text-slate-200 truncate",title:g,children:e.name})]}),x.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[x.jsx("button",{onClick:()=>o(e.name),className:"text-[10px] text-slate-500 hover:text-purple-500 transition-colors uppercase font-bold tracking-wider px-1",children:"Clear"}),!p&&x.jsx("button",{onClick:()=>r(e.id),className:"text-slate-500 hover:text-red-400 transition-colors p-1",children:x.jsx(Jr,{size:14})})]})]}),e.error&&x.jsxs("div",{className:"px-3 py-2 bg-red-500/10 border-b border-red-500/30 text-xs text-red-400 flex items-start gap-2 shrink-0",children:[x.jsx(Nd,{size:14,className:"shrink-0 mt-0.5"}),x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{children:e.error}),x.jsx("button",{onClick:()=>a(e.id),className:"mt-1 text-red-300 hover:text-red-200 underline text-[10px]",children:"Dismiss"})]})]}),x.jsx("div",{className:"flex-1 p-4 overflow-y-auto custom-scrollbar bg-slate-50/30 dark:bg-black/20",children:!n||n.history.length===0?x.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 opacity-60",children:[x.jsx(Oi,{size:32,className:"mb-2 opacity-20"}),x.jsx("p",{className:"text-xs",children:"Waiting for messages..."})]}):x.jsxs("div",{className:"space-y-4",children:[n.history.map((R,k)=>x.jsx(e6,{message:R},R.id||k)),x.jsx("div",{ref:f})]})}),x.jsxs("div",{className:"p-3 bg-white dark:bg-slate-950 border-t border-slate-200 dark:border-slate-800 shrink-0",children:[x.jsxs("form",{onSubmit:b,className:"relative",children:[x.jsx("textarea",{value:c,onChange:R=>d(R.target.value),onKeyDown:E,className:"w-full h-12 max-h-32 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg pl-3 pr-12 py-3 text-xs font-mono text-slate-700 dark:text-slate-200 focus:outline-none focus:border-purple-500 resize-none shadow-inner",placeholder:"Type a message (Markdown supported)..."}),x.jsx("button",{type:"submit",disabled:!e.isConnected||!c.trim(),className:"absolute right-2 bottom-2 p-1.5 bg-purple-600 hover:bg-purple-500 disabled:bg-slate-300 dark:disabled:bg-slate-800 disabled:cursor-not-allowed text-white rounded-md transition-all shadow-sm",children:x.jsx($g,{size:14})})]}),x.jsxs("div",{className:"mt-1 flex justify-between px-1",children:[x.jsx("div",{className:"text-[9px] text-slate-400 flex items-center gap-1",children:x.jsx("span",{children:"Markdown & JSON supported"})}),x.jsx("div",{className:"text-[9px] text-slate-400 font-mono",children:n?`${n.count} messages`:"0 messages"})]})]})]})},e6=({message:e})=>{const t=e.type==="sent";if(e.type==="system")return x.jsx("div",{className:"flex justify-center my-2",children:x.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full ${e.isError?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400 border border-red-200 dark:border-red-900/50":"bg-slate-100 text-slate-500 dark:bg-slate-800 dark:text-slate-400 border border-slate-200 dark:border-slate-700"}`,children:e.content})});let r=e.content;if(!t)try{const o=e.content.trim();if(o.startsWith("{")&&o.endsWith("}")){const a=JSON.parse(o);a.message&&typeof a.message=="string"?r=a.message:a.msg&&typeof a.msg=="string"?r=a.msg:a.text&&typeof a.text=="string"?r=a.text:a.content&&typeof a.content=="string"&&(r=a.content)}}catch{}return x.jsxs("div",{className:`flex flex-col ${t?"items-end":"items-start"} group`,children:[x.jsxs("div",{className:"flex items-end gap-2 max-w-[85%]",children:[t&&x.jsx("div",{className:"mb-1 text-purple-500 dark:text-purple-400 opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsx(la,{size:12,strokeWidth:3})}),x.jsx("div",{className:`rounded-lg px-3 py-2 text-xs shadow-sm ${t?"bg-purple-50 dark:bg-purple-900/20 text-slate-800 dark:text-slate-200 border border-purple-100 dark:border-purple-900/30 rounded-br-none":"bg-white dark:bg-slate-800 text-slate-800 dark:text-slate-200 border border-slate-200 dark:border-slate-700 rounded-bl-none"}`,children:x.jsx(X9,{content:r})})]}),x.jsx("span",{className:"text-[9px] text-slate-400 mt-1 px-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.timestamp})]})},t6=({url:e,setUrl:t,isConnected:n,connect:r,disconnect:o,activeListeners:a,addListener:l,removeListener:c,listenerData:d,emitEvent:f,clearData:p,clearListenerData:g,error:v,setError:b})=>{const[E,R]=oe.useState("message"),[k,w]=oe.useState("{}"),T=a.filter(A=>A.isEnabled);return x.jsxs("div",{className:"p-6 h-full flex flex-col w-full",children:[x.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-4 mb-6",children:[x.jsxs("div",{className:"shrink-0",children:[x.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-3",children:[x.jsx(Id,{className:"text-blue-600 dark:text-blue-400"})," Socket.IO Tester"]}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:"Real-time listener dashboard."})]}),x.jsx("div",{className:"flex-1 flex flex-wrap gap-4 items-center justify-end"})]}),x.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 flex-1 min-h-0",children:x.jsxs("div",{className:"lg:col-span-4 flex flex-col gap-4",children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2"})}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-4 flex-1 overflow-y-auto custom-scrollbar p-1",children:T.map(A=>x.jsx(n6,{listener:A,data:d[A.name],removeListener:c,clearListenerData:g,emitEvent:f},A.id))})]})}),v&&x.jsxs("div",{className:"fixed bottom-6 right-6 bg-red-500/10 border border-red-500/50 text-red-200 px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 animate-in fade-in slide-in-from-bottom-4",children:[x.jsx(Z2,{size:20,className:"text-red-400"}),x.jsx("div",{className:"flex-1 text-sm font-medium",children:v}),x.jsx("button",{onClick:()=>b(null),className:"text-red-400 hover:text-white transition-colors",children:x.jsx(Jr,{size:16})})]})]})},n6=({listener:e,data:t,removeListener:n,clearListenerData:r,emitEvent:o})=>{const[a,l]=oe.useState("{}"),c=["connect","disconnect","error","system"].includes(e.name),d=f=>{f.preventDefault(),o(e.name,a)};return x.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg overflow-hidden flex flex-col min-h-[320px] shadow-sm hover:border-blue-200 dark:hover:border-slate-700 transition-colors",children:[x.jsxs("div",{className:`px-4 py-3 border-b flex items-center justify-between ${c?"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-800":"bg-slate-50/50 dark:bg-slate-950 border-slate-200 dark:border-slate-800"}`,children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:`w-2 h-2 rounded-full ${t?"bg-green-500 animate-pulse":"bg-slate-600"}`}),x.jsx("span",{className:"font-mono font-bold text-sm text-slate-700 dark:text-slate-200",children:e.name})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:()=>r(e.name),className:"text-[10px] text-slate-500 hover:text-blue-500 transition-colors uppercase font-bold tracking-wider px-1",children:"Clear"}),!c&&x.jsx("button",{onClick:()=>n(e.id),className:"text-slate-500 hover:text-red-400 transition-colors p-1",children:x.jsx(Jr,{size:14})})]})]}),x.jsx("div",{className:"flex-1 p-0 relative group min-h-[120px] border-b border-slate-100 dark:border-slate-800 overflow-hidden",children:t?x.jsx("div",{className:"w-full h-full p-4 overflow-y-auto custom-scrollbar",children:x.jsx(ma,{data:t.lastEvent})}):x.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-slate-600",children:[x.jsx(Oi,{size:32,className:"mb-2 opacity-20"}),x.jsx("p",{className:"text-xs",children:"Waiting for events..."})]})}),x.jsx("div",{className:"p-3 bg-slate-50/50 dark:bg-slate-950/30",children:x.jsxs("form",{onSubmit:d,className:"flex flex-col gap-2",children:[x.jsx("textarea",{value:a,onChange:f=>l(f.target.value),className:"w-full h-16 bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded p-2 text-[10px] font-mono text-slate-700 dark:text-slate-300 focus:outline-none focus:border-blue-500 resize-none",placeholder:'{"key": "value"}'}),x.jsxs("button",{type:"submit",className:"w-full py-1.5 bg-blue-600 hover:bg-blue-500 text-white rounded text-[10px] font-bold flex items-center justify-center gap-2 transition-all shadow-sm",children:[x.jsx($g,{size:10})," Send to ",e.name]})]})}),t&&x.jsxs("div",{className:"px-3 py-1.5 bg-slate-50 dark:bg-slate-950 border-t border-slate-200 dark:border-slate-800 text-[10px] text-slate-500 flex items-center gap-2 font-mono",children:[x.jsx(e2,{size:10})," Last update: ",t.timestamp]})]})},r6=Object.freeze({status:"aborted"});function pe(e,t,n){function r(c,d){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:d,constr:l,traits:new Set},enumerable:!1}),c._zod.traits.has(e))return;c._zod.traits.add(e),t(c,d);const f=l.prototype,p=Object.keys(f);for(let g=0;g<p.length;g++){const v=p[g];v in c||(c[v]=f[v].bind(c))}}const o=(n==null?void 0:n.Parent)??Object;class a extends o{}Object.defineProperty(a,"name",{value:e});function l(c){var d;const f=n!=null&&n.Parent?new a:this;r(f,c),(d=f._zod).deferred??(d.deferred=[]);for(const p of f._zod.deferred)p();return f}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:c=>{var d,f;return n!=null&&n.Parent&&c instanceof n.Parent?!0:(f=(d=c==null?void 0:c._zod)==null?void 0:d.traits)==null?void 0:f.has(e)}}),Object.defineProperty(l,"name",{value:e}),l}class ha extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Rk extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Ik={};function xo(e){return Ik}function Mk(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,o])=>t.indexOf(+r)===-1).map(([r,o])=>o)}function ag(e,t){return typeof t=="bigint"?t.toString():t}function vf(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function h0(e){return e==null}function p0(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function i6(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d!=null&&d[1]&&(o=Number.parseInt(d[1]))}const a=n>o?n:o,l=Number.parseInt(e.toFixed(a).replace(".","")),c=Number.parseInt(t.toFixed(a).replace(".",""));return l%c/10**a}const ww=Symbol("evaluating");function Et(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==ww)return r===void 0&&(r=ww,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function cs(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function To(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function Ew(e){return JSON.stringify(e)}function o6(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Pk="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Gl(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const s6=vf(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function ya(e){if(Gl(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Gl(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Dk(e){return ya(e)?{...e}:Array.isArray(e)?[...e]:e}const a6=new Set(["string","number","symbol"]);function va(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ko(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function Le(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function l6(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const u6={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function c6(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const a=To(e._zod.def,{get shape(){const l={};for(const c in t){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&(l[c]=n.shape[c])}return cs(this,"shape",l),l},checks:[]});return ko(e,a)}function d6(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const a=To(e._zod.def,{get shape(){const l={...e._zod.def.shape};for(const c in t){if(!(c in n.shape))throw new Error(`Unrecognized key: "${c}"`);t[c]&&delete l[c]}return cs(this,"shape",l),l},checks:[]});return ko(e,a)}function f6(e,t){if(!ya(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const a=e._zod.def.shape;for(const l in t)if(Object.getOwnPropertyDescriptor(a,l)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const o=To(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return cs(this,"shape",a),a}});return ko(e,o)}function h6(e,t){if(!ya(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=To(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return cs(this,"shape",r),r}});return ko(e,n)}function p6(e,t){const n=To(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return cs(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return ko(e,n)}function m6(e,t,n){const o=t._zod.def.checks;if(o&&o.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const l=To(t._zod.def,{get shape(){const c=t._zod.def.shape,d={...c};if(n)for(const f in n){if(!(f in c))throw new Error(`Unrecognized key: "${f}"`);n[f]&&(d[f]=e?new e({type:"optional",innerType:c[f]}):c[f])}else for(const f in c)d[f]=e?new e({type:"optional",innerType:c[f]}):c[f];return cs(this,"shape",d),d},checks:[]});return ko(t,l)}function g6(e,t,n){const r=To(t._zod.def,{get shape(){const o=t._zod.def.shape,a={...o};if(n)for(const l in n){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=new e({type:"nonoptional",innerType:o[l]}))}else for(const l in o)a[l]=new e({type:"nonoptional",innerType:o[l]});return cs(this,"shape",a),a}});return ko(t,r)}function ia(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function oa(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function kc(e){return typeof e=="string"?e:e==null?void 0:e.message}function So(e,t,n){var o,a,l,c,d,f;const r={...e,path:e.path??[]};if(!e.message){const p=kc((l=(a=(o=e.inst)==null?void 0:o._zod.def)==null?void 0:a.error)==null?void 0:l.call(a,e))??kc((c=t==null?void 0:t.error)==null?void 0:c.call(t,e))??kc((d=n.customError)==null?void 0:d.call(n,e))??kc((f=n.localeError)==null?void 0:f.call(n,e))??"Invalid input";r.message=p}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function m0(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Jl(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const zk=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,ag,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Ok=pe("$ZodError",zk),Uk=pe("$ZodError",zk,{Parent:Error});function y6(e,t=n=>n.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}function v6(e,t=n=>n.message){const n={_errors:[]},r=o=>{for(const a of o.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(l=>r({issues:l}));else if(a.code==="invalid_key")r({issues:a.issues});else if(a.code==="invalid_element")r({issues:a.issues});else if(a.path.length===0)n._errors.push(t(a));else{let l=n,c=0;for(;c<a.path.length;){const d=a.path[c];c===a.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(t(a))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return r(e),n}const g0=e=>(t,n,r,o)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},l=t._zod.run({value:n,issues:[]},a);if(l instanceof Promise)throw new ha;if(l.issues.length){const c=new((o==null?void 0:o.Err)??e)(l.issues.map(d=>So(d,a,xo())));throw Pk(c,o==null?void 0:o.callee),c}return l.value},y0=e=>async(t,n,r,o)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},a);if(l instanceof Promise&&(l=await l),l.issues.length){const c=new((o==null?void 0:o.Err)??e)(l.issues.map(d=>So(d,a,xo())));throw Pk(c,o==null?void 0:o.callee),c}return l.value},_f=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},o);if(a instanceof Promise)throw new ha;return a.issues.length?{success:!1,error:new(e??Ok)(a.issues.map(l=>So(l,o,xo())))}:{success:!0,data:a.value}},$k=_f(Uk),bf=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},o);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(l=>So(l,o,xo())))}:{success:!0,data:a.value}},_6=bf(Uk),b6=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return g0(e)(t,n,o)},x6=e=>(t,n,r)=>g0(e)(t,n,r),S6=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return y0(e)(t,n,o)},w6=e=>async(t,n,r)=>y0(e)(t,n,r),E6=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return _f(e)(t,n,o)},T6=e=>(t,n,r)=>_f(e)(t,n,r),k6=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return bf(e)(t,n,o)},C6=e=>async(t,n,r)=>bf(e)(t,n,r),A6=/^[cC][^\s-]{8,}$/,N6=/^[0-9a-z]+$/,R6=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,I6=/^[0-9a-vA-V]{20}$/,M6=/^[A-Za-z0-9]{27}$/,P6=/^[a-zA-Z0-9_-]{21}$/,D6=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,z6=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Tw=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,O6=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,U6="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function $6(){return new RegExp(U6,"u")}const L6=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,q6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,V6=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,j6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,H6=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Lk=/^[A-Za-z0-9_-]*$/,B6=/^\+[1-9]\d{6,14}$/,qk="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",F6=new RegExp(`^${qk}$`);function Vk(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function G6(e){return new RegExp(`^${Vk(e)}$`)}function J6(e){const t=Vk({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${qk}T(?:${r})$`)}const Z6=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},K6=/^-?\d+$/,jk=/^-?\d+(?:\.\d+)?$/,Y6=/^(?:true|false)$/i,X6=/^null$/i,Q6=/^[^A-Z]*$/,W6=/^[^a-z]*$/,ar=pe("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Hk={number:"number",bigint:"bigint",object:"date"},Bk=pe("$ZodCheckLessThan",(e,t)=>{ar.init(e,t);const n=Hk[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,a=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Fk=pe("$ZodCheckGreaterThan",(e,t)=>{ar.init(e,t);const n=Hk[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,a=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),eV=pe("$ZodCheckMultipleOf",(e,t)=>{ar.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):i6(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),tV=pe("$ZodCheckNumberFormat",(e,t)=>{var l;ar.init(e,t),t.format=t.format||"float64";const n=(l=t.format)==null?void 0:l.includes("int"),r=n?"int":"number",[o,a]=u6[t.format];e._zod.onattach.push(c=>{const d=c._zod.bag;d.format=t.format,d.minimum=o,d.maximum=a,n&&(d.pattern=K6)}),e._zod.check=c=>{const d=c.value;if(n){if(!Number.isInteger(d)){c.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:d,inst:e});return}if(!Number.isSafeInteger(d)){d>0?c.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):c.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}d<o&&c.issues.push({origin:"number",input:d,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),d>a&&c.issues.push({origin:"number",input:d,code:"too_big",maximum:a,inclusive:!0,inst:e,continue:!t.abort})}}),nV=pe("$ZodCheckMaxLength",(e,t)=>{var n;ar.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!h0(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const o=r.value;if(o.length<=t.maximum)return;const l=m0(o);r.issues.push({origin:l,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),rV=pe("$ZodCheckMinLength",(e,t)=>{var n;ar.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!h0(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const o=r.value;if(o.length>=t.minimum)return;const l=m0(o);r.issues.push({origin:l,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),iV=pe("$ZodCheckLengthEquals",(e,t)=>{var n;ar.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!h0(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=r=>{const o=r.value,a=o.length;if(a===t.length)return;const l=m0(o),c=a>t.length;r.issues.push({origin:l,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),xf=pe("$ZodCheckStringFormat",(e,t)=>{var n,r;ar.init(e,t),e._zod.onattach.push(o=>{const a=o._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),oV=pe("$ZodCheckRegex",(e,t)=>{xf.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),sV=pe("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Q6),xf.init(e,t)}),aV=pe("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=W6),xf.init(e,t)}),lV=pe("$ZodCheckIncludes",(e,t)=>{ar.init(e,t);const n=va(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(o=>{const a=o._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),uV=pe("$ZodCheckStartsWith",(e,t)=>{ar.init(e,t);const n=new RegExp(`^${va(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),cV=pe("$ZodCheckEndsWith",(e,t)=>{ar.init(e,t);const n=new RegExp(`.*${va(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),dV=pe("$ZodCheckOverwrite",(e,t)=>{ar.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class fV{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(l=>l),o=Math.min(...r.map(l=>l.length-l.trimStart().length)),a=r.map(l=>l.slice(o)).map(l=>" ".repeat(this.indent*2)+l);for(const l of a)this.content.push(l)}compile(){const t=Function,n=this==null?void 0:this.args,o=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new t(...n,o.join(`
`))}}const hV={major:4,minor:3,patch:5},Ht=pe("$ZodType",(e,t)=>{var o;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=hV;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const a of r)for(const l of a._zod.onattach)l(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(o=e._zod.deferred)==null||o.push(()=>{e._zod.run=e._zod.parse});else{const a=(c,d,f)=>{let p=ia(c),g;for(const v of d){if(v._zod.def.when){if(!v._zod.def.when(c))continue}else if(p)continue;const b=c.issues.length,E=v._zod.check(c);if(E instanceof Promise&&(f==null?void 0:f.async)===!1)throw new ha;if(g||E instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await E,c.issues.length!==b&&(p||(p=ia(c,b)))});else{if(c.issues.length===b)continue;p||(p=ia(c,b))}}return g?g.then(()=>c):c},l=(c,d,f)=>{if(ia(c))return c.aborted=!0,c;const p=a(d,r,f);if(p instanceof Promise){if(f.async===!1)throw new ha;return p.then(g=>e._zod.parse(g,f))}return e._zod.parse(p,f)};e._zod.run=(c,d)=>{if(d.skipChecks)return e._zod.parse(c,d);if(d.direction==="backward"){const p=e._zod.parse({value:c.value,issues:[]},{...d,skipChecks:!0});return p instanceof Promise?p.then(g=>l(g,c,d)):l(p,c,d)}const f=e._zod.parse(c,d);if(f instanceof Promise){if(d.async===!1)throw new ha;return f.then(p=>a(p,r,d))}return a(f,r,d)}}Et(e,"~standard",()=>({validate:a=>{var l;try{const c=$k(e,a);return c.success?{value:c.data}:{issues:(l=c.error)==null?void 0:l.issues}}catch{return _6(e,a).then(d=>{var f;return d.success?{value:d.data}:{issues:(f=d.error)==null?void 0:f.issues}})}},vendor:"zod",version:1}))}),v0=pe("$ZodString",(e,t)=>{var n;Ht.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??Z6(e._zod.bag),e._zod.parse=(r,o)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Kt=pe("$ZodStringFormat",(e,t)=>{xf.init(e,t),v0.init(e,t)}),pV=pe("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=z6),Kt.init(e,t)}),mV=pe("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Tw(r))}else t.pattern??(t.pattern=Tw());Kt.init(e,t)}),gV=pe("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=O6),Kt.init(e,t)}),yV=pe("$ZodURL",(e,t)=>{Kt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),vV=pe("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=$6()),Kt.init(e,t)}),_V=pe("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=P6),Kt.init(e,t)}),bV=pe("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=A6),Kt.init(e,t)}),xV=pe("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=N6),Kt.init(e,t)}),SV=pe("$ZodULID",(e,t)=>{t.pattern??(t.pattern=R6),Kt.init(e,t)}),wV=pe("$ZodXID",(e,t)=>{t.pattern??(t.pattern=I6),Kt.init(e,t)}),EV=pe("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=M6),Kt.init(e,t)}),TV=pe("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=J6(t)),Kt.init(e,t)}),kV=pe("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=F6),Kt.init(e,t)}),CV=pe("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=G6(t)),Kt.init(e,t)}),AV=pe("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=D6),Kt.init(e,t)}),NV=pe("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=L6),Kt.init(e,t),e._zod.bag.format="ipv4"}),RV=pe("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=q6),Kt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),IV=pe("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=V6),Kt.init(e,t)}),MV=pe("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=j6),Kt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,a]=r;if(!a)throw new Error;const l=Number(a);if(`${l}`!==a)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Gk(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const PV=pe("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=H6),Kt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Gk(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function DV(e){if(!Lk.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Gk(n)}const zV=pe("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Lk),Kt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{DV(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),OV=pe("$ZodE164",(e,t)=>{t.pattern??(t.pattern=B6),Kt.init(e,t)});function UV(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const $V=pe("$ZodJWT",(e,t)=>{Kt.init(e,t),e._zod.check=n=>{UV(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Jk=pe("$ZodNumber",(e,t)=>{Ht.init(e,t),e._zod.pattern=e._zod.bag.pattern??jk,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const a=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...a?{received:a}:{}}),n}}),LV=pe("$ZodNumberFormat",(e,t)=>{tV.init(e,t),Jk.init(e,t)}),qV=pe("$ZodBoolean",(e,t)=>{Ht.init(e,t),e._zod.pattern=Y6,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),n}}),VV=pe("$ZodNull",(e,t)=>{Ht.init(e,t),e._zod.pattern=X6,e._zod.values=new Set([null]),e._zod.parse=(n,r)=>{const o=n.value;return o===null||n.issues.push({expected:"null",code:"invalid_type",input:o,inst:e}),n}}),jV=pe("$ZodAny",(e,t)=>{Ht.init(e,t),e._zod.parse=n=>n}),HV=pe("$ZodUnknown",(e,t)=>{Ht.init(e,t),e._zod.parse=n=>n}),BV=pe("$ZodNever",(e,t)=>{Ht.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function kw(e,t,n){e.issues.length&&t.issues.push(...oa(n,e.issues)),t.value[n]=e.value}const FV=pe("$ZodArray",(e,t)=>{Ht.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const a=[];for(let l=0;l<o.length;l++){const c=o[l],d=t.element._zod.run({value:c,issues:[]},r);d instanceof Promise?a.push(d.then(f=>kw(f,n,l))):kw(d,n,l)}return a.length?Promise.all(a).then(()=>n):n}});function jd(e,t,n,r,o){if(e.issues.length){if(o&&!(n in r))return;t.issues.push(...oa(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Zk(e){var r,o,a,l;const t=Object.keys(e.shape);for(const c of t)if(!((l=(a=(o=(r=e.shape)==null?void 0:r[c])==null?void 0:o._zod)==null?void 0:a.traits)!=null&&l.has("$ZodType")))throw new Error(`Invalid element at key "${c}": expected a Zod schema`);const n=l6(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Kk(e,t,n,r,o,a){const l=[],c=o.keySet,d=o.catchall._zod,f=d.def.type,p=d.optout==="optional";for(const g in t){if(c.has(g))continue;if(f==="never"){l.push(g);continue}const v=d.run({value:t[g],issues:[]},r);v instanceof Promise?e.push(v.then(b=>jd(b,n,g,t,p))):jd(v,n,g,t,p)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:t,inst:a}),e.length?Promise.all(e).then(()=>n):n}const GV=pe("$ZodObject",(e,t)=>{Ht.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const c=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...c};return Object.defineProperty(t,"shape",{value:d}),d}})}const r=vf(()=>Zk(t));Et(e._zod,"propValues",()=>{const c=t.shape,d={};for(const f in c){const p=c[f]._zod;if(p.values){d[f]??(d[f]=new Set);for(const g of p.values)d[f].add(g)}}return d});const o=Gl,a=t.catchall;let l;e._zod.parse=(c,d)=>{l??(l=r.value);const f=c.value;if(!o(f))return c.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),c;c.value={};const p=[],g=l.shape;for(const v of l.keys){const b=g[v],E=b._zod.optout==="optional",R=b._zod.run({value:f[v],issues:[]},d);R instanceof Promise?p.push(R.then(k=>jd(k,c,v,f,E))):jd(R,c,v,f,E)}return a?Kk(p,f,c,d,r.value,e):p.length?Promise.all(p).then(()=>c):c}}),JV=pe("$ZodObjectJIT",(e,t)=>{GV.init(e,t);const n=e._zod.parse,r=vf(()=>Zk(t)),o=v=>{var A;const b=new fV(["shape","payload","ctx"]),E=r.value,R=M=>{const C=Ew(M);return`shape[${C}]._zod.run({ value: input[${C}], issues: [] }, ctx)`};b.write("const input = payload.value;");const k=Object.create(null);let w=0;for(const M of E.keys)k[M]=`key_${w++}`;b.write("const newResult = {};");for(const M of E.keys){const C=k[M],N=Ew(M),P=v[M],L=((A=P==null?void 0:P._zod)==null?void 0:A.optout)==="optional";b.write(`const ${C} = ${R(M)};`),L?b.write(`
        if (${C}.issues.length) {
          if (${N} in input) {
            payload.issues = payload.issues.concat(${C}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${N}, ...iss.path] : [${N}]
            })));
          }
        }
        
        if (${C}.value === undefined) {
          if (${N} in input) {
            newResult[${N}] = undefined;
          }
        } else {
          newResult[${N}] = ${C}.value;
        }
        
      `):b.write(`
        if (${C}.issues.length) {
          payload.issues = payload.issues.concat(${C}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${N}, ...iss.path] : [${N}]
          })));
        }
        
        if (${C}.value === undefined) {
          if (${N} in input) {
            newResult[${N}] = undefined;
          }
        } else {
          newResult[${N}] = ${C}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const T=b.compile();return(M,C)=>T(v,M,C)};let a;const l=Gl,c=!Ik.jitless,f=c&&s6.value,p=t.catchall;let g;e._zod.parse=(v,b)=>{g??(g=r.value);const E=v.value;return l(E)?c&&f&&(b==null?void 0:b.async)===!1&&b.jitless!==!0?(a||(a=o(t.shape)),v=a(v,b),p?Kk([],E,v,b,g,e):v):n(v,b):(v.issues.push({expected:"object",code:"invalid_type",input:E,inst:e}),v)}});function Cw(e,t,n,r){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const o=e.filter(a=>!ia(a));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(l=>So(l,r,xo())))}),t)}const Yk=pe("$ZodUnion",(e,t)=>{Ht.init(e,t),Et(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Et(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Et(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),Et(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${o.map(a=>p0(a.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,a)=>{if(n)return r(o,a);let l=!1;const c=[];for(const d of t.options){const f=d._zod.run({value:o.value,issues:[]},a);if(f instanceof Promise)c.push(f),l=!0;else{if(f.issues.length===0)return f;c.push(f)}}return l?Promise.all(c).then(d=>Cw(d,o,e,a)):Cw(c,o,e,a)}}),ZV=pe("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,Yk.init(e,t);const n=e._zod.parse;Et(e._zod,"propValues",()=>{const o={};for(const a of t.options){const l=a._zod.propValues;if(!l||Object.keys(l).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(a)}"`);for(const[c,d]of Object.entries(l)){o[c]||(o[c]=new Set);for(const f of d)o[c].add(f)}}return o});const r=vf(()=>{var l;const o=t.options,a=new Map;for(const c of o){const d=(l=c._zod.propValues)==null?void 0:l[t.discriminator];if(!d||d.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(c)}"`);for(const f of d){if(a.has(f))throw new Error(`Duplicate discriminator value "${String(f)}"`);a.set(f,c)}}return a});e._zod.parse=(o,a)=>{const l=o.value;if(!Gl(l))return o.issues.push({code:"invalid_type",expected:"object",input:l,inst:e}),o;const c=r.value.get(l==null?void 0:l[t.discriminator]);return c?c._zod.run(o,a):t.unionFallback?n(o,a):(o.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:l,path:[t.discriminator],inst:e}),o)}}),KV=pe("$ZodIntersection",(e,t)=>{Ht.init(e,t),e._zod.parse=(n,r)=>{const o=n.value,a=t.left._zod.run({value:o,issues:[]},r),l=t.right._zod.run({value:o,issues:[]},r);return a instanceof Promise||l instanceof Promise?Promise.all([a,l]).then(([d,f])=>Aw(n,d,f)):Aw(n,a,l)}});function lg(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ya(e)&&ya(t)){const n=Object.keys(t),r=Object.keys(e).filter(a=>n.indexOf(a)!==-1),o={...e,...t};for(const a of r){const l=lg(e[a],t[a]);if(!l.valid)return{valid:!1,mergeErrorPath:[a,...l.mergeErrorPath]};o[a]=l.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=e[r],a=t[r],l=lg(o,a);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Aw(e,t,n){const r=new Map;let o;for(const c of t.issues)if(c.code==="unrecognized_keys"){o??(o=c);for(const d of c.keys)r.has(d)||r.set(d,{}),r.get(d).l=!0}else e.issues.push(c);for(const c of n.issues)if(c.code==="unrecognized_keys")for(const d of c.keys)r.has(d)||r.set(d,{}),r.get(d).r=!0;else e.issues.push(c);const a=[...r].filter(([,c])=>c.l&&c.r).map(([c])=>c);if(a.length&&o&&e.issues.push({...o,keys:a}),ia(e))return e;const l=lg(t.value,n.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const YV=pe("$ZodRecord",(e,t)=>{Ht.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!ya(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),n;const a=[],l=t.keyType._zod.values;if(l){n.value={};const c=new Set;for(const f of l)if(typeof f=="string"||typeof f=="number"||typeof f=="symbol"){c.add(typeof f=="number"?f.toString():f);const p=t.valueType._zod.run({value:o[f],issues:[]},r);p instanceof Promise?a.push(p.then(g=>{g.issues.length&&n.issues.push(...oa(f,g.issues)),n.value[f]=g.value})):(p.issues.length&&n.issues.push(...oa(f,p.issues)),n.value[f]=p.value)}let d;for(const f in o)c.has(f)||(d=d??[],d.push(f));d&&d.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:d})}else{n.value={};for(const c of Reflect.ownKeys(o)){if(c==="__proto__")continue;let d=t.keyType._zod.run({value:c,issues:[]},r);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof c=="string"&&jk.test(c)&&d.issues.length&&d.issues.some(g=>g.code==="invalid_type"&&g.expected==="number")){const g=t.keyType._zod.run({value:Number(c),issues:[]},r);if(g instanceof Promise)throw new Error("Async schemas not supported in object keys currently");g.issues.length===0&&(d=g)}if(d.issues.length){t.mode==="loose"?n.value[c]=o[c]:n.issues.push({code:"invalid_key",origin:"record",issues:d.issues.map(g=>So(g,r,xo())),input:c,path:[c],inst:e});continue}const p=t.valueType._zod.run({value:o[c],issues:[]},r);p instanceof Promise?a.push(p.then(g=>{g.issues.length&&n.issues.push(...oa(c,g.issues)),n.value[d.value]=g.value})):(p.issues.length&&n.issues.push(...oa(c,p.issues)),n.value[d.value]=p.value)}}return a.length?Promise.all(a).then(()=>n):n}}),XV=pe("$ZodEnum",(e,t)=>{Ht.init(e,t);const n=Mk(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(o=>a6.has(typeof o)).map(o=>typeof o=="string"?va(o):o.toString()).join("|")})$`),e._zod.parse=(o,a)=>{const l=o.value;return r.has(l)||o.issues.push({code:"invalid_value",values:n,input:l,inst:e}),o}}),QV=pe("$ZodLiteral",(e,t)=>{if(Ht.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?va(r):r?va(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,o)=>{const a=r.value;return n.has(a)||r.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),r}}),WV=pe("$ZodTransform",(e,t)=>{Ht.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Rk(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(l=>(n.value=l,n));if(o instanceof Promise)throw new ha;return n.value=o,n}});function Nw(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Xk=pe("$ZodOptional",(e,t)=>{Ht.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Et(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Et(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${p0(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(a=>Nw(a,n.value)):Nw(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),ej=pe("$ZodExactOptional",(e,t)=>{Xk.init(e,t),Et(e._zod,"values",()=>t.innerType._zod.values),Et(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),tj=pe("$ZodNullable",(e,t)=>{Ht.init(e,t),Et(e._zod,"optin",()=>t.innerType._zod.optin),Et(e._zod,"optout",()=>t.innerType._zod.optout),Et(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${p0(n.source)}|null)$`):void 0}),Et(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),nj=pe("$ZodDefault",(e,t)=>{Ht.init(e,t),e._zod.optin="optional",Et(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(a=>Rw(a,t)):Rw(o,t)}});function Rw(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const rj=pe("$ZodPrefault",(e,t)=>{Ht.init(e,t),e._zod.optin="optional",Et(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),ij=pe("$ZodNonOptional",(e,t)=>{Ht.init(e,t),Et(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(a=>Iw(a,e)):Iw(o,e)}});function Iw(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const oj=pe("$ZodCatch",(e,t)=>{Ht.init(e,t),Et(e._zod,"optin",()=>t.innerType._zod.optin),Et(e._zod,"optout",()=>t.innerType._zod.optout),Et(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(a=>(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(l=>So(l,r,xo()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(a=>So(a,r,xo()))},input:n.value}),n.issues=[]),n)}}),sj=pe("$ZodPipe",(e,t)=>{Ht.init(e,t),Et(e._zod,"values",()=>t.in._zod.values),Et(e._zod,"optin",()=>t.in._zod.optin),Et(e._zod,"optout",()=>t.out._zod.optout),Et(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const a=t.out._zod.run(n,r);return a instanceof Promise?a.then(l=>Cc(l,t.in,r)):Cc(a,t.in,r)}const o=t.in._zod.run(n,r);return o instanceof Promise?o.then(a=>Cc(a,t.out,r)):Cc(o,t.out,r)}});function Cc(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const aj=pe("$ZodReadonly",(e,t)=>{Ht.init(e,t),Et(e._zod,"propValues",()=>t.innerType._zod.propValues),Et(e._zod,"values",()=>t.innerType._zod.values),Et(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),Et(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(Mw):Mw(o)}});function Mw(e){return e.value=Object.freeze(e.value),e}const lj=pe("$ZodCustom",(e,t)=>{ar.init(e,t),Ht.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(a=>Pw(a,n,r,e));Pw(o,n,r,e)}});function Pw(e,t,n,r){if(!e){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),t.issues.push(Jl(o))}}var Dw;class uj{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function cj(){return new uj}(Dw=globalThis).__zod_globalRegistry??(Dw.__zod_globalRegistry=cj());const Il=globalThis.__zod_globalRegistry;function dj(e,t){return new e({type:"string",...Le(t)})}function fj(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Le(t)})}function zw(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Le(t)})}function hj(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Le(t)})}function pj(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Le(t)})}function mj(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Le(t)})}function gj(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Le(t)})}function Qk(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Le(t)})}function yj(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Le(t)})}function vj(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Le(t)})}function _j(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Le(t)})}function bj(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Le(t)})}function xj(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Le(t)})}function Sj(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Le(t)})}function wj(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Le(t)})}function Ej(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Le(t)})}function Tj(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Le(t)})}function kj(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Le(t)})}function Cj(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Le(t)})}function Aj(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Le(t)})}function Nj(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Le(t)})}function Rj(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Le(t)})}function Ij(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Le(t)})}function Mj(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Le(t)})}function Pj(e,t){return new e({type:"string",format:"date",check:"string_format",...Le(t)})}function Dj(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Le(t)})}function zj(e,t){return new e({type:"string",format:"duration",check:"string_format",...Le(t)})}function Oj(e,t){return new e({type:"number",checks:[],...Le(t)})}function Uj(e,t){return new e({type:"number",coerce:!0,checks:[],...Le(t)})}function $j(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Le(t)})}function Lj(e,t){return new e({type:"boolean",...Le(t)})}function qj(e,t){return new e({type:"null",...Le(t)})}function Vj(e){return new e({type:"any"})}function jj(e){return new e({type:"unknown"})}function Hj(e,t){return new e({type:"never",...Le(t)})}function Ow(e,t){return new Bk({check:"less_than",...Le(t),value:e,inclusive:!1})}function fm(e,t){return new Bk({check:"less_than",...Le(t),value:e,inclusive:!0})}function Uw(e,t){return new Fk({check:"greater_than",...Le(t),value:e,inclusive:!1})}function hm(e,t){return new Fk({check:"greater_than",...Le(t),value:e,inclusive:!0})}function $w(e,t){return new eV({check:"multiple_of",...Le(t),value:e})}function Wk(e,t){return new nV({check:"max_length",...Le(t),maximum:e})}function Hd(e,t){return new rV({check:"min_length",...Le(t),minimum:e})}function eC(e,t){return new iV({check:"length_equals",...Le(t),length:e})}function Bj(e,t){return new oV({check:"string_format",format:"regex",...Le(t),pattern:e})}function Fj(e){return new sV({check:"string_format",format:"lowercase",...Le(e)})}function Gj(e){return new aV({check:"string_format",format:"uppercase",...Le(e)})}function Jj(e,t){return new lV({check:"string_format",format:"includes",...Le(t),includes:e})}function Zj(e,t){return new uV({check:"string_format",format:"starts_with",...Le(t),prefix:e})}function Kj(e,t){return new cV({check:"string_format",format:"ends_with",...Le(t),suffix:e})}function ka(e){return new dV({check:"overwrite",tx:e})}function Yj(e){return ka(t=>t.normalize(e))}function Xj(){return ka(e=>e.trim())}function Qj(){return ka(e=>e.toLowerCase())}function Wj(){return ka(e=>e.toUpperCase())}function eH(){return ka(e=>o6(e))}function tH(e,t,n){return new e({type:"array",element:t,...Le(n)})}function nH(e,t,n){const r=Le(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}function rH(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Le(n)})}function iH(e){const t=oH(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Jl(r,n.value,t._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(Jl(o))}},e(n.value,n)));return t}function oH(e,t){const n=new ar({check:"custom",...Le(t)});return n._zod.check=e,n}function tC(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??Il,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function pn(e,t,n={path:[],schemaPath:[]}){var p,g;var r;const o=e._zod.def,a=t.seen.get(e);if(a)return a.count++,n.schemaPath.includes(e)&&(a.cycle=n.path),a.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,l);const c=(g=(p=e._zod).toJSONSchema)==null?void 0:g.call(p);if(c)l.schema=c;else{const v={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,v);else{const E=l.schema,R=t.processors[o.type];if(!R)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);R(e,t,E,v)}const b=e._zod.parent;b&&(l.ref||(l.ref=b),pn(b,t,v),t.seen.get(b).isParent=!0)}const d=t.metadataRegistry.get(e);return d&&Object.assign(l.schema,d),t.io==="input"&&Gn(e)&&(delete l.schema.examples,delete l.schema.default),t.io==="input"&&l.schema._prefault&&((r=l.schema).default??(r.default=l.schema._prefault)),delete l.schema._prefault,t.seen.get(e).schema}function nC(e,t){var l,c,d,f;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const p of e.seen.entries()){const g=(l=e.metadataRegistry.get(p[0]))==null?void 0:l.id;if(g){const v=r.get(g);if(v&&v!==p[0])throw new Error(`Duplicate schema id "${g}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(g,p[0])}}const o=p=>{var R;const g=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const k=(R=e.external.registry.get(p[0]))==null?void 0:R.id,w=e.external.uri??(A=>A);if(k)return{ref:w(k)};const T=p[1].defId??p[1].schema.id??`schema${e.counter++}`;return p[1].defId=T,{defId:T,ref:`${w("__shared")}#/${g}/${T}`}}if(p[1]===n)return{ref:"#"};const b=`#/${g}/`,E=p[1].schema.id??`__schema${e.counter++}`;return{defId:E,ref:b+E}},a=p=>{if(p[1].schema.$ref)return;const g=p[1],{ref:v,defId:b}=o(p);g.def={...g.schema},b&&(g.defId=b);const E=g.schema;for(const R in E)delete E[R];E.$ref=v};if(e.cycles==="throw")for(const p of e.seen.entries()){const g=p[1];if(g.cycle)throw new Error(`Cycle detected: #/${(c=g.cycle)==null?void 0:c.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const p of e.seen.entries()){const g=p[1];if(t===p[0]){a(p);continue}if(e.external){const b=(d=e.external.registry.get(p[0]))==null?void 0:d.id;if(t!==p[0]&&b){a(p);continue}}if((f=e.metadataRegistry.get(p[0]))==null?void 0:f.id){a(p);continue}if(g.cycle){a(p);continue}if(g.count>1&&e.reused==="ref"){a(p);continue}}}function rC(e,t){var l,c,d;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=f=>{const p=e.seen.get(f);if(p.ref===null)return;const g=p.def??p.schema,v={...g},b=p.ref;if(p.ref=null,b){r(b);const R=e.seen.get(b),k=R.schema;if(k.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(g.allOf=g.allOf??[],g.allOf.push(k)):Object.assign(g,k),Object.assign(g,v),f._zod.parent===b)for(const T in g)T==="$ref"||T==="allOf"||T in v||delete g[T];if(k.$ref)for(const T in g)T==="$ref"||T==="allOf"||T in R.def&&JSON.stringify(g[T])===JSON.stringify(R.def[T])&&delete g[T]}const E=f._zod.parent;if(E&&E!==b){r(E);const R=e.seen.get(E);if(R!=null&&R.schema.$ref&&(g.$ref=R.schema.$ref,R.def))for(const k in g)k==="$ref"||k==="allOf"||k in R.def&&JSON.stringify(g[k])===JSON.stringify(R.def[k])&&delete g[k]}e.override({zodSchema:f,jsonSchema:g,path:p.path??[]})};for(const f of[...e.seen.entries()].reverse())r(f[0]);const o={};if(e.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":e.target,(l=e.external)!=null&&l.uri){const f=(c=e.external.registry.get(t))==null?void 0:c.id;if(!f)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(f)}Object.assign(o,n.def??n.schema);const a=((d=e.external)==null?void 0:d.defs)??{};for(const f of e.seen.entries()){const p=f[1];p.def&&p.defId&&(a[p.defId]=p.def)}e.external||Object.keys(a).length>0&&(e.target==="draft-2020-12"?o.$defs=a:o.definitions=a);try{const f=JSON.parse(JSON.stringify(o));return Object.defineProperty(f,"~standard",{value:{...t["~standard"],jsonSchema:{input:Bd(t,"input",e.processors),output:Bd(t,"output",e.processors)}},enumerable:!1,writable:!1}),f}catch{throw new Error("Error converting schema to JSON.")}}function Gn(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Gn(r.element,n);if(r.type==="set")return Gn(r.valueType,n);if(r.type==="lazy")return Gn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Gn(r.innerType,n);if(r.type==="intersection")return Gn(r.left,n)||Gn(r.right,n);if(r.type==="record"||r.type==="map")return Gn(r.keyType,n)||Gn(r.valueType,n);if(r.type==="pipe")return Gn(r.in,n)||Gn(r.out,n);if(r.type==="object"){for(const o in r.shape)if(Gn(r.shape[o],n))return!0;return!1}if(r.type==="union"){for(const o of r.options)if(Gn(o,n))return!0;return!1}if(r.type==="tuple"){for(const o of r.items)if(Gn(o,n))return!0;return!!(r.rest&&Gn(r.rest,n))}return!1}const sH=(e,t={})=>n=>{const r=tC({...n,processors:t});return pn(e,r),nC(r,e),rC(r,e)},Bd=(e,t,n={})=>r=>{const{libraryOptions:o,target:a}=r??{},l=tC({...o??{},target:a,io:t,processors:n});return pn(e,l),nC(l,e),rC(l,e)},aH={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},lH=(e,t,n,r)=>{const o=n;o.type="string";const{minimum:a,maximum:l,format:c,patterns:d,contentEncoding:f}=e._zod.bag;if(typeof a=="number"&&(o.minLength=a),typeof l=="number"&&(o.maxLength=l),c&&(o.format=aH[c]??c,o.format===""&&delete o.format,c==="time"&&delete o.format),f&&(o.contentEncoding=f),d&&d.size>0){const p=[...d];p.length===1?o.pattern=p[0].source:p.length>1&&(o.allOf=[...p.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},uH=(e,t,n,r)=>{const o=n,{minimum:a,maximum:l,format:c,multipleOf:d,exclusiveMaximum:f,exclusiveMinimum:p}=e._zod.bag;typeof c=="string"&&c.includes("int")?o.type="integer":o.type="number",typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.minimum=p,o.exclusiveMinimum=!0):o.exclusiveMinimum=p),typeof a=="number"&&(o.minimum=a,typeof p=="number"&&t.target!=="draft-04"&&(p>=a?delete o.minimum:delete o.exclusiveMinimum)),typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.maximum=f,o.exclusiveMaximum=!0):o.exclusiveMaximum=f),typeof l=="number"&&(o.maximum=l,typeof f=="number"&&t.target!=="draft-04"&&(f<=l?delete o.maximum:delete o.exclusiveMaximum)),typeof d=="number"&&(o.multipleOf=d)},cH=(e,t,n,r)=>{n.type="boolean"},dH=(e,t,n,r)=>{t.target==="openapi-3.0"?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"},fH=(e,t,n,r)=>{n.not={}},hH=(e,t,n,r)=>{},pH=(e,t,n,r)=>{},mH=(e,t,n,r)=>{const o=e._zod.def,a=Mk(o.entries);a.every(l=>typeof l=="number")&&(n.type="number"),a.every(l=>typeof l=="string")&&(n.type="string"),n.enum=a},gH=(e,t,n,r)=>{const o=e._zod.def,a=[];for(const l of o.values)if(l===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof l=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");a.push(Number(l))}else a.push(l);if(a.length!==0)if(a.length===1){const l=a[0];n.type=l===null?"null":typeof l,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[l]:n.const=l}else a.every(l=>typeof l=="number")&&(n.type="number"),a.every(l=>typeof l=="string")&&(n.type="string"),a.every(l=>typeof l=="boolean")&&(n.type="boolean"),a.every(l=>l===null)&&(n.type="null"),n.enum=a},yH=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},vH=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},_H=(e,t,n,r)=>{const o=n,a=e._zod.def,{minimum:l,maximum:c}=e._zod.bag;typeof l=="number"&&(o.minItems=l),typeof c=="number"&&(o.maxItems=c),o.type="array",o.items=pn(a.element,t,{...r,path:[...r.path,"items"]})},bH=(e,t,n,r)=>{var f;const o=n,a=e._zod.def;o.type="object",o.properties={};const l=a.shape;for(const p in l)o.properties[p]=pn(l[p],t,{...r,path:[...r.path,"properties",p]});const c=new Set(Object.keys(l)),d=new Set([...c].filter(p=>{const g=a.shape[p]._zod;return t.io==="input"?g.optin===void 0:g.optout===void 0}));d.size>0&&(o.required=Array.from(d)),((f=a.catchall)==null?void 0:f._zod.def.type)==="never"?o.additionalProperties=!1:a.catchall?a.catchall&&(o.additionalProperties=pn(a.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(o.additionalProperties=!1)},xH=(e,t,n,r)=>{const o=e._zod.def,a=o.inclusive===!1,l=o.options.map((c,d)=>pn(c,t,{...r,path:[...r.path,a?"oneOf":"anyOf",d]}));a?n.oneOf=l:n.anyOf=l},SH=(e,t,n,r)=>{const o=e._zod.def,a=pn(o.left,t,{...r,path:[...r.path,"allOf",0]}),l=pn(o.right,t,{...r,path:[...r.path,"allOf",1]}),c=f=>"allOf"in f&&Object.keys(f).length===1,d=[...c(a)?a.allOf:[a],...c(l)?l.allOf:[l]];n.allOf=d},wH=(e,t,n,r)=>{const o=n,a=e._zod.def;o.type="object";const l=a.keyType,c=l._zod.bag,d=c==null?void 0:c.patterns;if(a.mode==="loose"&&d&&d.size>0){const p=pn(a.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});o.patternProperties={};for(const g of d)o.patternProperties[g.source]=p}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(o.propertyNames=pn(a.keyType,t,{...r,path:[...r.path,"propertyNames"]})),o.additionalProperties=pn(a.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const f=l._zod.values;if(f){const p=[...f].filter(g=>typeof g=="string"||typeof g=="number");p.length>0&&(o.required=p)}},EH=(e,t,n,r)=>{const o=e._zod.def,a=pn(o.innerType,t,r),l=t.seen.get(e);t.target==="openapi-3.0"?(l.ref=o.innerType,n.nullable=!0):n.anyOf=[a,{type:"null"}]},TH=(e,t,n,r)=>{const o=e._zod.def;pn(o.innerType,t,r);const a=t.seen.get(e);a.ref=o.innerType},kH=(e,t,n,r)=>{const o=e._zod.def;pn(o.innerType,t,r);const a=t.seen.get(e);a.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))},CH=(e,t,n,r)=>{const o=e._zod.def;pn(o.innerType,t,r);const a=t.seen.get(e);a.ref=o.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},AH=(e,t,n,r)=>{const o=e._zod.def;pn(o.innerType,t,r);const a=t.seen.get(e);a.ref=o.innerType;let l;try{l=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},NH=(e,t,n,r)=>{const o=e._zod.def,a=t.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;pn(a,t,r);const l=t.seen.get(e);l.ref=a},RH=(e,t,n,r)=>{const o=e._zod.def;pn(o.innerType,t,r);const a=t.seen.get(e);a.ref=o.innerType,n.readOnly=!0},iC=(e,t,n,r)=>{const o=e._zod.def;pn(o.innerType,t,r);const a=t.seen.get(e);a.ref=o.innerType};function Sf(e){return!!e._zod}function go(e,t){return Sf(e)?$k(e,t):e.safeParse(t)}function oC(e){var n,r;if(!e)return;let t;if(Sf(e)?t=(r=(n=e._zod)==null?void 0:n.def)==null?void 0:r.shape:t=e.shape,!!t){if(typeof t=="function")try{return t()}catch{return}return t}}function IH(e){var o;if(Sf(e)){const l=(o=e._zod)==null?void 0:o.def;if(l){if(l.value!==void 0)return l.value;if(Array.isArray(l.values)&&l.values.length>0)return l.values[0]}}const n=e._def;if(n){if(n.value!==void 0)return n.value;if(Array.isArray(n.values)&&n.values.length>0)return n.values[0]}const r=e.value;if(r!==void 0)return r}const MH=pe("ZodISODateTime",(e,t)=>{TV.init(e,t),Qt.init(e,t)});function sC(e){return Mj(MH,e)}const PH=pe("ZodISODate",(e,t)=>{kV.init(e,t),Qt.init(e,t)});function DH(e){return Pj(PH,e)}const zH=pe("ZodISOTime",(e,t)=>{CV.init(e,t),Qt.init(e,t)});function OH(e){return Dj(zH,e)}const UH=pe("ZodISODuration",(e,t)=>{AV.init(e,t),Qt.init(e,t)});function $H(e){return zj(UH,e)}const LH=(e,t)=>{Ok.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>v6(e,n)},flatten:{value:n=>y6(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,ag,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,ag,2)}},isEmpty:{get(){return e.issues.length===0}}})},Or=pe("ZodError",LH,{Parent:Error}),qH=g0(Or),VH=y0(Or),jH=_f(Or),HH=bf(Or),BH=b6(Or),FH=x6(Or),GH=S6(Or),JH=w6(Or),ZH=E6(Or),KH=T6(Or),YH=k6(Or),XH=C6(Or),Bt=pe("ZodType",(e,t)=>(Ht.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Bd(e,"input"),output:Bd(e,"output")}}),e.toJSONSchema=sH(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(To(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>ko(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>qH(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>jH(e,n,r),e.parseAsync=async(n,r)=>VH(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>HH(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>BH(e,n,r),e.decode=(n,r)=>FH(e,n,r),e.encodeAsync=async(n,r)=>GH(e,n,r),e.decodeAsync=async(n,r)=>JH(e,n,r),e.safeEncode=(n,r)=>ZH(e,n,r),e.safeDecode=(n,r)=>KH(e,n,r),e.safeEncodeAsync=async(n,r)=>YH(e,n,r),e.safeDecodeAsync=async(n,r)=>XH(e,n,r),e.refine=(n,r)=>e.check(BB(n,r)),e.superRefine=n=>e.check(FB(n)),e.overwrite=n=>e.check(ka(n)),e.optional=()=>tn(e),e.exactOptional=()=>IB(e),e.nullable=()=>Vw(e),e.nullish=()=>tn(Vw(e)),e.nonoptional=n=>UB(e,n),e.array=()=>Ne(e),e.or=n=>Ft([e,n]),e.and=n=>b0(e,n),e.transform=n=>cg(e,hC(n)),e.default=n=>DB(e,n),e.prefault=n=>OB(e,n),e.catch=n=>LB(e,n),e.pipe=n=>cg(e,n),e.readonly=()=>jB(e),e.describe=n=>{const r=e.clone();return Il.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Il.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Il.get(e);const r=e.clone();return Il.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),aC=pe("_ZodString",(e,t)=>{v0.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(r,o,a)=>lH(e,r,o);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(Bj(...r)),e.includes=(...r)=>e.check(Jj(...r)),e.startsWith=(...r)=>e.check(Zj(...r)),e.endsWith=(...r)=>e.check(Kj(...r)),e.min=(...r)=>e.check(Hd(...r)),e.max=(...r)=>e.check(Wk(...r)),e.length=(...r)=>e.check(eC(...r)),e.nonempty=(...r)=>e.check(Hd(1,...r)),e.lowercase=r=>e.check(Fj(r)),e.uppercase=r=>e.check(Gj(r)),e.trim=()=>e.check(Xj()),e.normalize=(...r)=>e.check(Yj(...r)),e.toLowerCase=()=>e.check(Qj()),e.toUpperCase=()=>e.check(Wj()),e.slugify=()=>e.check(eH())}),QH=pe("ZodString",(e,t)=>{v0.init(e,t),aC.init(e,t),e.email=n=>e.check(fj(WH,n)),e.url=n=>e.check(Qk(lC,n)),e.jwt=n=>e.check(Ij(mB,n)),e.emoji=n=>e.check(yj(tB,n)),e.guid=n=>e.check(zw(Lw,n)),e.uuid=n=>e.check(hj(Ac,n)),e.uuidv4=n=>e.check(pj(Ac,n)),e.uuidv6=n=>e.check(mj(Ac,n)),e.uuidv7=n=>e.check(gj(Ac,n)),e.nanoid=n=>e.check(vj(nB,n)),e.guid=n=>e.check(zw(Lw,n)),e.cuid=n=>e.check(_j(rB,n)),e.cuid2=n=>e.check(bj(iB,n)),e.ulid=n=>e.check(xj(oB,n)),e.base64=n=>e.check(Aj(fB,n)),e.base64url=n=>e.check(Nj(hB,n)),e.xid=n=>e.check(Sj(sB,n)),e.ksuid=n=>e.check(wj(aB,n)),e.ipv4=n=>e.check(Ej(lB,n)),e.ipv6=n=>e.check(Tj(uB,n)),e.cidrv4=n=>e.check(kj(cB,n)),e.cidrv6=n=>e.check(Cj(dB,n)),e.e164=n=>e.check(Rj(pB,n)),e.datetime=n=>e.check(sC(n)),e.date=n=>e.check(DH(n)),e.time=n=>e.check(OH(n)),e.duration=n=>e.check($H(n))});function J(e){return dj(QH,e)}const Qt=pe("ZodStringFormat",(e,t)=>{Kt.init(e,t),aC.init(e,t)}),WH=pe("ZodEmail",(e,t)=>{gV.init(e,t),Qt.init(e,t)}),Lw=pe("ZodGUID",(e,t)=>{pV.init(e,t),Qt.init(e,t)}),Ac=pe("ZodUUID",(e,t)=>{mV.init(e,t),Qt.init(e,t)}),lC=pe("ZodURL",(e,t)=>{yV.init(e,t),Qt.init(e,t)});function eB(e){return Qk(lC,e)}const tB=pe("ZodEmoji",(e,t)=>{vV.init(e,t),Qt.init(e,t)}),nB=pe("ZodNanoID",(e,t)=>{_V.init(e,t),Qt.init(e,t)}),rB=pe("ZodCUID",(e,t)=>{bV.init(e,t),Qt.init(e,t)}),iB=pe("ZodCUID2",(e,t)=>{xV.init(e,t),Qt.init(e,t)}),oB=pe("ZodULID",(e,t)=>{SV.init(e,t),Qt.init(e,t)}),sB=pe("ZodXID",(e,t)=>{wV.init(e,t),Qt.init(e,t)}),aB=pe("ZodKSUID",(e,t)=>{EV.init(e,t),Qt.init(e,t)}),lB=pe("ZodIPv4",(e,t)=>{NV.init(e,t),Qt.init(e,t)}),uB=pe("ZodIPv6",(e,t)=>{RV.init(e,t),Qt.init(e,t)}),cB=pe("ZodCIDRv4",(e,t)=>{IV.init(e,t),Qt.init(e,t)}),dB=pe("ZodCIDRv6",(e,t)=>{MV.init(e,t),Qt.init(e,t)}),fB=pe("ZodBase64",(e,t)=>{PV.init(e,t),Qt.init(e,t)}),hB=pe("ZodBase64URL",(e,t)=>{zV.init(e,t),Qt.init(e,t)}),pB=pe("ZodE164",(e,t)=>{OV.init(e,t),Qt.init(e,t)}),mB=pe("ZodJWT",(e,t)=>{$V.init(e,t),Qt.init(e,t)}),_0=pe("ZodNumber",(e,t)=>{Jk.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(r,o,a)=>uH(e,r,o),e.gt=(r,o)=>e.check(Uw(r,o)),e.gte=(r,o)=>e.check(hm(r,o)),e.min=(r,o)=>e.check(hm(r,o)),e.lt=(r,o)=>e.check(Ow(r,o)),e.lte=(r,o)=>e.check(fm(r,o)),e.max=(r,o)=>e.check(fm(r,o)),e.int=r=>e.check(qw(r)),e.safe=r=>e.check(qw(r)),e.positive=r=>e.check(Uw(0,r)),e.nonnegative=r=>e.check(hm(0,r)),e.negative=r=>e.check(Ow(0,r)),e.nonpositive=r=>e.check(fm(0,r)),e.multipleOf=(r,o)=>e.check($w(r,o)),e.step=(r,o)=>e.check($w(r,o)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Tt(e){return Oj(_0,e)}const gB=pe("ZodNumberFormat",(e,t)=>{LV.init(e,t),_0.init(e,t)});function qw(e){return $j(gB,e)}const yB=pe("ZodBoolean",(e,t)=>{qV.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>cH(e,n,r)});function jt(e){return Lj(yB,e)}const vB=pe("ZodNull",(e,t)=>{VV.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>dH(e,n,r)});function uC(e){return qj(vB,e)}const _B=pe("ZodAny",(e,t)=>{jV.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>hH()});function bB(){return Vj(_B)}const xB=pe("ZodUnknown",(e,t)=>{HV.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>pH()});function Yt(){return jj(xB)}const SB=pe("ZodNever",(e,t)=>{BV.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>fH(e,n,r)});function wB(e){return Hj(SB,e)}const EB=pe("ZodArray",(e,t)=>{FV.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>_H(e,n,r,o),e.element=t.element,e.min=(n,r)=>e.check(Hd(n,r)),e.nonempty=n=>e.check(Hd(1,n)),e.max=(n,r)=>e.check(Wk(n,r)),e.length=(n,r)=>e.check(eC(n,r)),e.unwrap=()=>e.element});function Ne(e,t){return tH(EB,e,t)}const cC=pe("ZodObject",(e,t)=>{JV.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>bH(e,n,r,o),Et(e,"shape",()=>t.shape),e.keyof=()=>br(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Yt()}),e.loose=()=>e.clone({...e._zod.def,catchall:Yt()}),e.strict=()=>e.clone({...e._zod.def,catchall:wB()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>f6(e,n),e.safeExtend=n=>h6(e,n),e.merge=n=>p6(e,n),e.pick=n=>c6(e,n),e.omit=n=>d6(e,n),e.partial=(...n)=>m6(pC,e,n[0]),e.required=(...n)=>g6(mC,e,n[0])});function Ie(e,t){const n={type:"object",shape:e??{},...Le(t)};return new cC(n)}function Dn(e,t){return new cC({type:"object",shape:e,catchall:Yt(),...Le(t)})}const dC=pe("ZodUnion",(e,t)=>{Yk.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>xH(e,n,r,o),e.options=t.options});function Ft(e,t){return new dC({type:"union",options:e,...Le(t)})}const TB=pe("ZodDiscriminatedUnion",(e,t)=>{dC.init(e,t),ZV.init(e,t)});function fC(e,t,n){return new TB({type:"union",options:t,discriminator:e,...Le(n)})}const kB=pe("ZodIntersection",(e,t)=>{KV.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>SH(e,n,r,o)});function b0(e,t){return new kB({type:"intersection",left:e,right:t})}const CB=pe("ZodRecord",(e,t)=>{YV.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>wH(e,n,r,o),e.keyType=t.keyType,e.valueType=t.valueType});function Xt(e,t,n){return new CB({type:"record",keyType:e,valueType:t,...Le(n)})}const ug=pe("ZodEnum",(e,t)=>{XV.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(r,o,a)=>mH(e,r,o),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,o)=>{const a={};for(const l of r)if(n.has(l))a[l]=t.entries[l];else throw new Error(`Key ${l} not found in enum`);return new ug({...t,checks:[],...Le(o),entries:a})},e.exclude=(r,o)=>{const a={...t.entries};for(const l of r)if(n.has(l))delete a[l];else throw new Error(`Key ${l} not found in enum`);return new ug({...t,checks:[],...Le(o),entries:a})}});function br(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new ug({type:"enum",entries:n,...Le(t)})}const AB=pe("ZodLiteral",(e,t)=>{QV.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>gH(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function qe(e,t){return new AB({type:"literal",values:Array.isArray(e)?e:[e],...Le(t)})}const NB=pe("ZodTransform",(e,t)=>{WV.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>vH(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Rk(e.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(Jl(a,n.value,t));else{const l=a;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=e),n.issues.push(Jl(l))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(a=>(n.value=a,n)):(n.value=o,n)}});function hC(e){return new NB({type:"transform",transform:e})}const pC=pe("ZodOptional",(e,t)=>{Xk.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>iC(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function tn(e){return new pC({type:"optional",innerType:e})}const RB=pe("ZodExactOptional",(e,t)=>{ej.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>iC(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function IB(e){return new RB({type:"optional",innerType:e})}const MB=pe("ZodNullable",(e,t)=>{tj.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>EH(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Vw(e){return new MB({type:"nullable",innerType:e})}const PB=pe("ZodDefault",(e,t)=>{nj.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>kH(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function DB(e,t){return new PB({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Dk(t)}})}const zB=pe("ZodPrefault",(e,t)=>{rj.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>CH(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function OB(e,t){return new zB({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Dk(t)}})}const mC=pe("ZodNonOptional",(e,t)=>{ij.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>TH(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function UB(e,t){return new mC({type:"nonoptional",innerType:e,...Le(t)})}const $B=pe("ZodCatch",(e,t)=>{oj.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>AH(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function LB(e,t){return new $B({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const qB=pe("ZodPipe",(e,t)=>{sj.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>NH(e,n,r,o),e.in=t.in,e.out=t.out});function cg(e,t){return new qB({type:"pipe",in:e,out:t})}const VB=pe("ZodReadonly",(e,t)=>{aj.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>RH(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function jB(e){return new VB({type:"readonly",innerType:e})}const gC=pe("ZodCustom",(e,t)=>{lj.init(e,t),Bt.init(e,t),e._zod.processJSONSchema=(n,r,o)=>yH(e,n)});function HB(e,t){return nH(gC,e??(()=>!0),t)}function BB(e,t={}){return rH(gC,e,t)}function FB(e){return iH(e)}function yC(e,t){return cg(hC(e),t)}const GB={custom:"custom"};function JB(e){return Uj(_0,e)}const wf="2025-11-25",ZB=[wf,"2025-06-18","2025-03-26","2024-11-05","2024-10-07"],rs="io.modelcontextprotocol/related-task",Ef="2.0",zn=HB(e=>e!==null&&(typeof e=="object"||typeof e=="function")),vC=Ft([J(),Tt().int()]),_C=J();Dn({ttl:Ft([Tt(),uC()]).optional(),pollInterval:Tt().optional()});const KB=Ie({ttl:Tt().optional()}),YB=Ie({taskId:J()}),x0=Dn({progressToken:vC.optional(),[rs]:YB.optional()}),xr=Ie({_meta:x0.optional()}),Ql=xr.extend({task:KB.optional()}),XB=e=>Ql.safeParse(e).success,On=Ie({method:J(),params:xr.loose().optional()}),Ur=Ie({_meta:x0.optional()}),$r=Ie({method:J(),params:Ur.loose().optional()}),Un=Dn({_meta:x0.optional()}),Tf=Ft([J(),Tt().int()]),bC=Ie({jsonrpc:qe(Ef),id:Tf,...On.shape}).strict(),dg=e=>bC.safeParse(e).success,xC=Ie({jsonrpc:qe(Ef),...$r.shape}).strict(),QB=e=>xC.safeParse(e).success,S0=Ie({jsonrpc:qe(Ef),id:Tf,result:Un}).strict(),Ml=e=>S0.safeParse(e).success;var Qe;(function(e){e[e.ConnectionClosed=-32e3]="ConnectionClosed",e[e.RequestTimeout=-32001]="RequestTimeout",e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError",e[e.UrlElicitationRequired=-32042]="UrlElicitationRequired"})(Qe||(Qe={}));const w0=Ie({jsonrpc:qe(Ef),id:Tf.optional(),error:Ie({code:Tt().int(),message:J(),data:Yt().optional()})}).strict(),WB=e=>w0.safeParse(e).success,Sd=Ft([bC,xC,S0,w0]);Ft([S0,w0]);const sa=Un.strict(),eF=Ur.extend({requestId:Tf.optional(),reason:J().optional()}),E0=$r.extend({method:qe("notifications/cancelled"),params:eF}),tF=Ie({src:J(),mimeType:J().optional(),sizes:Ne(J()).optional(),theme:br(["light","dark"]).optional()}),Wl=Ie({icons:Ne(tF).optional()}),_a=Ie({name:J(),title:J().optional()}),SC=_a.extend({..._a.shape,...Wl.shape,version:J(),websiteUrl:J().optional(),description:J().optional()}),nF=b0(Ie({applyDefaults:jt().optional()}),Xt(J(),Yt())),rF=yC(e=>e&&typeof e=="object"&&!Array.isArray(e)&&Object.keys(e).length===0?{form:{}}:e,b0(Ie({form:nF.optional(),url:zn.optional()}),Xt(J(),Yt()).optional())),iF=Dn({list:zn.optional(),cancel:zn.optional(),requests:Dn({sampling:Dn({createMessage:zn.optional()}).optional(),elicitation:Dn({create:zn.optional()}).optional()}).optional()}),oF=Dn({list:zn.optional(),cancel:zn.optional(),requests:Dn({tools:Dn({call:zn.optional()}).optional()}).optional()}),sF=Ie({experimental:Xt(J(),zn).optional(),sampling:Ie({context:zn.optional(),tools:zn.optional()}).optional(),elicitation:rF.optional(),roots:Ie({listChanged:jt().optional()}).optional(),tasks:iF.optional()}),aF=xr.extend({protocolVersion:J(),capabilities:sF,clientInfo:SC}),lF=On.extend({method:qe("initialize"),params:aF}),uF=Ie({experimental:Xt(J(),zn).optional(),logging:zn.optional(),completions:zn.optional(),prompts:Ie({listChanged:jt().optional()}).optional(),resources:Ie({subscribe:jt().optional(),listChanged:jt().optional()}).optional(),tools:Ie({listChanged:jt().optional()}).optional(),tasks:oF.optional()}),wC=Un.extend({protocolVersion:J(),capabilities:uF,serverInfo:SC,instructions:J().optional()}),EC=$r.extend({method:qe("notifications/initialized"),params:Ur.optional()}),cF=e=>EC.safeParse(e).success,T0=On.extend({method:qe("ping"),params:xr.optional()}),dF=Ie({progress:Tt(),total:tn(Tt()),message:tn(J())}),fF=Ie({...Ur.shape,...dF.shape,progressToken:vC}),k0=$r.extend({method:qe("notifications/progress"),params:fF}),hF=xr.extend({cursor:_C.optional()}),eu=On.extend({params:hF.optional()}),tu=Un.extend({nextCursor:_C.optional()}),pF=br(["working","input_required","completed","failed","cancelled"]),nu=Ie({taskId:J(),status:pF,ttl:Ft([Tt(),uC()]),createdAt:J(),lastUpdatedAt:J(),pollInterval:tn(Tt()),statusMessage:tn(J())}),Zl=Un.extend({task:nu}),mF=Ur.merge(nu),Fd=$r.extend({method:qe("notifications/tasks/status"),params:mF}),C0=On.extend({method:qe("tasks/get"),params:xr.extend({taskId:J()})}),A0=Un.merge(nu),N0=On.extend({method:qe("tasks/result"),params:xr.extend({taskId:J()})});Un.loose();const R0=eu.extend({method:qe("tasks/list")}),I0=tu.extend({tasks:Ne(nu)}),M0=On.extend({method:qe("tasks/cancel"),params:xr.extend({taskId:J()})}),gF=Un.merge(nu),TC=Ie({uri:J(),mimeType:tn(J()),_meta:Xt(J(),Yt()).optional()}),kC=TC.extend({text:J()}),P0=J().refine(e=>{try{return atob(e),!0}catch{return!1}},{message:"Invalid Base64 string"}),CC=TC.extend({blob:P0}),ru=br(["user","assistant"]),Ca=Ie({audience:Ne(ru).optional(),priority:Tt().min(0).max(1).optional(),lastModified:sC({offset:!0}).optional()}),AC=Ie({..._a.shape,...Wl.shape,uri:J(),description:tn(J()),mimeType:tn(J()),annotations:Ca.optional(),_meta:tn(Dn({}))}),yF=Ie({..._a.shape,...Wl.shape,uriTemplate:J(),description:tn(J()),mimeType:tn(J()),annotations:Ca.optional(),_meta:tn(Dn({}))}),vF=eu.extend({method:qe("resources/list")}),NC=tu.extend({resources:Ne(AC)}),_F=eu.extend({method:qe("resources/templates/list")}),RC=tu.extend({resourceTemplates:Ne(yF)}),D0=xr.extend({uri:J()}),bF=D0,xF=On.extend({method:qe("resources/read"),params:bF}),IC=Un.extend({contents:Ne(Ft([kC,CC]))}),MC=$r.extend({method:qe("notifications/resources/list_changed"),params:Ur.optional()}),SF=D0,wF=On.extend({method:qe("resources/subscribe"),params:SF}),EF=D0,TF=On.extend({method:qe("resources/unsubscribe"),params:EF}),kF=Ur.extend({uri:J()}),CF=$r.extend({method:qe("notifications/resources/updated"),params:kF}),AF=Ie({name:J(),description:tn(J()),required:tn(jt())}),NF=Ie({..._a.shape,...Wl.shape,description:tn(J()),arguments:tn(Ne(AF)),_meta:tn(Dn({}))}),RF=eu.extend({method:qe("prompts/list")}),PC=tu.extend({prompts:Ne(NF)}),IF=xr.extend({name:J(),arguments:Xt(J(),J()).optional()}),MF=On.extend({method:qe("prompts/get"),params:IF}),z0=Ie({type:qe("text"),text:J(),annotations:Ca.optional(),_meta:Xt(J(),Yt()).optional()}),O0=Ie({type:qe("image"),data:P0,mimeType:J(),annotations:Ca.optional(),_meta:Xt(J(),Yt()).optional()}),U0=Ie({type:qe("audio"),data:P0,mimeType:J(),annotations:Ca.optional(),_meta:Xt(J(),Yt()).optional()}),PF=Ie({type:qe("tool_use"),name:J(),id:J(),input:Xt(J(),Yt()),_meta:Xt(J(),Yt()).optional()}),DF=Ie({type:qe("resource"),resource:Ft([kC,CC]),annotations:Ca.optional(),_meta:Xt(J(),Yt()).optional()}),zF=AC.extend({type:qe("resource_link")}),$0=Ft([z0,O0,U0,zF,DF]),OF=Ie({role:ru,content:$0}),DC=Un.extend({description:J().optional(),messages:Ne(OF)}),zC=$r.extend({method:qe("notifications/prompts/list_changed"),params:Ur.optional()}),UF=Ie({title:J().optional(),readOnlyHint:jt().optional(),destructiveHint:jt().optional(),idempotentHint:jt().optional(),openWorldHint:jt().optional()}),$F=Ie({taskSupport:br(["required","optional","forbidden"]).optional()}),OC=Ie({..._a.shape,...Wl.shape,description:J().optional(),inputSchema:Ie({type:qe("object"),properties:Xt(J(),zn).optional(),required:Ne(J()).optional()}).catchall(Yt()),outputSchema:Ie({type:qe("object"),properties:Xt(J(),zn).optional(),required:Ne(J()).optional()}).catchall(Yt()).optional(),annotations:UF.optional(),execution:$F.optional(),_meta:Xt(J(),Yt()).optional()}),LF=eu.extend({method:qe("tools/list")}),UC=tu.extend({tools:Ne(OC)}),kf=Un.extend({content:Ne($0).default([]),structuredContent:Xt(J(),Yt()).optional(),isError:jt().optional()});kf.or(Un.extend({toolResult:Yt()}));const qF=Ql.extend({name:J(),arguments:Xt(J(),Yt()).optional()}),VF=On.extend({method:qe("tools/call"),params:qF}),$C=$r.extend({method:qe("notifications/tools/list_changed"),params:Ur.optional()}),jF=Ie({autoRefresh:jt().default(!0),debounceMs:Tt().int().nonnegative().default(300)}),LC=br(["debug","info","notice","warning","error","critical","alert","emergency"]),HF=xr.extend({level:LC}),BF=On.extend({method:qe("logging/setLevel"),params:HF}),FF=Ur.extend({level:LC,logger:J().optional(),data:Yt()}),GF=$r.extend({method:qe("notifications/message"),params:FF}),JF=Ie({name:J().optional()}),ZF=Ie({hints:Ne(JF).optional(),costPriority:Tt().min(0).max(1).optional(),speedPriority:Tt().min(0).max(1).optional(),intelligencePriority:Tt().min(0).max(1).optional()}),KF=Ie({mode:br(["auto","required","none"]).optional()}),YF=Ie({type:qe("tool_result"),toolUseId:J().describe("The unique identifier for the corresponding tool call."),content:Ne($0).default([]),structuredContent:Ie({}).loose().optional(),isError:jt().optional(),_meta:Xt(J(),Yt()).optional()}),XF=fC("type",[z0,O0,U0]),Gd=fC("type",[z0,O0,U0,PF,YF]),QF=Ie({role:ru,content:Ft([Gd,Ne(Gd)]),_meta:Xt(J(),Yt()).optional()}),WF=Ql.extend({messages:Ne(QF),modelPreferences:ZF.optional(),systemPrompt:J().optional(),includeContext:br(["none","thisServer","allServers"]).optional(),temperature:Tt().optional(),maxTokens:Tt().int(),stopSequences:Ne(J()).optional(),metadata:zn.optional(),tools:Ne(OC).optional(),toolChoice:KF.optional()}),qC=On.extend({method:qe("sampling/createMessage"),params:WF}),VC=Un.extend({model:J(),stopReason:tn(br(["endTurn","stopSequence","maxTokens"]).or(J())),role:ru,content:XF}),e8=Un.extend({model:J(),stopReason:tn(br(["endTurn","stopSequence","maxTokens","toolUse"]).or(J())),role:ru,content:Ft([Gd,Ne(Gd)])}),t8=Ie({type:qe("boolean"),title:J().optional(),description:J().optional(),default:jt().optional()}),n8=Ie({type:qe("string"),title:J().optional(),description:J().optional(),minLength:Tt().optional(),maxLength:Tt().optional(),format:br(["email","uri","date","date-time"]).optional(),default:J().optional()}),r8=Ie({type:br(["number","integer"]),title:J().optional(),description:J().optional(),minimum:Tt().optional(),maximum:Tt().optional(),default:Tt().optional()}),i8=Ie({type:qe("string"),title:J().optional(),description:J().optional(),enum:Ne(J()),default:J().optional()}),o8=Ie({type:qe("string"),title:J().optional(),description:J().optional(),oneOf:Ne(Ie({const:J(),title:J()})),default:J().optional()}),s8=Ie({type:qe("string"),title:J().optional(),description:J().optional(),enum:Ne(J()),enumNames:Ne(J()).optional(),default:J().optional()}),a8=Ft([i8,o8]),l8=Ie({type:qe("array"),title:J().optional(),description:J().optional(),minItems:Tt().optional(),maxItems:Tt().optional(),items:Ie({type:qe("string"),enum:Ne(J())}),default:Ne(J()).optional()}),u8=Ie({type:qe("array"),title:J().optional(),description:J().optional(),minItems:Tt().optional(),maxItems:Tt().optional(),items:Ie({anyOf:Ne(Ie({const:J(),title:J()}))}),default:Ne(J()).optional()}),c8=Ft([l8,u8]),d8=Ft([s8,a8,c8]),f8=Ft([d8,t8,n8,r8]),h8=Ql.extend({mode:qe("form").optional(),message:J(),requestedSchema:Ie({type:qe("object"),properties:Xt(J(),f8),required:Ne(J()).optional()})}),p8=Ql.extend({mode:qe("url"),message:J(),elicitationId:J(),url:J().url()}),m8=Ft([h8,p8]),jC=On.extend({method:qe("elicitation/create"),params:m8}),g8=Ur.extend({elicitationId:J()}),y8=$r.extend({method:qe("notifications/elicitation/complete"),params:g8}),HC=Un.extend({action:br(["accept","decline","cancel"]),content:yC(e=>e===null?void 0:e,Xt(J(),Ft([J(),Tt(),jt(),Ne(J())])).optional())}),v8=Ie({type:qe("ref/resource"),uri:J()}),_8=Ie({type:qe("ref/prompt"),name:J()}),b8=xr.extend({ref:Ft([_8,v8]),argument:Ie({name:J(),value:J()}),context:Ie({arguments:Xt(J(),J()).optional()}).optional()}),x8=On.extend({method:qe("completion/complete"),params:b8}),BC=Un.extend({completion:Dn({values:Ne(J()).max(100),total:tn(Tt().int()),hasMore:tn(jt())})}),S8=Ie({uri:J().startsWith("file://"),name:J().optional(),_meta:Xt(J(),Yt()).optional()}),w8=On.extend({method:qe("roots/list"),params:xr.optional()}),E8=Un.extend({roots:Ne(S8)}),T8=$r.extend({method:qe("notifications/roots/list_changed"),params:Ur.optional()});Ft([T0,lF,x8,BF,MF,RF,vF,_F,xF,wF,TF,VF,LF,C0,N0,R0,M0]);Ft([E0,k0,EC,T8,Fd]);Ft([sa,VC,e8,HC,E8,A0,I0,Zl]);Ft([T0,qC,jC,w8,C0,N0,R0,M0]);Ft([E0,k0,GF,CF,MC,$C,zC,Fd,y8]);Ft([sa,wC,BC,DC,PC,NC,RC,IC,kf,UC,A0,I0,Zl]);class Je extends Error{constructor(t,n,r){super(`MCP error ${t}: ${n}`),this.code=t,this.data=r,this.name="McpError"}static fromError(t,n,r){if(t===Qe.UrlElicitationRequired&&r){const o=r;if(o.elicitations)return new k8(o.elicitations,n)}return new Je(t,n,r)}}class k8 extends Je{constructor(t,n=`URL elicitation${t.length>1?"s":""} required`){super(Qe.UrlElicitationRequired,n,{elicitations:t})}get elicitations(){var t;return((t=this.data)==null?void 0:t.elicitations)??[]}}function Xo(e){return e==="completed"||e==="failed"||e==="cancelled"}new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function jw(e){const t=oC(e),n=t==null?void 0:t.method;if(!n)throw new Error("Schema is missing a method literal");const r=IH(n);if(typeof r!="string")throw new Error("Schema method literal must be a string");return r}function Hw(e,t){const n=go(e,t);if(!n.success)throw n.error;return n.data}const C8=6e4;class A8{constructor(t){this._options=t,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this._taskProgressTokens=new Map,this._requestResolvers=new Map,this.setNotificationHandler(E0,n=>{this._oncancel(n)}),this.setNotificationHandler(k0,n=>{this._onprogress(n)}),this.setRequestHandler(T0,n=>({})),this._taskStore=t==null?void 0:t.taskStore,this._taskMessageQueue=t==null?void 0:t.taskMessageQueue,this._taskStore&&(this.setRequestHandler(C0,async(n,r)=>{const o=await this._taskStore.getTask(n.params.taskId,r.sessionId);if(!o)throw new Je(Qe.InvalidParams,"Failed to retrieve task: Task not found");return{...o}}),this.setRequestHandler(N0,async(n,r)=>{const o=async()=>{var c;const a=n.params.taskId;if(this._taskMessageQueue){let d;for(;d=await this._taskMessageQueue.dequeue(a,r.sessionId);){if(d.type==="response"||d.type==="error"){const f=d.message,p=f.id,g=this._requestResolvers.get(p);if(g)if(this._requestResolvers.delete(p),d.type==="response")g(f);else{const v=f,b=new Je(v.error.code,v.error.message,v.error.data);g(b)}else{const v=d.type==="response"?"Response":"Error";this._onerror(new Error(`${v} handler missing for request ${p}`))}continue}await((c=this._transport)==null?void 0:c.send(d.message,{relatedRequestId:r.requestId}))}}const l=await this._taskStore.getTask(a,r.sessionId);if(!l)throw new Je(Qe.InvalidParams,`Task not found: ${a}`);if(!Xo(l.status))return await this._waitForTaskUpdate(a,r.signal),await o();if(Xo(l.status)){const d=await this._taskStore.getTaskResult(a,r.sessionId);return this._clearTaskQueue(a),{...d,_meta:{...d._meta,[rs]:{taskId:a}}}}return await o()};return await o()}),this.setRequestHandler(R0,async(n,r)=>{var o;try{const{tasks:a,nextCursor:l}=await this._taskStore.listTasks((o=n.params)==null?void 0:o.cursor,r.sessionId);return{tasks:a,nextCursor:l,_meta:{}}}catch(a){throw new Je(Qe.InvalidParams,`Failed to list tasks: ${a instanceof Error?a.message:String(a)}`)}}),this.setRequestHandler(M0,async(n,r)=>{try{const o=await this._taskStore.getTask(n.params.taskId,r.sessionId);if(!o)throw new Je(Qe.InvalidParams,`Task not found: ${n.params.taskId}`);if(Xo(o.status))throw new Je(Qe.InvalidParams,`Cannot cancel task in terminal status: ${o.status}`);await this._taskStore.updateTaskStatus(n.params.taskId,"cancelled","Client cancelled task execution.",r.sessionId),this._clearTaskQueue(n.params.taskId);const a=await this._taskStore.getTask(n.params.taskId,r.sessionId);if(!a)throw new Je(Qe.InvalidParams,`Task not found after cancellation: ${n.params.taskId}`);return{_meta:{},...a}}catch(o){throw o instanceof Je?o:new Je(Qe.InvalidRequest,`Failed to cancel task: ${o instanceof Error?o.message:String(o)}`)}}))}async _oncancel(t){if(!t.params.requestId)return;const n=this._requestHandlerAbortControllers.get(t.params.requestId);n==null||n.abort(t.params.reason)}_setupTimeout(t,n,r,o,a=!1){this._timeoutInfo.set(t,{timeoutId:setTimeout(o,n),startTime:Date.now(),timeout:n,maxTotalTimeout:r,resetTimeoutOnProgress:a,onTimeout:o})}_resetTimeout(t){const n=this._timeoutInfo.get(t);if(!n)return!1;const r=Date.now()-n.startTime;if(n.maxTotalTimeout&&r>=n.maxTotalTimeout)throw this._timeoutInfo.delete(t),Je.fromError(Qe.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:n.maxTotalTimeout,totalElapsed:r});return clearTimeout(n.timeoutId),n.timeoutId=setTimeout(n.onTimeout,n.timeout),!0}_cleanupTimeout(t){const n=this._timeoutInfo.get(t);n&&(clearTimeout(n.timeoutId),this._timeoutInfo.delete(t))}async connect(t){var a,l,c;this._transport=t;const n=(a=this.transport)==null?void 0:a.onclose;this._transport.onclose=()=>{n==null||n(),this._onclose()};const r=(l=this.transport)==null?void 0:l.onerror;this._transport.onerror=d=>{r==null||r(d),this._onerror(d)};const o=(c=this._transport)==null?void 0:c.onmessage;this._transport.onmessage=(d,f)=>{o==null||o(d,f),Ml(d)||WB(d)?this._onresponse(d):dg(d)?this._onrequest(d,f):QB(d)?this._onnotification(d):this._onerror(new Error(`Unknown message type: ${JSON.stringify(d)}`))},await this._transport.start()}_onclose(){var r;const t=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._taskProgressTokens.clear(),this._pendingDebouncedNotifications.clear();const n=Je.fromError(Qe.ConnectionClosed,"Connection closed");this._transport=void 0,(r=this.onclose)==null||r.call(this);for(const o of t.values())o(n)}_onerror(t){var n;(n=this.onerror)==null||n.call(this,t)}_onnotification(t){const n=this._notificationHandlers.get(t.method)??this.fallbackNotificationHandler;n!==void 0&&Promise.resolve().then(()=>n(t)).catch(r=>this._onerror(new Error(`Uncaught error in notification handler: ${r}`)))}_onrequest(t,n){var p,g,v,b;const r=this._requestHandlers.get(t.method)??this.fallbackRequestHandler,o=this._transport,a=(v=(g=(p=t.params)==null?void 0:p._meta)==null?void 0:g[rs])==null?void 0:v.taskId;if(r===void 0){const E={jsonrpc:"2.0",id:t.id,error:{code:Qe.MethodNotFound,message:"Method not found"}};a&&this._taskMessageQueue?this._enqueueTaskMessage(a,{type:"error",message:E,timestamp:Date.now()},o==null?void 0:o.sessionId).catch(R=>this._onerror(new Error(`Failed to enqueue error response: ${R}`))):o==null||o.send(E).catch(R=>this._onerror(new Error(`Failed to send an error response: ${R}`)));return}const l=new AbortController;this._requestHandlerAbortControllers.set(t.id,l);const c=XB(t.params)?t.params.task:void 0,d=this._taskStore?this.requestTaskStore(t,o==null?void 0:o.sessionId):void 0,f={signal:l.signal,sessionId:o==null?void 0:o.sessionId,_meta:(b=t.params)==null?void 0:b._meta,sendNotification:async E=>{const R={relatedRequestId:t.id};a&&(R.relatedTask={taskId:a}),await this.notification(E,R)},sendRequest:async(E,R,k)=>{var A;const w={...k,relatedRequestId:t.id};a&&!w.relatedTask&&(w.relatedTask={taskId:a});const T=((A=w.relatedTask)==null?void 0:A.taskId)??a;return T&&d&&await d.updateTaskStatus(T,"input_required"),await this.request(E,R,w)},authInfo:n==null?void 0:n.authInfo,requestId:t.id,requestInfo:n==null?void 0:n.requestInfo,taskId:a,taskStore:d,taskRequestedTtl:c==null?void 0:c.ttl,closeSSEStream:n==null?void 0:n.closeSSEStream,closeStandaloneSSEStream:n==null?void 0:n.closeStandaloneSSEStream};Promise.resolve().then(()=>{c&&this.assertTaskHandlerCapability(t.method)}).then(()=>r(t,f)).then(async E=>{if(l.signal.aborted)return;const R={result:E,jsonrpc:"2.0",id:t.id};a&&this._taskMessageQueue?await this._enqueueTaskMessage(a,{type:"response",message:R,timestamp:Date.now()},o==null?void 0:o.sessionId):await(o==null?void 0:o.send(R))},async E=>{if(l.signal.aborted)return;const R={jsonrpc:"2.0",id:t.id,error:{code:Number.isSafeInteger(E.code)?E.code:Qe.InternalError,message:E.message??"Internal error",...E.data!==void 0&&{data:E.data}}};a&&this._taskMessageQueue?await this._enqueueTaskMessage(a,{type:"error",message:R,timestamp:Date.now()},o==null?void 0:o.sessionId):await(o==null?void 0:o.send(R))}).catch(E=>this._onerror(new Error(`Failed to send response: ${E}`))).finally(()=>{this._requestHandlerAbortControllers.delete(t.id)})}_onprogress(t){const{progressToken:n,...r}=t.params,o=Number(n),a=this._progressHandlers.get(o);if(!a){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(t)}`));return}const l=this._responseHandlers.get(o),c=this._timeoutInfo.get(o);if(c&&l&&c.resetTimeoutOnProgress)try{this._resetTimeout(o)}catch(d){this._responseHandlers.delete(o),this._progressHandlers.delete(o),this._cleanupTimeout(o),l(d);return}a(r)}_onresponse(t){const n=Number(t.id),r=this._requestResolvers.get(n);if(r){if(this._requestResolvers.delete(n),Ml(t))r(t);else{const l=new Je(t.error.code,t.error.message,t.error.data);r(l)}return}const o=this._responseHandlers.get(n);if(o===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(t)}`));return}this._responseHandlers.delete(n),this._cleanupTimeout(n);let a=!1;if(Ml(t)&&t.result&&typeof t.result=="object"){const l=t.result;if(l.task&&typeof l.task=="object"){const c=l.task;typeof c.taskId=="string"&&(a=!0,this._taskProgressTokens.set(c.taskId,n))}}if(a||this._progressHandlers.delete(n),Ml(t))o(t);else{const l=Je.fromError(t.error.code,t.error.message,t.error.data);o(l)}}get transport(){return this._transport}async close(){var t;await((t=this._transport)==null?void 0:t.close())}async*requestStream(t,n,r){var l,c;const{task:o}=r??{};if(!o){try{yield{type:"result",result:await this.request(t,n,r)}}catch(d){yield{type:"error",error:d instanceof Je?d:new Je(Qe.InternalError,String(d))}}return}let a;try{const d=await this.request(t,Zl,r);if(d.task)a=d.task.taskId,yield{type:"taskCreated",task:d.task};else throw new Je(Qe.InternalError,"Task creation did not return a task");for(;;){const f=await this.getTask({taskId:a},r);if(yield{type:"taskStatus",task:f},Xo(f.status)){f.status==="completed"?yield{type:"result",result:await this.getTaskResult({taskId:a},n,r)}:f.status==="failed"?yield{type:"error",error:new Je(Qe.InternalError,`Task ${a} failed`)}:f.status==="cancelled"&&(yield{type:"error",error:new Je(Qe.InternalError,`Task ${a} was cancelled`)});return}if(f.status==="input_required"){yield{type:"result",result:await this.getTaskResult({taskId:a},n,r)};return}const p=f.pollInterval??((l=this._options)==null?void 0:l.defaultTaskPollInterval)??1e3;await new Promise(g=>setTimeout(g,p)),(c=r==null?void 0:r.signal)==null||c.throwIfAborted()}}catch(d){yield{type:"error",error:d instanceof Je?d:new Je(Qe.InternalError,String(d))}}}request(t,n,r){const{relatedRequestId:o,resumptionToken:a,onresumptiontoken:l,task:c,relatedTask:d}=r??{};return new Promise((f,p)=>{var T,A,M,C,N;const g=P=>{p(P)};if(!this._transport){g(new Error("Not connected"));return}if(((T=this._options)==null?void 0:T.enforceStrictCapabilities)===!0)try{this.assertCapabilityForMethod(t.method),c&&this.assertTaskCapability(t.method)}catch(P){g(P);return}(A=r==null?void 0:r.signal)==null||A.throwIfAborted();const v=this._requestMessageId++,b={...t,jsonrpc:"2.0",id:v};r!=null&&r.onprogress&&(this._progressHandlers.set(v,r.onprogress),b.params={...t.params,_meta:{...((M=t.params)==null?void 0:M._meta)||{},progressToken:v}}),c&&(b.params={...b.params,task:c}),d&&(b.params={...b.params,_meta:{...((C=b.params)==null?void 0:C._meta)||{},[rs]:d}});const E=P=>{var j;this._responseHandlers.delete(v),this._progressHandlers.delete(v),this._cleanupTimeout(v),(j=this._transport)==null||j.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:v,reason:String(P)}},{relatedRequestId:o,resumptionToken:a,onresumptiontoken:l}).catch(q=>this._onerror(new Error(`Failed to send cancellation: ${q}`)));const L=P instanceof Je?P:new Je(Qe.RequestTimeout,String(P));p(L)};this._responseHandlers.set(v,P=>{var L;if(!((L=r==null?void 0:r.signal)!=null&&L.aborted)){if(P instanceof Error)return p(P);try{const j=go(n,P.result);j.success?f(j.data):p(j.error)}catch(j){p(j)}}}),(N=r==null?void 0:r.signal)==null||N.addEventListener("abort",()=>{var P;E((P=r==null?void 0:r.signal)==null?void 0:P.reason)});const R=(r==null?void 0:r.timeout)??C8,k=()=>E(Je.fromError(Qe.RequestTimeout,"Request timed out",{timeout:R}));this._setupTimeout(v,R,r==null?void 0:r.maxTotalTimeout,k,(r==null?void 0:r.resetTimeoutOnProgress)??!1);const w=d==null?void 0:d.taskId;if(w){const P=L=>{const j=this._responseHandlers.get(v);j?j(L):this._onerror(new Error(`Response handler missing for side-channeled request ${v}`))};this._requestResolvers.set(v,P),this._enqueueTaskMessage(w,{type:"request",message:b,timestamp:Date.now()}).catch(L=>{this._cleanupTimeout(v),p(L)})}else this._transport.send(b,{relatedRequestId:o,resumptionToken:a,onresumptiontoken:l}).catch(P=>{this._cleanupTimeout(v),p(P)})})}async getTask(t,n){return this.request({method:"tasks/get",params:t},A0,n)}async getTaskResult(t,n,r){return this.request({method:"tasks/result",params:t},n,r)}async listTasks(t,n){return this.request({method:"tasks/list",params:t},I0,n)}async cancelTask(t,n){return this.request({method:"tasks/cancel",params:t},gF,n)}async notification(t,n){var c,d,f,p;if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(t.method);const r=(c=n==null?void 0:n.relatedTask)==null?void 0:c.taskId;if(r){const g={...t,jsonrpc:"2.0",params:{...t.params,_meta:{...((d=t.params)==null?void 0:d._meta)||{},[rs]:n.relatedTask}}};await this._enqueueTaskMessage(r,{type:"notification",message:g,timestamp:Date.now()});return}if((((f=this._options)==null?void 0:f.debouncedNotificationMethods)??[]).includes(t.method)&&!t.params&&!(n!=null&&n.relatedRequestId)&&!(n!=null&&n.relatedTask)){if(this._pendingDebouncedNotifications.has(t.method))return;this._pendingDebouncedNotifications.add(t.method),Promise.resolve().then(()=>{var v,b;if(this._pendingDebouncedNotifications.delete(t.method),!this._transport)return;let g={...t,jsonrpc:"2.0"};n!=null&&n.relatedTask&&(g={...g,params:{...g.params,_meta:{...((v=g.params)==null?void 0:v._meta)||{},[rs]:n.relatedTask}}}),(b=this._transport)==null||b.send(g,n).catch(E=>this._onerror(E))});return}let l={...t,jsonrpc:"2.0"};n!=null&&n.relatedTask&&(l={...l,params:{...l.params,_meta:{...((p=l.params)==null?void 0:p._meta)||{},[rs]:n.relatedTask}}}),await this._transport.send(l,n)}setRequestHandler(t,n){const r=jw(t);this.assertRequestHandlerCapability(r),this._requestHandlers.set(r,(o,a)=>{const l=Hw(t,o);return Promise.resolve(n(l,a))})}removeRequestHandler(t){this._requestHandlers.delete(t)}assertCanSetRequestHandler(t){if(this._requestHandlers.has(t))throw new Error(`A request handler for ${t} already exists, which would be overridden`)}setNotificationHandler(t,n){const r=jw(t);this._notificationHandlers.set(r,o=>{const a=Hw(t,o);return Promise.resolve(n(a))})}removeNotificationHandler(t){this._notificationHandlers.delete(t)}_cleanupTaskProgressHandler(t){const n=this._taskProgressTokens.get(t);n!==void 0&&(this._progressHandlers.delete(n),this._taskProgressTokens.delete(t))}async _enqueueTaskMessage(t,n,r){var a;if(!this._taskStore||!this._taskMessageQueue)throw new Error("Cannot enqueue task message: taskStore and taskMessageQueue are not configured");const o=(a=this._options)==null?void 0:a.maxTaskQueueSize;await this._taskMessageQueue.enqueue(t,n,r,o)}async _clearTaskQueue(t,n){if(this._taskMessageQueue){const r=await this._taskMessageQueue.dequeueAll(t,n);for(const o of r)if(o.type==="request"&&dg(o.message)){const a=o.message.id,l=this._requestResolvers.get(a);l?(l(new Je(Qe.InternalError,"Task cancelled or completed")),this._requestResolvers.delete(a)):this._onerror(new Error(`Resolver missing for request ${a} during task ${t} cleanup`))}}}async _waitForTaskUpdate(t,n){var o,a;let r=((o=this._options)==null?void 0:o.defaultTaskPollInterval)??1e3;try{const l=await((a=this._taskStore)==null?void 0:a.getTask(t));l!=null&&l.pollInterval&&(r=l.pollInterval)}catch{}return new Promise((l,c)=>{if(n.aborted){c(new Je(Qe.InvalidRequest,"Request cancelled"));return}const d=setTimeout(l,r);n.addEventListener("abort",()=>{clearTimeout(d),c(new Je(Qe.InvalidRequest,"Request cancelled"))},{once:!0})})}requestTaskStore(t,n){const r=this._taskStore;if(!r)throw new Error("No task store configured");return{createTask:async o=>{if(!t)throw new Error("No request provided");return await r.createTask(o,t.id,{method:t.method,params:t.params},n)},getTask:async o=>{const a=await r.getTask(o,n);if(!a)throw new Je(Qe.InvalidParams,"Failed to retrieve task: Task not found");return a},storeTaskResult:async(o,a,l)=>{await r.storeTaskResult(o,a,l,n);const c=await r.getTask(o,n);if(c){const d=Fd.parse({method:"notifications/tasks/status",params:c});await this.notification(d),Xo(c.status)&&this._cleanupTaskProgressHandler(o)}},getTaskResult:o=>r.getTaskResult(o,n),updateTaskStatus:async(o,a,l)=>{const c=await r.getTask(o,n);if(!c)throw new Je(Qe.InvalidParams,`Task "${o}" not found - it may have been cleaned up`);if(Xo(c.status))throw new Je(Qe.InvalidParams,`Cannot update task "${o}" from terminal status "${c.status}" to "${a}". Terminal states (completed, failed, cancelled) cannot transition to other states.`);await r.updateTaskStatus(o,a,l,n);const d=await r.getTask(o,n);if(d){const f=Fd.parse({method:"notifications/tasks/status",params:d});await this.notification(f),Xo(d.status)&&this._cleanupTaskProgressHandler(o)}},listTasks:o=>r.listTasks(o,n)}}}function Bw(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function N8(e,t){const n={...e};for(const r in t){const o=r,a=t[o];if(a===void 0)continue;const l=n[o];Bw(l)&&Bw(a)?n[o]={...l,...a}:n[o]=a}return n}var Nc={exports:{}},pm={},Mi={},Qo={},mm={},gm={},ym={},Fw;function Jd(){return Fw||(Fw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(T){if(super(),!e.IDENTIFIER.test(T))throw new Error("CodeGen: name must be a valid identifier");this.str=T}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(T){super(),this._items=typeof T=="string"?[T]:T}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const T=this._items[0];return T===""||T==='""'}get str(){var T;return(T=this._str)!==null&&T!==void 0?T:this._str=this._items.reduce((A,M)=>`${A}${M}`,"")}get names(){var T;return(T=this._names)!==null&&T!==void 0?T:this._names=this._items.reduce((A,M)=>(M instanceof n&&(A[M.str]=(A[M.str]||0)+1),A),{})}}e._Code=r,e.nil=new r("");function o(w,...T){const A=[w[0]];let M=0;for(;M<T.length;)c(A,T[M]),A.push(w[++M]);return new r(A)}e._=o;const a=new r("+");function l(w,...T){const A=[b(w[0])];let M=0;for(;M<T.length;)A.push(a),c(A,T[M]),A.push(a,b(w[++M]));return d(A),new r(A)}e.str=l;function c(w,T){T instanceof r?w.push(...T._items):T instanceof n?w.push(T):w.push(g(T))}e.addCodeArg=c;function d(w){let T=1;for(;T<w.length-1;){if(w[T]===a){const A=f(w[T-1],w[T+1]);if(A!==void 0){w.splice(T-1,3,A);continue}w[T++]="+"}T++}}function f(w,T){if(T==='""')return w;if(w==='""')return T;if(typeof w=="string")return T instanceof n||w[w.length-1]!=='"'?void 0:typeof T!="string"?`${w.slice(0,-1)}${T}"`:T[0]==='"'?w.slice(0,-1)+T.slice(1):void 0;if(typeof T=="string"&&T[0]==='"'&&!(w instanceof n))return`"${w}${T.slice(1)}`}function p(w,T){return T.emptyStr()?w:w.emptyStr()?T:l`${w}${T}`}e.strConcat=p;function g(w){return typeof w=="number"||typeof w=="boolean"||w===null?w:b(Array.isArray(w)?w.join(","):w)}function v(w){return new r(b(w))}e.stringify=v;function b(w){return JSON.stringify(w).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=b;function E(w){return typeof w=="string"&&e.IDENTIFIER.test(w)?new r(`.${w}`):o`[${w}]`}e.getProperty=E;function R(w){if(typeof w=="string"&&e.IDENTIFIER.test(w))return new r(`${w}`);throw new Error(`CodeGen: invalid export name: ${w}, use explicit $id name mapping`)}e.getEsmExportName=R;function k(w){return new r(w.toString())}e.regexpCode=k})(ym)),ym}var vm={},Gw;function Jw(){return Gw||(Gw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Jd();class n extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var r;(function(d){d[d.Started=0]="Started",d[d.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class o{constructor({prefixes:f,parent:p}={}){this._names={},this._prefixes=f,this._parent=p}toName(f){return f instanceof t.Name?f:this.name(f)}name(f){return new t.Name(this._newName(f))}_newName(f){const p=this._names[f]||this._nameGroup(f);return`${f}${p.index++}`}_nameGroup(f){var p,g;if(!((g=(p=this._parent)===null||p===void 0?void 0:p._prefixes)===null||g===void 0)&&g.has(f)||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}e.Scope=o;class a extends t.Name{constructor(f,p){super(p),this.prefix=f}setValue(f,{property:p,itemIndex:g}){this.value=f,this.scopePath=(0,t._)`.${new t.Name(p)}[${g}]`}}e.ValueScopeName=a;const l=(0,t._)`\n`;class c extends o{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?l:t.nil}}get(){return this._scope}name(f){return new a(f,this._newName(f))}value(f,p){var g;if(p.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(f),{prefix:b}=v,E=(g=p.key)!==null&&g!==void 0?g:p.ref;let R=this._values[b];if(R){const T=R.get(E);if(T)return T}else R=this._values[b]=new Map;R.set(E,v);const k=this._scope[b]||(this._scope[b]=[]),w=k.length;return k[w]=p.ref,v.setValue(p,{property:b,itemIndex:w}),v}getValue(f,p){const g=this._values[f];if(g)return g.get(p)}scopeRefs(f,p=this._values){return this._reduceValues(p,g=>{if(g.scopePath===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return(0,t._)`${f}${g.scopePath}`})}scopeCode(f=this._values,p,g){return this._reduceValues(f,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},p,g)}_reduceValues(f,p,g={},v){let b=t.nil;for(const E in f){const R=f[E];if(!R)continue;const k=g[E]=g[E]||new Map;R.forEach(w=>{if(k.has(w))return;k.set(w,r.Started);let T=p(w);if(T){const A=this.opts.es5?e.varKinds.var:e.varKinds.const;b=(0,t._)`${b}${A} ${w} = ${T};${this.opts._n}`}else if(T=v==null?void 0:v(w))b=(0,t._)`${b}${T}${this.opts._n}`;else throw new n(w);k.set(w,r.Completed)})}return b}}e.ValueScope=c})(vm)),vm}var Zw;function st(){return Zw||(Zw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Jd(),n=Jw();var r=Jd();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var o=Jw();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(O,V){return this}}class l extends a{constructor(O,V,X){super(),this.varKind=O,this.name=V,this.rhs=X}render({es5:O,_n:V}){const X=O?n.varKinds.var:this.varKind,se=this.rhs===void 0?"":` = ${this.rhs}`;return`${X} ${this.name}${se};`+V}optimizeNames(O,V){if(O[this.name.str])return this.rhs&&(this.rhs=Q(this.rhs,O,V)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class c extends a{constructor(O,V,X){super(),this.lhs=O,this.rhs=V,this.sideEffects=X}render({_n:O}){return`${this.lhs} = ${this.rhs};`+O}optimizeNames(O,V){if(!(this.lhs instanceof t.Name&&!O[this.lhs.str]&&!this.sideEffects))return this.rhs=Q(this.rhs,O,V),this}get names(){const O=this.lhs instanceof t.Name?{}:{...this.lhs.names};return ee(O,this.rhs)}}class d extends c{constructor(O,V,X,se){super(O,X,se),this.op=V}render({_n:O}){return`${this.lhs} ${this.op}= ${this.rhs};`+O}}class f extends a{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`${this.label}:`+O}}class p extends a{constructor(O){super(),this.label=O,this.names={}}render({_n:O}){return`break${this.label?` ${this.label}`:""};`+O}}class g extends a{constructor(O){super(),this.error=O}render({_n:O}){return`throw ${this.error};`+O}get names(){return this.error.names}}class v extends a{constructor(O){super(),this.code=O}render({_n:O}){return`${this.code};`+O}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(O,V){return this.code=Q(this.code,O,V),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class b extends a{constructor(O=[]){super(),this.nodes=O}render(O){return this.nodes.reduce((V,X)=>V+X.render(O),"")}optimizeNodes(){const{nodes:O}=this;let V=O.length;for(;V--;){const X=O[V].optimizeNodes();Array.isArray(X)?O.splice(V,1,...X):X?O[V]=X:O.splice(V,1)}return O.length>0?this:void 0}optimizeNames(O,V){const{nodes:X}=this;let se=X.length;for(;se--;){const xe=X[se];xe.optimizeNames(O,V)||(W(O,xe.names),X.splice(se,1))}return X.length>0?this:void 0}get names(){return this.nodes.reduce((O,V)=>K(O,V.names),{})}}class E extends b{render(O){return"{"+O._n+super.render(O)+"}"+O._n}}class R extends b{}class k extends E{}k.kind="else";class w extends E{constructor(O,V){super(V),this.condition=O}render(O){let V=`if(${this.condition})`+super.render(O);return this.else&&(V+="else "+this.else.render(O)),V}optimizeNodes(){super.optimizeNodes();const O=this.condition;if(O===!0)return this.nodes;let V=this.else;if(V){const X=V.optimizeNodes();V=this.else=Array.isArray(X)?new k(X):X}if(V)return O===!1?V instanceof w?V:V.nodes:this.nodes.length?this:new w(G(O),V instanceof w?[V]:V.nodes);if(!(O===!1||!this.nodes.length))return this}optimizeNames(O,V){var X;if(this.else=(X=this.else)===null||X===void 0?void 0:X.optimizeNames(O,V),!!(super.optimizeNames(O,V)||this.else))return this.condition=Q(this.condition,O,V),this}get names(){const O=super.names;return ee(O,this.condition),this.else&&K(O,this.else.names),O}}w.kind="if";class T extends E{}T.kind="for";class A extends T{constructor(O){super(),this.iteration=O}render(O){return`for(${this.iteration})`+super.render(O)}optimizeNames(O,V){if(super.optimizeNames(O,V))return this.iteration=Q(this.iteration,O,V),this}get names(){return K(super.names,this.iteration.names)}}class M extends T{constructor(O,V,X,se){super(),this.varKind=O,this.name=V,this.from=X,this.to=se}render(O){const V=O.es5?n.varKinds.var:this.varKind,{name:X,from:se,to:xe}=this;return`for(${V} ${X}=${se}; ${X}<${xe}; ${X}++)`+super.render(O)}get names(){const O=ee(super.names,this.from);return ee(O,this.to)}}class C extends T{constructor(O,V,X,se){super(),this.loop=O,this.varKind=V,this.name=X,this.iterable=se}render(O){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(O)}optimizeNames(O,V){if(super.optimizeNames(O,V))return this.iterable=Q(this.iterable,O,V),this}get names(){return K(super.names,this.iterable.names)}}class N extends E{constructor(O,V,X){super(),this.name=O,this.args=V,this.async=X}render(O){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(O)}}N.kind="func";class P extends b{render(O){return"return "+super.render(O)}}P.kind="return";class L extends E{render(O){let V="try"+super.render(O);return this.catch&&(V+=this.catch.render(O)),this.finally&&(V+=this.finally.render(O)),V}optimizeNodes(){var O,V;return super.optimizeNodes(),(O=this.catch)===null||O===void 0||O.optimizeNodes(),(V=this.finally)===null||V===void 0||V.optimizeNodes(),this}optimizeNames(O,V){var X,se;return super.optimizeNames(O,V),(X=this.catch)===null||X===void 0||X.optimizeNames(O,V),(se=this.finally)===null||se===void 0||se.optimizeNames(O,V),this}get names(){const O=super.names;return this.catch&&K(O,this.catch.names),this.finally&&K(O,this.finally.names),O}}class j extends E{constructor(O){super(),this.error=O}render(O){return`catch(${this.error})`+super.render(O)}}j.kind="catch";class q extends E{render(O){return"finally"+super.render(O)}}q.kind="finally";class H{constructor(O,V={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...V,_n:V.lines?`
`:""},this._extScope=O,this._scope=new n.Scope({parent:O}),this._nodes=[new R]}toString(){return this._root.render(this.opts)}name(O){return this._scope.name(O)}scopeName(O){return this._extScope.name(O)}scopeValue(O,V){const X=this._extScope.value(O,V);return(this._values[X.prefix]||(this._values[X.prefix]=new Set)).add(X),X}getScopeValue(O,V){return this._extScope.getValue(O,V)}scopeRefs(O){return this._extScope.scopeRefs(O,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(O,V,X,se){const xe=this._scope.toName(V);return X!==void 0&&se&&(this._constants[xe.str]=X),this._leafNode(new l(O,xe,X)),xe}const(O,V,X){return this._def(n.varKinds.const,O,V,X)}let(O,V,X){return this._def(n.varKinds.let,O,V,X)}var(O,V,X){return this._def(n.varKinds.var,O,V,X)}assign(O,V,X){return this._leafNode(new c(O,V,X))}add(O,V){return this._leafNode(new d(O,e.operators.ADD,V))}code(O){return typeof O=="function"?O():O!==t.nil&&this._leafNode(new v(O)),this}object(...O){const V=["{"];for(const[X,se]of O)V.length>1&&V.push(","),V.push(X),(X!==se||this.opts.es5)&&(V.push(":"),(0,t.addCodeArg)(V,se));return V.push("}"),new t._Code(V)}if(O,V,X){if(this._blockNode(new w(O)),V&&X)this.code(V).else().code(X).endIf();else if(V)this.code(V).endIf();else if(X)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(O){return this._elseNode(new w(O))}else(){return this._elseNode(new k)}endIf(){return this._endBlockNode(w,k)}_for(O,V){return this._blockNode(O),V&&this.code(V).endFor(),this}for(O,V){return this._for(new A(O),V)}forRange(O,V,X,se,xe=this.opts.es5?n.varKinds.var:n.varKinds.let){const Ce=this._scope.toName(O);return this._for(new M(xe,Ce,V,X),()=>se(Ce))}forOf(O,V,X,se=n.varKinds.const){const xe=this._scope.toName(O);if(this.opts.es5){const Ce=V instanceof t.Name?V:this.var("_arr",V);return this.forRange("_i",0,(0,t._)`${Ce}.length`,Ue=>{this.var(xe,(0,t._)`${Ce}[${Ue}]`),X(xe)})}return this._for(new C("of",se,xe,V),()=>X(xe))}forIn(O,V,X,se=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(O,(0,t._)`Object.keys(${V})`,X);const xe=this._scope.toName(O);return this._for(new C("in",se,xe,V),()=>X(xe))}endFor(){return this._endBlockNode(T)}label(O){return this._leafNode(new f(O))}break(O){return this._leafNode(new p(O))}return(O){const V=new P;if(this._blockNode(V),this.code(O),V.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(P)}try(O,V,X){if(!V&&!X)throw new Error('CodeGen: "try" without "catch" and "finally"');const se=new L;if(this._blockNode(se),this.code(O),V){const xe=this.name("e");this._currNode=se.catch=new j(xe),V(xe)}return X&&(this._currNode=se.finally=new q,this.code(X)),this._endBlockNode(j,q)}throw(O){return this._leafNode(new g(O))}block(O,V){return this._blockStarts.push(this._nodes.length),O&&this.code(O).endBlock(V),this}endBlock(O){const V=this._blockStarts.pop();if(V===void 0)throw new Error("CodeGen: not in self-balancing block");const X=this._nodes.length-V;if(X<0||O!==void 0&&X!==O)throw new Error(`CodeGen: wrong number of nodes: ${X} vs ${O} expected`);return this._nodes.length=V,this}func(O,V=t.nil,X,se){return this._blockNode(new N(O,V,X)),se&&this.code(se).endFunc(),this}endFunc(){return this._endBlockNode(N)}optimize(O=1){for(;O-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(O){return this._currNode.nodes.push(O),this}_blockNode(O){this._currNode.nodes.push(O),this._nodes.push(O)}_endBlockNode(O,V){const X=this._currNode;if(X instanceof O||V&&X instanceof V)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${V?`${O.kind}/${V.kind}`:O.kind}"`)}_elseNode(O){const V=this._currNode;if(!(V instanceof w))throw new Error('CodeGen: "else" without "if"');return this._currNode=V.else=O,this}get _root(){return this._nodes[0]}get _currNode(){const O=this._nodes;return O[O.length-1]}set _currNode(O){const V=this._nodes;V[V.length-1]=O}}e.CodeGen=H;function K(D,O){for(const V in O)D[V]=(D[V]||0)+(O[V]||0);return D}function ee(D,O){return O instanceof t._CodeOrName?K(D,O.names):D}function Q(D,O,V){if(D instanceof t.Name)return X(D);if(!se(D))return D;return new t._Code(D._items.reduce((xe,Ce)=>(Ce instanceof t.Name&&(Ce=X(Ce)),Ce instanceof t._Code?xe.push(...Ce._items):xe.push(Ce),xe),[]));function X(xe){const Ce=V[xe.str];return Ce===void 0||O[xe.str]!==1?xe:(delete O[xe.str],Ce)}function se(xe){return xe instanceof t._Code&&xe._items.some(Ce=>Ce instanceof t.Name&&O[Ce.str]===1&&V[Ce.str]!==void 0)}}function W(D,O){for(const V in O)D[V]=(D[V]||0)-(O[V]||0)}function G(D){return typeof D=="boolean"||typeof D=="number"||D===null?!D:(0,t._)`!${B(D)}`}e.not=G;const ce=z(e.operators.AND);function _e(...D){return D.reduce(ce)}e.and=_e;const ze=z(e.operators.OR);function $(...D){return D.reduce(ze)}e.or=$;function z(D){return(O,V)=>O===t.nil?V:V===t.nil?O:(0,t._)`${B(O)} ${D} ${B(V)}`}function B(D){return D instanceof t.Name?D:(0,t._)`(${D})`}})(gm)),gm}var ot={},Kw;function bt(){if(Kw)return ot;Kw=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.checkStrictMode=ot.getErrorPath=ot.Type=ot.useFunc=ot.setEvaluated=ot.evaluatedPropsToName=ot.mergeEvaluated=ot.eachItem=ot.unescapeJsonPointer=ot.escapeJsonPointer=ot.escapeFragment=ot.unescapeFragment=ot.schemaRefOrVal=ot.schemaHasRulesButRef=ot.schemaHasRules=ot.checkUnknownRules=ot.alwaysValidSchema=ot.toHash=void 0;const e=st(),t=Jd();function n(C){const N={};for(const P of C)N[P]=!0;return N}ot.toHash=n;function r(C,N){return typeof N=="boolean"?N:Object.keys(N).length===0?!0:(o(C,N),!a(N,C.self.RULES.all))}ot.alwaysValidSchema=r;function o(C,N=C.schema){const{opts:P,self:L}=C;if(!P.strictSchema||typeof N=="boolean")return;const j=L.RULES.keywords;for(const q in N)j[q]||M(C,`unknown keyword: "${q}"`)}ot.checkUnknownRules=o;function a(C,N){if(typeof C=="boolean")return!C;for(const P in C)if(N[P])return!0;return!1}ot.schemaHasRules=a;function l(C,N){if(typeof C=="boolean")return!C;for(const P in C)if(P!=="$ref"&&N.all[P])return!0;return!1}ot.schemaHasRulesButRef=l;function c({topSchemaRef:C,schemaPath:N},P,L,j){if(!j){if(typeof P=="number"||typeof P=="boolean")return P;if(typeof P=="string")return(0,e._)`${P}`}return(0,e._)`${C}${N}${(0,e.getProperty)(L)}`}ot.schemaRefOrVal=c;function d(C){return g(decodeURIComponent(C))}ot.unescapeFragment=d;function f(C){return encodeURIComponent(p(C))}ot.escapeFragment=f;function p(C){return typeof C=="number"?`${C}`:C.replace(/~/g,"~0").replace(/\//g,"~1")}ot.escapeJsonPointer=p;function g(C){return C.replace(/~1/g,"/").replace(/~0/g,"~")}ot.unescapeJsonPointer=g;function v(C,N){if(Array.isArray(C))for(const P of C)N(P);else N(C)}ot.eachItem=v;function b({mergeNames:C,mergeToName:N,mergeValues:P,resultToName:L}){return(j,q,H,K)=>{const ee=H===void 0?q:H instanceof e.Name?(q instanceof e.Name?C(j,q,H):N(j,q,H),H):q instanceof e.Name?(N(j,H,q),q):P(q,H);return K===e.Name&&!(ee instanceof e.Name)?L(j,ee):ee}}ot.mergeEvaluated={props:b({mergeNames:(C,N,P)=>C.if((0,e._)`${P} !== true && ${N} !== undefined`,()=>{C.if((0,e._)`${N} === true`,()=>C.assign(P,!0),()=>C.assign(P,(0,e._)`${P} || {}`).code((0,e._)`Object.assign(${P}, ${N})`))}),mergeToName:(C,N,P)=>C.if((0,e._)`${P} !== true`,()=>{N===!0?C.assign(P,!0):(C.assign(P,(0,e._)`${P} || {}`),R(C,P,N))}),mergeValues:(C,N)=>C===!0?!0:{...C,...N},resultToName:E}),items:b({mergeNames:(C,N,P)=>C.if((0,e._)`${P} !== true && ${N} !== undefined`,()=>C.assign(P,(0,e._)`${N} === true ? true : ${P} > ${N} ? ${P} : ${N}`)),mergeToName:(C,N,P)=>C.if((0,e._)`${P} !== true`,()=>C.assign(P,N===!0?!0:(0,e._)`${P} > ${N} ? ${P} : ${N}`)),mergeValues:(C,N)=>C===!0?!0:Math.max(C,N),resultToName:(C,N)=>C.var("items",N)})};function E(C,N){if(N===!0)return C.var("props",!0);const P=C.var("props",(0,e._)`{}`);return N!==void 0&&R(C,P,N),P}ot.evaluatedPropsToName=E;function R(C,N,P){Object.keys(P).forEach(L=>C.assign((0,e._)`${N}${(0,e.getProperty)(L)}`,!0))}ot.setEvaluated=R;const k={};function w(C,N){return C.scopeValue("func",{ref:N,code:k[N.code]||(k[N.code]=new t._Code(N.code))})}ot.useFunc=w;var T;(function(C){C[C.Num=0]="Num",C[C.Str=1]="Str"})(T||(ot.Type=T={}));function A(C,N,P){if(C instanceof e.Name){const L=N===T.Num;return P?L?(0,e._)`"[" + ${C} + "]"`:(0,e._)`"['" + ${C} + "']"`:L?(0,e._)`"/" + ${C}`:(0,e._)`"/" + ${C}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return P?(0,e.getProperty)(C).toString():"/"+p(C)}ot.getErrorPath=A;function M(C,N,P=C.opts.strictSchema){if(P){if(N=`strict mode: ${N}`,P===!0)throw new Error(N);C.self.logger.warn(N)}}return ot.checkStrictMode=M,ot}var Rc={},Yw;function Co(){if(Yw)return Rc;Yw=1,Object.defineProperty(Rc,"__esModule",{value:!0});const e=st(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Rc.default=t,Rc}var Xw;function Cf(){return Xw||(Xw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=st(),n=bt(),r=Co();e.keywordError={message:({keyword:k})=>(0,t.str)`must pass "${k}" keyword validation`},e.keyword$DataError={message:({keyword:k,schemaType:w})=>w?(0,t.str)`"${k}" keyword must be ${w} ($data)`:(0,t.str)`"${k}" keyword is invalid ($data)`};function o(k,w=e.keywordError,T,A){const{it:M}=k,{gen:C,compositeRule:N,allErrors:P}=M,L=g(k,w,T);A??(N||P)?d(C,L):f(M,(0,t._)`[${L}]`)}e.reportError=o;function a(k,w=e.keywordError,T){const{it:A}=k,{gen:M,compositeRule:C,allErrors:N}=A,P=g(k,w,T);d(M,P),C||N||f(A,r.default.vErrors)}e.reportExtraError=a;function l(k,w){k.assign(r.default.errors,w),k.if((0,t._)`${r.default.vErrors} !== null`,()=>k.if(w,()=>k.assign((0,t._)`${r.default.vErrors}.length`,w),()=>k.assign(r.default.vErrors,null)))}e.resetErrorsCount=l;function c({gen:k,keyword:w,schemaValue:T,data:A,errsCount:M,it:C}){if(M===void 0)throw new Error("ajv implementation error");const N=k.name("err");k.forRange("i",M,r.default.errors,P=>{k.const(N,(0,t._)`${r.default.vErrors}[${P}]`),k.if((0,t._)`${N}.instancePath === undefined`,()=>k.assign((0,t._)`${N}.instancePath`,(0,t.strConcat)(r.default.instancePath,C.errorPath))),k.assign((0,t._)`${N}.schemaPath`,(0,t.str)`${C.errSchemaPath}/${w}`),C.opts.verbose&&(k.assign((0,t._)`${N}.schema`,T),k.assign((0,t._)`${N}.data`,A))})}e.extendErrors=c;function d(k,w){const T=k.const("err",w);k.if((0,t._)`${r.default.vErrors} === null`,()=>k.assign(r.default.vErrors,(0,t._)`[${T}]`),(0,t._)`${r.default.vErrors}.push(${T})`),k.code((0,t._)`${r.default.errors}++`)}function f(k,w){const{gen:T,validateName:A,schemaEnv:M}=k;M.$async?T.throw((0,t._)`new ${k.ValidationError}(${w})`):(T.assign((0,t._)`${A}.errors`,w),T.return(!1))}const p={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function g(k,w,T){const{createErrors:A}=k.it;return A===!1?(0,t._)`{}`:v(k,w,T)}function v(k,w,T={}){const{gen:A,it:M}=k,C=[b(M,T),E(k,T)];return R(k,w,C),A.object(...C)}function b({errorPath:k},{instancePath:w}){const T=w?(0,t.str)`${k}${(0,n.getErrorPath)(w,n.Type.Str)}`:k;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,T)]}function E({keyword:k,it:{errSchemaPath:w}},{schemaPath:T,parentSchema:A}){let M=A?w:(0,t.str)`${w}/${k}`;return T&&(M=(0,t.str)`${M}${(0,n.getErrorPath)(T,n.Type.Str)}`),[p.schemaPath,M]}function R(k,{params:w,message:T},A){const{keyword:M,data:C,schemaValue:N,it:P}=k,{opts:L,propertyName:j,topSchemaRef:q,schemaPath:H}=P;A.push([p.keyword,M],[p.params,typeof w=="function"?w(k):w||(0,t._)`{}`]),L.messages&&A.push([p.message,typeof T=="function"?T(k):T]),L.verbose&&A.push([p.schema,N],[p.parentSchema,(0,t._)`${q}${H}`],[r.default.data,C]),j&&A.push([p.propertyName,j])}})(mm)),mm}var Qw;function R8(){if(Qw)return Qo;Qw=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.boolOrEmptySchema=Qo.topBoolOrEmptySchema=void 0;const e=Cf(),t=st(),n=Co(),r={message:"boolean schema is false"};function o(c){const{gen:d,schema:f,validateName:p}=c;f===!1?l(c,!1):typeof f=="object"&&f.$async===!0?d.return(n.default.data):(d.assign((0,t._)`${p}.errors`,null),d.return(!0))}Qo.topBoolOrEmptySchema=o;function a(c,d){const{gen:f,schema:p}=c;p===!1?(f.var(d,!1),l(c)):f.var(d,!0)}Qo.boolOrEmptySchema=a;function l(c,d){const{gen:f,data:p}=c,g={gen:f,keyword:"false schema",data:p,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:c};(0,e.reportError)(g,r,void 0,d)}return Qo}var Mn={},Wo={},Ww;function FC(){if(Ww)return Wo;Ww=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.getRules=Wo.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(o){return typeof o=="string"&&t.has(o)}Wo.isJSONType=n;function r(){const o={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...o,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},o.number,o.string,o.array,o.object],post:{rules:[]},all:{},keywords:{}}}return Wo.getRules=r,Wo}var Pi={},eE;function GC(){if(eE)return Pi;eE=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.shouldUseRule=Pi.shouldUseGroup=Pi.schemaHasRulesForType=void 0;function e({schema:r,self:o},a){const l=o.RULES.types[a];return l&&l!==!0&&t(r,l)}Pi.schemaHasRulesForType=e;function t(r,o){return o.rules.some(a=>n(r,a))}Pi.shouldUseGroup=t;function n(r,o){var a;return r[o.keyword]!==void 0||((a=o.definition.implements)===null||a===void 0?void 0:a.some(l=>r[l]!==void 0))}return Pi.shouldUseRule=n,Pi}var tE;function Zd(){if(tE)return Mn;tE=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.reportTypeError=Mn.checkDataTypes=Mn.checkDataType=Mn.coerceAndCheckDataType=Mn.getJSONTypes=Mn.getSchemaTypes=Mn.DataType=void 0;const e=FC(),t=GC(),n=Cf(),r=st(),o=bt();var a;(function(T){T[T.Correct=0]="Correct",T[T.Wrong=1]="Wrong"})(a||(Mn.DataType=a={}));function l(T){const A=c(T.type);if(A.includes("null")){if(T.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!A.length&&T.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');T.nullable===!0&&A.push("null")}return A}Mn.getSchemaTypes=l;function c(T){const A=Array.isArray(T)?T:T?[T]:[];if(A.every(e.isJSONType))return A;throw new Error("type must be JSONType or JSONType[]: "+A.join(","))}Mn.getJSONTypes=c;function d(T,A){const{gen:M,data:C,opts:N}=T,P=p(A,N.coerceTypes),L=A.length>0&&!(P.length===0&&A.length===1&&(0,t.schemaHasRulesForType)(T,A[0]));if(L){const j=E(A,C,N.strictNumbers,a.Wrong);M.if(j,()=>{P.length?g(T,A,P):k(T)})}return L}Mn.coerceAndCheckDataType=d;const f=new Set(["string","number","integer","boolean","null"]);function p(T,A){return A?T.filter(M=>f.has(M)||A==="array"&&M==="array"):[]}function g(T,A,M){const{gen:C,data:N,opts:P}=T,L=C.let("dataType",(0,r._)`typeof ${N}`),j=C.let("coerced",(0,r._)`undefined`);P.coerceTypes==="array"&&C.if((0,r._)`${L} == 'object' && Array.isArray(${N}) && ${N}.length == 1`,()=>C.assign(N,(0,r._)`${N}[0]`).assign(L,(0,r._)`typeof ${N}`).if(E(A,N,P.strictNumbers),()=>C.assign(j,N))),C.if((0,r._)`${j} !== undefined`);for(const H of M)(f.has(H)||H==="array"&&P.coerceTypes==="array")&&q(H);C.else(),k(T),C.endIf(),C.if((0,r._)`${j} !== undefined`,()=>{C.assign(N,j),v(T,j)});function q(H){switch(H){case"string":C.elseIf((0,r._)`${L} == "number" || ${L} == "boolean"`).assign(j,(0,r._)`"" + ${N}`).elseIf((0,r._)`${N} === null`).assign(j,(0,r._)`""`);return;case"number":C.elseIf((0,r._)`${L} == "boolean" || ${N} === null
              || (${L} == "string" && ${N} && ${N} == +${N})`).assign(j,(0,r._)`+${N}`);return;case"integer":C.elseIf((0,r._)`${L} === "boolean" || ${N} === null
              || (${L} === "string" && ${N} && ${N} == +${N} && !(${N} % 1))`).assign(j,(0,r._)`+${N}`);return;case"boolean":C.elseIf((0,r._)`${N} === "false" || ${N} === 0 || ${N} === null`).assign(j,!1).elseIf((0,r._)`${N} === "true" || ${N} === 1`).assign(j,!0);return;case"null":C.elseIf((0,r._)`${N} === "" || ${N} === 0 || ${N} === false`),C.assign(j,null);return;case"array":C.elseIf((0,r._)`${L} === "string" || ${L} === "number"
              || ${L} === "boolean" || ${N} === null`).assign(j,(0,r._)`[${N}]`)}}}function v({gen:T,parentData:A,parentDataProperty:M},C){T.if((0,r._)`${A} !== undefined`,()=>T.assign((0,r._)`${A}[${M}]`,C))}function b(T,A,M,C=a.Correct){const N=C===a.Correct?r.operators.EQ:r.operators.NEQ;let P;switch(T){case"null":return(0,r._)`${A} ${N} null`;case"array":P=(0,r._)`Array.isArray(${A})`;break;case"object":P=(0,r._)`${A} && typeof ${A} == "object" && !Array.isArray(${A})`;break;case"integer":P=L((0,r._)`!(${A} % 1) && !isNaN(${A})`);break;case"number":P=L();break;default:return(0,r._)`typeof ${A} ${N} ${T}`}return C===a.Correct?P:(0,r.not)(P);function L(j=r.nil){return(0,r.and)((0,r._)`typeof ${A} == "number"`,j,M?(0,r._)`isFinite(${A})`:r.nil)}}Mn.checkDataType=b;function E(T,A,M,C){if(T.length===1)return b(T[0],A,M,C);let N;const P=(0,o.toHash)(T);if(P.array&&P.object){const L=(0,r._)`typeof ${A} != "object"`;N=P.null?L:(0,r._)`!${A} || ${L}`,delete P.null,delete P.array,delete P.object}else N=r.nil;P.number&&delete P.integer;for(const L in P)N=(0,r.and)(N,b(L,A,M,C));return N}Mn.checkDataTypes=E;const R={message:({schema:T})=>`must be ${T}`,params:({schema:T,schemaValue:A})=>typeof T=="string"?(0,r._)`{type: ${T}}`:(0,r._)`{type: ${A}}`};function k(T){const A=w(T);(0,n.reportError)(A,R)}Mn.reportTypeError=k;function w(T){const{gen:A,data:M,schema:C}=T,N=(0,o.schemaRefOrVal)(T,C,"type");return{gen:A,keyword:"type",data:M,schema:C.type,schemaCode:N,schemaValue:N,parentSchema:C,params:{},it:T}}return Mn}var kl={},nE;function I8(){if(nE)return kl;nE=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.assignDefaults=void 0;const e=st(),t=bt();function n(o,a){const{properties:l,items:c}=o.schema;if(a==="object"&&l)for(const d in l)r(o,d,l[d].default);else a==="array"&&Array.isArray(c)&&c.forEach((d,f)=>r(o,f,d.default))}kl.assignDefaults=n;function r(o,a,l){const{gen:c,compositeRule:d,data:f,opts:p}=o;if(l===void 0)return;const g=(0,e._)`${f}${(0,e.getProperty)(a)}`;if(d){(0,t.checkStrictMode)(o,`default is ignored for: ${g}`);return}let v=(0,e._)`${g} === undefined`;p.useDefaults==="empty"&&(v=(0,e._)`${v} || ${g} === null || ${g} === ""`),c.if(v,(0,e._)`${g} = ${(0,e.stringify)(l)}`)}return kl}var jr={},Rt={},rE;function Qr(){if(rE)return Rt;rE=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.validateUnion=Rt.validateArray=Rt.usePattern=Rt.callValidateCode=Rt.schemaProperties=Rt.allSchemaProperties=Rt.noPropertyInData=Rt.propertyInData=Rt.isOwnProperty=Rt.hasPropFunc=Rt.reportMissingProp=Rt.checkMissingProp=Rt.checkReportMissingProp=void 0;const e=st(),t=bt(),n=Co(),r=bt();function o(T,A){const{gen:M,data:C,it:N}=T;M.if(p(M,C,A,N.opts.ownProperties),()=>{T.setParams({missingProperty:(0,e._)`${A}`},!0),T.error()})}Rt.checkReportMissingProp=o;function a({gen:T,data:A,it:{opts:M}},C,N){return(0,e.or)(...C.map(P=>(0,e.and)(p(T,A,P,M.ownProperties),(0,e._)`${N} = ${P}`)))}Rt.checkMissingProp=a;function l(T,A){T.setParams({missingProperty:A},!0),T.error()}Rt.reportMissingProp=l;function c(T){return T.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Rt.hasPropFunc=c;function d(T,A,M){return(0,e._)`${c(T)}.call(${A}, ${M})`}Rt.isOwnProperty=d;function f(T,A,M,C){const N=(0,e._)`${A}${(0,e.getProperty)(M)} !== undefined`;return C?(0,e._)`${N} && ${d(T,A,M)}`:N}Rt.propertyInData=f;function p(T,A,M,C){const N=(0,e._)`${A}${(0,e.getProperty)(M)} === undefined`;return C?(0,e.or)(N,(0,e.not)(d(T,A,M))):N}Rt.noPropertyInData=p;function g(T){return T?Object.keys(T).filter(A=>A!=="__proto__"):[]}Rt.allSchemaProperties=g;function v(T,A){return g(A).filter(M=>!(0,t.alwaysValidSchema)(T,A[M]))}Rt.schemaProperties=v;function b({schemaCode:T,data:A,it:{gen:M,topSchemaRef:C,schemaPath:N,errorPath:P},it:L},j,q,H){const K=H?(0,e._)`${T}, ${A}, ${C}${N}`:A,ee=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,P)],[n.default.parentData,L.parentData],[n.default.parentDataProperty,L.parentDataProperty],[n.default.rootData,n.default.rootData]];L.opts.dynamicRef&&ee.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const Q=(0,e._)`${K}, ${M.object(...ee)}`;return q!==e.nil?(0,e._)`${j}.call(${q}, ${Q})`:(0,e._)`${j}(${Q})`}Rt.callValidateCode=b;const E=(0,e._)`new RegExp`;function R({gen:T,it:{opts:A}},M){const C=A.unicodeRegExp?"u":"",{regExp:N}=A.code,P=N(M,C);return T.scopeValue("pattern",{key:P.toString(),ref:P,code:(0,e._)`${N.code==="new RegExp"?E:(0,r.useFunc)(T,N)}(${M}, ${C})`})}Rt.usePattern=R;function k(T){const{gen:A,data:M,keyword:C,it:N}=T,P=A.name("valid");if(N.allErrors){const j=A.let("valid",!0);return L(()=>A.assign(j,!1)),j}return A.var(P,!0),L(()=>A.break()),P;function L(j){const q=A.const("len",(0,e._)`${M}.length`);A.forRange("i",0,q,H=>{T.subschema({keyword:C,dataProp:H,dataPropType:t.Type.Num},P),A.if((0,e.not)(P),j)})}}Rt.validateArray=k;function w(T){const{gen:A,schema:M,keyword:C,it:N}=T;if(!Array.isArray(M))throw new Error("ajv implementation error");if(M.some(q=>(0,t.alwaysValidSchema)(N,q))&&!N.opts.unevaluated)return;const L=A.let("valid",!1),j=A.name("_valid");A.block(()=>M.forEach((q,H)=>{const K=T.subschema({keyword:C,schemaProp:H,compositeRule:!0},j);A.assign(L,(0,e._)`${L} || ${j}`),T.mergeValidEvaluated(K,j)||A.if((0,e.not)(L))})),T.result(L,()=>T.reset(),()=>T.error(!0))}return Rt.validateUnion=w,Rt}var iE;function M8(){if(iE)return jr;iE=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.validateKeywordUsage=jr.validSchemaType=jr.funcKeywordCode=jr.macroKeywordCode=void 0;const e=st(),t=Co(),n=Qr(),r=Cf();function o(v,b){const{gen:E,keyword:R,schema:k,parentSchema:w,it:T}=v,A=b.macro.call(T.self,k,w,T),M=f(E,R,A);T.opts.validateSchema!==!1&&T.self.validateSchema(A,!0);const C=E.name("valid");v.subschema({schema:A,schemaPath:e.nil,errSchemaPath:`${T.errSchemaPath}/${R}`,topSchemaRef:M,compositeRule:!0},C),v.pass(C,()=>v.error(!0))}jr.macroKeywordCode=o;function a(v,b){var E;const{gen:R,keyword:k,schema:w,parentSchema:T,$data:A,it:M}=v;d(M,b);const C=!A&&b.compile?b.compile.call(M.self,w,T,M):b.validate,N=f(R,k,C),P=R.let("valid");v.block$data(P,L),v.ok((E=b.valid)!==null&&E!==void 0?E:P);function L(){if(b.errors===!1)H(),b.modifying&&l(v),K(()=>v.error());else{const ee=b.async?j():q();b.modifying&&l(v),K(()=>c(v,ee))}}function j(){const ee=R.let("ruleErrs",null);return R.try(()=>H((0,e._)`await `),Q=>R.assign(P,!1).if((0,e._)`${Q} instanceof ${M.ValidationError}`,()=>R.assign(ee,(0,e._)`${Q}.errors`),()=>R.throw(Q))),ee}function q(){const ee=(0,e._)`${N}.errors`;return R.assign(ee,null),H(e.nil),ee}function H(ee=b.async?(0,e._)`await `:e.nil){const Q=M.opts.passContext?t.default.this:t.default.self,W=!("compile"in b&&!A||b.schema===!1);R.assign(P,(0,e._)`${ee}${(0,n.callValidateCode)(v,N,Q,W)}`,b.modifying)}function K(ee){var Q;R.if((0,e.not)((Q=b.valid)!==null&&Q!==void 0?Q:P),ee)}}jr.funcKeywordCode=a;function l(v){const{gen:b,data:E,it:R}=v;b.if(R.parentData,()=>b.assign(E,(0,e._)`${R.parentData}[${R.parentDataProperty}]`))}function c(v,b){const{gen:E}=v;E.if((0,e._)`Array.isArray(${b})`,()=>{E.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${b} : ${t.default.vErrors}.concat(${b})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(v)},()=>v.error())}function d({schemaEnv:v},b){if(b.async&&!v.$async)throw new Error("async keyword in sync schema")}function f(v,b,E){if(E===void 0)throw new Error(`keyword "${b}" failed to compile`);return v.scopeValue("keyword",typeof E=="function"?{ref:E}:{ref:E,code:(0,e.stringify)(E)})}function p(v,b,E=!1){return!b.length||b.some(R=>R==="array"?Array.isArray(v):R==="object"?v&&typeof v=="object"&&!Array.isArray(v):typeof v==R||E&&typeof v>"u")}jr.validSchemaType=p;function g({schema:v,opts:b,self:E,errSchemaPath:R},k,w){if(Array.isArray(k.keyword)?!k.keyword.includes(w):k.keyword!==w)throw new Error("ajv implementation error");const T=k.dependencies;if(T!=null&&T.some(A=>!Object.prototype.hasOwnProperty.call(v,A)))throw new Error(`parent schema must have dependencies of ${w}: ${T.join(",")}`);if(k.validateSchema&&!k.validateSchema(v[w])){const M=`keyword "${w}" value is invalid at path "${R}": `+E.errorsText(k.validateSchema.errors);if(b.validateSchema==="log")E.logger.error(M);else throw new Error(M)}}return jr.validateKeywordUsage=g,jr}var Di={},oE;function P8(){if(oE)return Di;oE=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.extendSubschemaMode=Di.extendSubschemaData=Di.getSubschema=void 0;const e=st(),t=bt();function n(a,{keyword:l,schemaProp:c,schema:d,schemaPath:f,errSchemaPath:p,topSchemaRef:g}){if(l!==void 0&&d!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(l!==void 0){const v=a.schema[l];return c===void 0?{schema:v,schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(l)}`,errSchemaPath:`${a.errSchemaPath}/${l}`}:{schema:v[c],schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(l)}${(0,e.getProperty)(c)}`,errSchemaPath:`${a.errSchemaPath}/${l}/${(0,t.escapeFragment)(c)}`}}if(d!==void 0){if(f===void 0||p===void 0||g===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:d,schemaPath:f,topSchemaRef:g,errSchemaPath:p}}throw new Error('either "keyword" or "schema" must be passed')}Di.getSubschema=n;function r(a,l,{dataProp:c,dataPropType:d,data:f,dataTypes:p,propertyName:g}){if(f!==void 0&&c!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:v}=l;if(c!==void 0){const{errorPath:E,dataPathArr:R,opts:k}=l,w=v.let("data",(0,e._)`${l.data}${(0,e.getProperty)(c)}`,!0);b(w),a.errorPath=(0,e.str)`${E}${(0,t.getErrorPath)(c,d,k.jsPropertySyntax)}`,a.parentDataProperty=(0,e._)`${c}`,a.dataPathArr=[...R,a.parentDataProperty]}if(f!==void 0){const E=f instanceof e.Name?f:v.let("data",f,!0);b(E),g!==void 0&&(a.propertyName=g)}p&&(a.dataTypes=p);function b(E){a.data=E,a.dataLevel=l.dataLevel+1,a.dataTypes=[],l.definedProperties=new Set,a.parentData=l.data,a.dataNames=[...l.dataNames,E]}}Di.extendSubschemaData=r;function o(a,{jtdDiscriminator:l,jtdMetadata:c,compositeRule:d,createErrors:f,allErrors:p}){d!==void 0&&(a.compositeRule=d),f!==void 0&&(a.createErrors=f),p!==void 0&&(a.allErrors=p),a.jtdDiscriminator=l,a.jtdMetadata=c}return Di.extendSubschemaMode=o,Di}var Fn={},_m,sE;function JC(){return sE||(sE=1,_m=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,o,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[o]))return!1;for(o=r;o--!==0;){var l=a[o];if(!e(t[l],n[l]))return!1}return!0}return t!==t&&n!==n}),_m}var bm={exports:{}},aE;function D8(){if(aE)return bm.exports;aE=1;var e=bm.exports=function(r,o,a){typeof o=="function"&&(a=o,o={}),a=o.cb||a;var l=typeof a=="function"?a:a.pre||function(){},c=a.post||function(){};t(o,l,c,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,o,a,l,c,d,f,p,g,v){if(l&&typeof l=="object"&&!Array.isArray(l)){o(l,c,d,f,p,g,v);for(var b in l){var E=l[b];if(Array.isArray(E)){if(b in e.arrayKeywords)for(var R=0;R<E.length;R++)t(r,o,a,E[R],c+"/"+b+"/"+R,d,c,b,l,R)}else if(b in e.propsKeywords){if(E&&typeof E=="object")for(var k in E)t(r,o,a,E[k],c+"/"+b+"/"+n(k),d,c,b,l,k)}else(b in e.keywords||r.allKeys&&!(b in e.skipKeywords))&&t(r,o,a,E,c+"/"+b,d,c,b,l)}a(l,c,d,f,p,g,v)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return bm.exports}var lE;function Af(){if(lE)return Fn;lE=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.getSchemaRefs=Fn.resolveUrl=Fn.normalizeId=Fn._getFullPath=Fn.getFullPath=Fn.inlineRef=void 0;const e=bt(),t=JC(),n=D8(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function o(R,k=!0){return typeof R=="boolean"?!0:k===!0?!l(R):k?c(R)<=k:!1}Fn.inlineRef=o;const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function l(R){for(const k in R){if(a.has(k))return!0;const w=R[k];if(Array.isArray(w)&&w.some(l)||typeof w=="object"&&l(w))return!0}return!1}function c(R){let k=0;for(const w in R){if(w==="$ref")return 1/0;if(k++,!r.has(w)&&(typeof R[w]=="object"&&(0,e.eachItem)(R[w],T=>k+=c(T)),k===1/0))return 1/0}return k}function d(R,k="",w){w!==!1&&(k=g(k));const T=R.parse(k);return f(R,T)}Fn.getFullPath=d;function f(R,k){return R.serialize(k).split("#")[0]+"#"}Fn._getFullPath=f;const p=/#\/?$/;function g(R){return R?R.replace(p,""):""}Fn.normalizeId=g;function v(R,k,w){return w=g(w),R.resolve(k,w)}Fn.resolveUrl=v;const b=/^[a-z_][-a-z0-9._]*$/i;function E(R,k){if(typeof R=="boolean")return{};const{schemaId:w,uriResolver:T}=this.opts,A=g(R[w]||k),M={"":A},C=d(T,A,!1),N={},P=new Set;return n(R,{allKeys:!0},(q,H,K,ee)=>{if(ee===void 0)return;const Q=C+H;let W=M[ee];typeof q[w]=="string"&&(W=G.call(this,q[w])),ce.call(this,q.$anchor),ce.call(this,q.$dynamicAnchor),M[H]=W;function G(_e){const ze=this.opts.uriResolver.resolve;if(_e=g(W?ze(W,_e):_e),P.has(_e))throw j(_e);P.add(_e);let $=this.refs[_e];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?L(q,$.schema,_e):_e!==g(Q)&&(_e[0]==="#"?(L(q,N[_e],_e),N[_e]=q):this.refs[_e]=Q),_e}function ce(_e){if(typeof _e=="string"){if(!b.test(_e))throw new Error(`invalid anchor "${_e}"`);G.call(this,`#${_e}`)}}}),N;function L(q,H,K){if(H!==void 0&&!t(q,H))throw j(K)}function j(q){return new Error(`reference "${q}" resolves to more than one schema`)}}return Fn.getSchemaRefs=E,Fn}var uE;function Nf(){if(uE)return Mi;uE=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.getData=Mi.KeywordCxt=Mi.validateFunctionCode=void 0;const e=R8(),t=Zd(),n=GC(),r=Zd(),o=I8(),a=M8(),l=P8(),c=st(),d=Co(),f=Af(),p=bt(),g=Cf();function v(Y){if(C(Y)&&(P(Y),M(Y))){k(Y);return}b(Y,()=>(0,e.topBoolOrEmptySchema)(Y))}Mi.validateFunctionCode=v;function b({gen:Y,validateName:ne,schema:me,schemaEnv:be,opts:Ae},He){Ae.code.es5?Y.func(ne,(0,c._)`${d.default.data}, ${d.default.valCxt}`,be.$async,()=>{Y.code((0,c._)`"use strict"; ${T(me,Ae)}`),R(Y,Ae),Y.code(He)}):Y.func(ne,(0,c._)`${d.default.data}, ${E(Ae)}`,be.$async,()=>Y.code(T(me,Ae)).code(He))}function E(Y){return(0,c._)`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${Y.dynamicRef?(0,c._)`, ${d.default.dynamicAnchors}={}`:c.nil}}={}`}function R(Y,ne){Y.if(d.default.valCxt,()=>{Y.var(d.default.instancePath,(0,c._)`${d.default.valCxt}.${d.default.instancePath}`),Y.var(d.default.parentData,(0,c._)`${d.default.valCxt}.${d.default.parentData}`),Y.var(d.default.parentDataProperty,(0,c._)`${d.default.valCxt}.${d.default.parentDataProperty}`),Y.var(d.default.rootData,(0,c._)`${d.default.valCxt}.${d.default.rootData}`),ne.dynamicRef&&Y.var(d.default.dynamicAnchors,(0,c._)`${d.default.valCxt}.${d.default.dynamicAnchors}`)},()=>{Y.var(d.default.instancePath,(0,c._)`""`),Y.var(d.default.parentData,(0,c._)`undefined`),Y.var(d.default.parentDataProperty,(0,c._)`undefined`),Y.var(d.default.rootData,d.default.data),ne.dynamicRef&&Y.var(d.default.dynamicAnchors,(0,c._)`{}`)})}function k(Y){const{schema:ne,opts:me,gen:be}=Y;b(Y,()=>{me.$comment&&ne.$comment&&ee(Y),q(Y),be.let(d.default.vErrors,null),be.let(d.default.errors,0),me.unevaluated&&w(Y),L(Y),Q(Y)})}function w(Y){const{gen:ne,validateName:me}=Y;Y.evaluated=ne.const("evaluated",(0,c._)`${me}.evaluated`),ne.if((0,c._)`${Y.evaluated}.dynamicProps`,()=>ne.assign((0,c._)`${Y.evaluated}.props`,(0,c._)`undefined`)),ne.if((0,c._)`${Y.evaluated}.dynamicItems`,()=>ne.assign((0,c._)`${Y.evaluated}.items`,(0,c._)`undefined`))}function T(Y,ne){const me=typeof Y=="object"&&Y[ne.schemaId];return me&&(ne.code.source||ne.code.process)?(0,c._)`/*# sourceURL=${me} */`:c.nil}function A(Y,ne){if(C(Y)&&(P(Y),M(Y))){N(Y,ne);return}(0,e.boolOrEmptySchema)(Y,ne)}function M({schema:Y,self:ne}){if(typeof Y=="boolean")return!Y;for(const me in Y)if(ne.RULES.all[me])return!0;return!1}function C(Y){return typeof Y.schema!="boolean"}function N(Y,ne){const{schema:me,gen:be,opts:Ae}=Y;Ae.$comment&&me.$comment&&ee(Y),H(Y),K(Y);const He=be.const("_errs",d.default.errors);L(Y,He),be.var(ne,(0,c._)`${He} === ${d.default.errors}`)}function P(Y){(0,p.checkUnknownRules)(Y),j(Y)}function L(Y,ne){if(Y.opts.jtd)return G(Y,[],!1,ne);const me=(0,t.getSchemaTypes)(Y.schema),be=(0,t.coerceAndCheckDataType)(Y,me);G(Y,me,!be,ne)}function j(Y){const{schema:ne,errSchemaPath:me,opts:be,self:Ae}=Y;ne.$ref&&be.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(ne,Ae.RULES)&&Ae.logger.warn(`$ref: keywords ignored in schema at path "${me}"`)}function q(Y){const{schema:ne,opts:me}=Y;ne.default!==void 0&&me.useDefaults&&me.strictSchema&&(0,p.checkStrictMode)(Y,"default is ignored in the schema root")}function H(Y){const ne=Y.schema[Y.opts.schemaId];ne&&(Y.baseId=(0,f.resolveUrl)(Y.opts.uriResolver,Y.baseId,ne))}function K(Y){if(Y.schema.$async&&!Y.schemaEnv.$async)throw new Error("async schema in sync schema")}function ee({gen:Y,schemaEnv:ne,schema:me,errSchemaPath:be,opts:Ae}){const He=me.$comment;if(Ae.$comment===!0)Y.code((0,c._)`${d.default.self}.logger.log(${He})`);else if(typeof Ae.$comment=="function"){const It=(0,c.str)`${be}/$comment`,Ye=Y.scopeValue("root",{ref:ne.root});Y.code((0,c._)`${d.default.self}.opts.$comment(${He}, ${It}, ${Ye}.schema)`)}}function Q(Y){const{gen:ne,schemaEnv:me,validateName:be,ValidationError:Ae,opts:He}=Y;me.$async?ne.if((0,c._)`${d.default.errors} === 0`,()=>ne.return(d.default.data),()=>ne.throw((0,c._)`new ${Ae}(${d.default.vErrors})`)):(ne.assign((0,c._)`${be}.errors`,d.default.vErrors),He.unevaluated&&W(Y),ne.return((0,c._)`${d.default.errors} === 0`))}function W({gen:Y,evaluated:ne,props:me,items:be}){me instanceof c.Name&&Y.assign((0,c._)`${ne}.props`,me),be instanceof c.Name&&Y.assign((0,c._)`${ne}.items`,be)}function G(Y,ne,me,be){const{gen:Ae,schema:He,data:It,allErrors:Ye,opts:gt,self:wt}=Y,{RULES:xt}=wt;if(He.$ref&&(gt.ignoreKeywordsWithRef||!(0,p.schemaHasRulesButRef)(He,xt))){Ae.block(()=>se(Y,"$ref",xt.all.$ref.definition));return}gt.jtd||_e(Y,ne),Ae.block(()=>{for(const fe of xt.rules)Tn(fe);Tn(xt.post)});function Tn(fe){(0,n.shouldUseGroup)(He,fe)&&(fe.type?(Ae.if((0,r.checkDataType)(fe.type,It,gt.strictNumbers)),ce(Y,fe),ne.length===1&&ne[0]===fe.type&&me&&(Ae.else(),(0,r.reportTypeError)(Y)),Ae.endIf()):ce(Y,fe),Ye||Ae.if((0,c._)`${d.default.errors} === ${be||0}`))}}function ce(Y,ne){const{gen:me,schema:be,opts:{useDefaults:Ae}}=Y;Ae&&(0,o.assignDefaults)(Y,ne.type),me.block(()=>{for(const He of ne.rules)(0,n.shouldUseRule)(be,He)&&se(Y,He.keyword,He.definition,ne.type)})}function _e(Y,ne){Y.schemaEnv.meta||!Y.opts.strictTypes||(ze(Y,ne),Y.opts.allowUnionTypes||$(Y,ne),z(Y,Y.dataTypes))}function ze(Y,ne){if(ne.length){if(!Y.dataTypes.length){Y.dataTypes=ne;return}ne.forEach(me=>{D(Y.dataTypes,me)||V(Y,`type "${me}" not allowed by context "${Y.dataTypes.join(",")}"`)}),O(Y,ne)}}function $(Y,ne){ne.length>1&&!(ne.length===2&&ne.includes("null"))&&V(Y,"use allowUnionTypes to allow union type keyword")}function z(Y,ne){const me=Y.self.RULES.all;for(const be in me){const Ae=me[be];if(typeof Ae=="object"&&(0,n.shouldUseRule)(Y.schema,Ae)){const{type:He}=Ae.definition;He.length&&!He.some(It=>B(ne,It))&&V(Y,`missing type "${He.join(",")}" for keyword "${be}"`)}}}function B(Y,ne){return Y.includes(ne)||ne==="number"&&Y.includes("integer")}function D(Y,ne){return Y.includes(ne)||ne==="integer"&&Y.includes("number")}function O(Y,ne){const me=[];for(const be of Y.dataTypes)D(ne,be)?me.push(be):ne.includes("integer")&&be==="number"&&me.push("integer");Y.dataTypes=me}function V(Y,ne){const me=Y.schemaEnv.baseId+Y.errSchemaPath;ne+=` at "${me}" (strictTypes)`,(0,p.checkStrictMode)(Y,ne,Y.opts.strictTypes)}class X{constructor(ne,me,be){if((0,a.validateKeywordUsage)(ne,me,be),this.gen=ne.gen,this.allErrors=ne.allErrors,this.keyword=be,this.data=ne.data,this.schema=ne.schema[be],this.$data=me.$data&&ne.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,p.schemaRefOrVal)(ne,this.schema,be,this.$data),this.schemaType=me.schemaType,this.parentSchema=ne.schema,this.params={},this.it=ne,this.def=me,this.$data)this.schemaCode=ne.gen.const("vSchema",Ue(this.$data,ne));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,me.schemaType,me.allowUndefined))throw new Error(`${be} value must be ${JSON.stringify(me.schemaType)}`);("code"in me?me.trackErrors:me.errors!==!1)&&(this.errsCount=ne.gen.const("_errs",d.default.errors))}result(ne,me,be){this.failResult((0,c.not)(ne),me,be)}failResult(ne,me,be){this.gen.if(ne),be?be():this.error(),me?(this.gen.else(),me(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(ne,me){this.failResult((0,c.not)(ne),void 0,me)}fail(ne){if(ne===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(ne),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(ne){if(!this.$data)return this.fail(ne);const{schemaCode:me}=this;this.fail((0,c._)`${me} !== undefined && (${(0,c.or)(this.invalid$data(),ne)})`)}error(ne,me,be){if(me){this.setParams(me),this._error(ne,be),this.setParams({});return}this._error(ne,be)}_error(ne,me){(ne?g.reportExtraError:g.reportError)(this,this.def.error,me)}$dataError(){(0,g.reportError)(this,this.def.$dataError||g.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,g.resetErrorsCount)(this.gen,this.errsCount)}ok(ne){this.allErrors||this.gen.if(ne)}setParams(ne,me){me?Object.assign(this.params,ne):this.params=ne}block$data(ne,me,be=c.nil){this.gen.block(()=>{this.check$data(ne,be),me()})}check$data(ne=c.nil,me=c.nil){if(!this.$data)return;const{gen:be,schemaCode:Ae,schemaType:He,def:It}=this;be.if((0,c.or)((0,c._)`${Ae} === undefined`,me)),ne!==c.nil&&be.assign(ne,!0),(He.length||It.validateSchema)&&(be.elseIf(this.invalid$data()),this.$dataError(),ne!==c.nil&&be.assign(ne,!1)),be.else()}invalid$data(){const{gen:ne,schemaCode:me,schemaType:be,def:Ae,it:He}=this;return(0,c.or)(It(),Ye());function It(){if(be.length){if(!(me instanceof c.Name))throw new Error("ajv implementation error");const gt=Array.isArray(be)?be:[be];return(0,c._)`${(0,r.checkDataTypes)(gt,me,He.opts.strictNumbers,r.DataType.Wrong)}`}return c.nil}function Ye(){if(Ae.validateSchema){const gt=ne.scopeValue("validate$data",{ref:Ae.validateSchema});return(0,c._)`!${gt}(${me})`}return c.nil}}subschema(ne,me){const be=(0,l.getSubschema)(this.it,ne);(0,l.extendSubschemaData)(be,this.it,ne),(0,l.extendSubschemaMode)(be,ne);const Ae={...this.it,...be,items:void 0,props:void 0};return A(Ae,me),Ae}mergeEvaluated(ne,me){const{it:be,gen:Ae}=this;be.opts.unevaluated&&(be.props!==!0&&ne.props!==void 0&&(be.props=p.mergeEvaluated.props(Ae,ne.props,be.props,me)),be.items!==!0&&ne.items!==void 0&&(be.items=p.mergeEvaluated.items(Ae,ne.items,be.items,me)))}mergeValidEvaluated(ne,me){const{it:be,gen:Ae}=this;if(be.opts.unevaluated&&(be.props!==!0||be.items!==!0))return Ae.if(me,()=>this.mergeEvaluated(ne,c.Name)),!0}}Mi.KeywordCxt=X;function se(Y,ne,me,be){const Ae=new X(Y,me,ne);"code"in me?me.code(Ae,be):Ae.$data&&me.validate?(0,a.funcKeywordCode)(Ae,me):"macro"in me?(0,a.macroKeywordCode)(Ae,me):(me.compile||me.validate)&&(0,a.funcKeywordCode)(Ae,me)}const xe=/^\/(?:[^~]|~0|~1)*$/,Ce=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ue(Y,{dataLevel:ne,dataNames:me,dataPathArr:be}){let Ae,He;if(Y==="")return d.default.rootData;if(Y[0]==="/"){if(!xe.test(Y))throw new Error(`Invalid JSON-pointer: ${Y}`);Ae=Y,He=d.default.rootData}else{const wt=Ce.exec(Y);if(!wt)throw new Error(`Invalid JSON-pointer: ${Y}`);const xt=+wt[1];if(Ae=wt[2],Ae==="#"){if(xt>=ne)throw new Error(gt("property/index",xt));return be[ne-xt]}if(xt>ne)throw new Error(gt("data",xt));if(He=me[ne-xt],!Ae)return He}let It=He;const Ye=Ae.split("/");for(const wt of Ye)wt&&(He=(0,c._)`${He}${(0,c.getProperty)((0,p.unescapeJsonPointer)(wt))}`,It=(0,c._)`${It} && ${He}`);return It;function gt(wt,xt){return`Cannot access ${wt} ${xt} levels up, current level is ${ne}`}}return Mi.getData=Ue,Mi}var Ic={},cE;function L0(){if(cE)return Ic;cE=1,Object.defineProperty(Ic,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return Ic.default=e,Ic}var Mc={},dE;function Rf(){if(dE)return Mc;dE=1,Object.defineProperty(Mc,"__esModule",{value:!0});const e=Af();class t extends Error{constructor(r,o,a,l){super(l||`can't resolve reference ${a} from id ${o}`),this.missingRef=(0,e.resolveUrl)(r,o,a),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return Mc.default=t,Mc}var yr={},fE;function q0(){if(fE)return yr;fE=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.resolveSchema=yr.getCompilingSchema=yr.resolveRef=yr.compileSchema=yr.SchemaEnv=void 0;const e=st(),t=L0(),n=Co(),r=Af(),o=bt(),a=Nf();class l{constructor(w){var T;this.refs={},this.dynamicAnchors={};let A;typeof w.schema=="object"&&(A=w.schema),this.schema=w.schema,this.schemaId=w.schemaId,this.root=w.root||this,this.baseId=(T=w.baseId)!==null&&T!==void 0?T:(0,r.normalizeId)(A==null?void 0:A[w.schemaId||"$id"]),this.schemaPath=w.schemaPath,this.localRefs=w.localRefs,this.meta=w.meta,this.$async=A==null?void 0:A.$async,this.refs={}}}yr.SchemaEnv=l;function c(k){const w=p.call(this,k);if(w)return w;const T=(0,r.getFullPath)(this.opts.uriResolver,k.root.baseId),{es5:A,lines:M}=this.opts.code,{ownProperties:C}=this.opts,N=new e.CodeGen(this.scope,{es5:A,lines:M,ownProperties:C});let P;k.$async&&(P=N.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const L=N.scopeName("validate");k.validateName=L;const j={gen:N,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:N.scopeValue("schema",this.opts.code.source===!0?{ref:k.schema,code:(0,e.stringify)(k.schema)}:{ref:k.schema}),validateName:L,ValidationError:P,schema:k.schema,schemaEnv:k,rootId:T,baseId:k.baseId||T,schemaPath:e.nil,errSchemaPath:k.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let q;try{this._compilations.add(k),(0,a.validateFunctionCode)(j),N.optimize(this.opts.code.optimize);const H=N.toString();q=`${N.scopeRefs(n.default.scope)}return ${H}`,this.opts.code.process&&(q=this.opts.code.process(q,k));const ee=new Function(`${n.default.self}`,`${n.default.scope}`,q)(this,this.scope.get());if(this.scope.value(L,{ref:ee}),ee.errors=null,ee.schema=k.schema,ee.schemaEnv=k,k.$async&&(ee.$async=!0),this.opts.code.source===!0&&(ee.source={validateName:L,validateCode:H,scopeValues:N._values}),this.opts.unevaluated){const{props:Q,items:W}=j;ee.evaluated={props:Q instanceof e.Name?void 0:Q,items:W instanceof e.Name?void 0:W,dynamicProps:Q instanceof e.Name,dynamicItems:W instanceof e.Name},ee.source&&(ee.source.evaluated=(0,e.stringify)(ee.evaluated))}return k.validate=ee,k}catch(H){throw delete k.validate,delete k.validateName,q&&this.logger.error("Error compiling schema, function code:",q),H}finally{this._compilations.delete(k)}}yr.compileSchema=c;function d(k,w,T){var A;T=(0,r.resolveUrl)(this.opts.uriResolver,w,T);const M=k.refs[T];if(M)return M;let C=v.call(this,k,T);if(C===void 0){const N=(A=k.localRefs)===null||A===void 0?void 0:A[T],{schemaId:P}=this.opts;N&&(C=new l({schema:N,schemaId:P,root:k,baseId:w}))}if(C!==void 0)return k.refs[T]=f.call(this,C)}yr.resolveRef=d;function f(k){return(0,r.inlineRef)(k.schema,this.opts.inlineRefs)?k.schema:k.validate?k:c.call(this,k)}function p(k){for(const w of this._compilations)if(g(w,k))return w}yr.getCompilingSchema=p;function g(k,w){return k.schema===w.schema&&k.root===w.root&&k.baseId===w.baseId}function v(k,w){let T;for(;typeof(T=this.refs[w])=="string";)w=T;return T||this.schemas[w]||b.call(this,k,w)}function b(k,w){const T=this.opts.uriResolver.parse(w),A=(0,r._getFullPath)(this.opts.uriResolver,T);let M=(0,r.getFullPath)(this.opts.uriResolver,k.baseId,void 0);if(Object.keys(k.schema).length>0&&A===M)return R.call(this,T,k);const C=(0,r.normalizeId)(A),N=this.refs[C]||this.schemas[C];if(typeof N=="string"){const P=b.call(this,k,N);return typeof(P==null?void 0:P.schema)!="object"?void 0:R.call(this,T,P)}if(typeof(N==null?void 0:N.schema)=="object"){if(N.validate||c.call(this,N),C===(0,r.normalizeId)(w)){const{schema:P}=N,{schemaId:L}=this.opts,j=P[L];return j&&(M=(0,r.resolveUrl)(this.opts.uriResolver,M,j)),new l({schema:P,schemaId:L,root:k,baseId:M})}return R.call(this,T,N)}}yr.resolveSchema=b;const E=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function R(k,{baseId:w,schema:T,root:A}){var M;if(((M=k.fragment)===null||M===void 0?void 0:M[0])!=="/")return;for(const P of k.fragment.slice(1).split("/")){if(typeof T=="boolean")return;const L=T[(0,o.unescapeFragment)(P)];if(L===void 0)return;T=L;const j=typeof T=="object"&&T[this.opts.schemaId];!E.has(P)&&j&&(w=(0,r.resolveUrl)(this.opts.uriResolver,w,j))}let C;if(typeof T!="boolean"&&T.$ref&&!(0,o.schemaHasRulesButRef)(T,this.RULES)){const P=(0,r.resolveUrl)(this.opts.uriResolver,w,T.$ref);C=b.call(this,A,P)}const{schemaId:N}=this.opts;if(C=C||new l({schema:T,schemaId:N,root:A,baseId:w}),C.schema!==C.root.schema)return C}return yr}const z8="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",O8="Meta-schema for $data reference (JSON AnySchema extension proposal)",U8="object",$8=["$data"],L8={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},q8=!1,V8={$id:z8,description:O8,type:U8,required:$8,properties:L8,additionalProperties:q8};var Pc={},Cl={exports:{}},xm,hE;function ZC(){if(hE)return xm;hE=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),t=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function n(v){let b="",E=0,R=0;for(R=0;R<v.length;R++)if(E=v[R].charCodeAt(0),E!==48){if(!(E>=48&&E<=57||E>=65&&E<=70||E>=97&&E<=102))return"";b+=v[R];break}for(R+=1;R<v.length;R++){if(E=v[R].charCodeAt(0),!(E>=48&&E<=57||E>=65&&E<=70||E>=97&&E<=102))return"";b+=v[R]}return b}const r=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function o(v){return v.length=0,!0}function a(v,b,E){if(v.length){const R=n(v);if(R!=="")b.push(R);else return E.error=!0,!1;v.length=0}return!0}function l(v){let b=0;const E={error:!1,address:"",zone:""},R=[],k=[];let w=!1,T=!1,A=a;for(let M=0;M<v.length;M++){const C=v[M];if(!(C==="["||C==="]"))if(C===":"){if(w===!0&&(T=!0),!A(k,R,E))break;if(++b>7){E.error=!0;break}M>0&&v[M-1]===":"&&(w=!0),R.push(":");continue}else if(C==="%"){if(!A(k,R,E))break;A=o}else{k.push(C);continue}}return k.length&&(A===o?E.zone=k.join(""):T?R.push(k.join("")):R.push(n(k))),E.address=R.join(""),E}function c(v){if(d(v,":")<2)return{host:v,isIPV6:!1};const b=l(v);if(b.error)return{host:v,isIPV6:!1};{let E=b.address,R=b.address;return b.zone&&(E+="%"+b.zone,R+="%25"+b.zone),{host:E,isIPV6:!0,escapedHost:R}}}function d(v,b){let E=0;for(let R=0;R<v.length;R++)v[R]===b&&E++;return E}function f(v){let b=v;const E=[];let R=-1,k=0;for(;k=b.length;){if(k===1){if(b===".")break;if(b==="/"){E.push("/");break}else{E.push(b);break}}else if(k===2){if(b[0]==="."){if(b[1]===".")break;if(b[1]==="/"){b=b.slice(2);continue}}else if(b[0]==="/"&&(b[1]==="."||b[1]==="/")){E.push("/");break}}else if(k===3&&b==="/.."){E.length!==0&&E.pop(),E.push("/");break}if(b[0]==="."){if(b[1]==="."){if(b[2]==="/"){b=b.slice(3);continue}}else if(b[1]==="/"){b=b.slice(2);continue}}else if(b[0]==="/"&&b[1]==="."){if(b[2]==="/"){b=b.slice(2);continue}else if(b[2]==="."&&b[3]==="/"){b=b.slice(3),E.length!==0&&E.pop();continue}}if((R=b.indexOf("/",1))===-1){E.push(b);break}else E.push(b.slice(0,R)),b=b.slice(R)}return E.join("")}function p(v,b){const E=b!==!0?escape:unescape;return v.scheme!==void 0&&(v.scheme=E(v.scheme)),v.userinfo!==void 0&&(v.userinfo=E(v.userinfo)),v.host!==void 0&&(v.host=E(v.host)),v.path!==void 0&&(v.path=E(v.path)),v.query!==void 0&&(v.query=E(v.query)),v.fragment!==void 0&&(v.fragment=E(v.fragment)),v}function g(v){const b=[];if(v.userinfo!==void 0&&(b.push(v.userinfo),b.push("@")),v.host!==void 0){let E=unescape(v.host);if(!t(E)){const R=c(E);R.isIPV6===!0?E=`[${R.escapedHost}]`:E=v.host}b.push(E)}return(typeof v.port=="number"||typeof v.port=="string")&&(b.push(":"),b.push(String(v.port))),b.length?b.join(""):void 0}return xm={nonSimpleDomain:r,recomposeAuthority:g,normalizeComponentEncoding:p,removeDotSegments:f,isIPv4:t,isUUID:e,normalizeIPv6:c,stringArrayToHexStripped:n},xm}var Sm,pE;function j8(){if(pE)return Sm;pE=1;const{isUUID:e}=ZC(),t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,n=["http","https","ws","wss","urn","urn:uuid"];function r(C){return n.indexOf(C)!==-1}function o(C){return C.secure===!0?!0:C.secure===!1?!1:C.scheme?C.scheme.length===3&&(C.scheme[0]==="w"||C.scheme[0]==="W")&&(C.scheme[1]==="s"||C.scheme[1]==="S")&&(C.scheme[2]==="s"||C.scheme[2]==="S"):!1}function a(C){return C.host||(C.error=C.error||"HTTP URIs must have a host."),C}function l(C){const N=String(C.scheme).toLowerCase()==="https";return(C.port===(N?443:80)||C.port==="")&&(C.port=void 0),C.path||(C.path="/"),C}function c(C){return C.secure=o(C),C.resourceName=(C.path||"/")+(C.query?"?"+C.query:""),C.path=void 0,C.query=void 0,C}function d(C){if((C.port===(o(C)?443:80)||C.port==="")&&(C.port=void 0),typeof C.secure=="boolean"&&(C.scheme=C.secure?"wss":"ws",C.secure=void 0),C.resourceName){const[N,P]=C.resourceName.split("?");C.path=N&&N!=="/"?N:void 0,C.query=P,C.resourceName=void 0}return C.fragment=void 0,C}function f(C,N){if(!C.path)return C.error="URN can not be parsed",C;const P=C.path.match(t);if(P){const L=N.scheme||C.scheme||"urn";C.nid=P[1].toLowerCase(),C.nss=P[2];const j=`${L}:${N.nid||C.nid}`,q=M(j);C.path=void 0,q&&(C=q.parse(C,N))}else C.error=C.error||"URN can not be parsed.";return C}function p(C,N){if(C.nid===void 0)throw new Error("URN without nid cannot be serialized");const P=N.scheme||C.scheme||"urn",L=C.nid.toLowerCase(),j=`${P}:${N.nid||L}`,q=M(j);q&&(C=q.serialize(C,N));const H=C,K=C.nss;return H.path=`${L||N.nid}:${K}`,N.skipEscape=!0,H}function g(C,N){const P=C;return P.uuid=P.nss,P.nss=void 0,!N.tolerant&&(!P.uuid||!e(P.uuid))&&(P.error=P.error||"UUID is not valid."),P}function v(C){const N=C;return N.nss=(C.uuid||"").toLowerCase(),N}const b={scheme:"http",domainHost:!0,parse:a,serialize:l},E={scheme:"https",domainHost:b.domainHost,parse:a,serialize:l},R={scheme:"ws",domainHost:!0,parse:c,serialize:d},k={scheme:"wss",domainHost:R.domainHost,parse:R.parse,serialize:R.serialize},A={http:b,https:E,ws:R,wss:k,urn:{scheme:"urn",parse:f,serialize:p,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:g,serialize:v,skipNormalize:!0}};Object.setPrototypeOf(A,null);function M(C){return C&&(A[C]||A[C.toLowerCase()])||void 0}return Sm={wsIsSecure:o,SCHEMES:A,isValidSchemeName:r,getSchemeHandler:M},Sm}var mE;function H8(){if(mE)return Cl.exports;mE=1;const{normalizeIPv6:e,removeDotSegments:t,recomposeAuthority:n,normalizeComponentEncoding:r,isIPv4:o,nonSimpleDomain:a}=ZC(),{SCHEMES:l,getSchemeHandler:c}=j8();function d(k,w){return typeof k=="string"?k=v(E(k,w),w):typeof k=="object"&&(k=E(v(k,w),w)),k}function f(k,w,T){const A=T?Object.assign({scheme:"null"},T):{scheme:"null"},M=p(E(k,A),E(w,A),A,!0);return A.skipEscape=!0,v(M,A)}function p(k,w,T,A){const M={};return A||(k=E(v(k,T),T),w=E(v(w,T),T)),T=T||{},!T.tolerant&&w.scheme?(M.scheme=w.scheme,M.userinfo=w.userinfo,M.host=w.host,M.port=w.port,M.path=t(w.path||""),M.query=w.query):(w.userinfo!==void 0||w.host!==void 0||w.port!==void 0?(M.userinfo=w.userinfo,M.host=w.host,M.port=w.port,M.path=t(w.path||""),M.query=w.query):(w.path?(w.path[0]==="/"?M.path=t(w.path):((k.userinfo!==void 0||k.host!==void 0||k.port!==void 0)&&!k.path?M.path="/"+w.path:k.path?M.path=k.path.slice(0,k.path.lastIndexOf("/")+1)+w.path:M.path=w.path,M.path=t(M.path)),M.query=w.query):(M.path=k.path,w.query!==void 0?M.query=w.query:M.query=k.query),M.userinfo=k.userinfo,M.host=k.host,M.port=k.port),M.scheme=k.scheme),M.fragment=w.fragment,M}function g(k,w,T){return typeof k=="string"?(k=unescape(k),k=v(r(E(k,T),!0),{...T,skipEscape:!0})):typeof k=="object"&&(k=v(r(k,!0),{...T,skipEscape:!0})),typeof w=="string"?(w=unescape(w),w=v(r(E(w,T),!0),{...T,skipEscape:!0})):typeof w=="object"&&(w=v(r(w,!0),{...T,skipEscape:!0})),k.toLowerCase()===w.toLowerCase()}function v(k,w){const T={host:k.host,scheme:k.scheme,userinfo:k.userinfo,port:k.port,path:k.path,query:k.query,nid:k.nid,nss:k.nss,uuid:k.uuid,fragment:k.fragment,reference:k.reference,resourceName:k.resourceName,secure:k.secure,error:""},A=Object.assign({},w),M=[],C=c(A.scheme||T.scheme);C&&C.serialize&&C.serialize(T,A),T.path!==void 0&&(A.skipEscape?T.path=unescape(T.path):(T.path=escape(T.path),T.scheme!==void 0&&(T.path=T.path.split("%3A").join(":")))),A.reference!=="suffix"&&T.scheme&&M.push(T.scheme,":");const N=n(T);if(N!==void 0&&(A.reference!=="suffix"&&M.push("//"),M.push(N),T.path&&T.path[0]!=="/"&&M.push("/")),T.path!==void 0){let P=T.path;!A.absolutePath&&(!C||!C.absolutePath)&&(P=t(P)),N===void 0&&P[0]==="/"&&P[1]==="/"&&(P="/%2F"+P.slice(2)),M.push(P)}return T.query!==void 0&&M.push("?",T.query),T.fragment!==void 0&&M.push("#",T.fragment),M.join("")}const b=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function E(k,w){const T=Object.assign({},w),A={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let M=!1;T.reference==="suffix"&&(T.scheme?k=T.scheme+":"+k:k="//"+k);const C=k.match(b);if(C){if(A.scheme=C[1],A.userinfo=C[3],A.host=C[4],A.port=parseInt(C[5],10),A.path=C[6]||"",A.query=C[7],A.fragment=C[8],isNaN(A.port)&&(A.port=C[5]),A.host)if(o(A.host)===!1){const L=e(A.host);A.host=L.host.toLowerCase(),M=L.isIPV6}else M=!0;A.scheme===void 0&&A.userinfo===void 0&&A.host===void 0&&A.port===void 0&&A.query===void 0&&!A.path?A.reference="same-document":A.scheme===void 0?A.reference="relative":A.fragment===void 0?A.reference="absolute":A.reference="uri",T.reference&&T.reference!=="suffix"&&T.reference!==A.reference&&(A.error=A.error||"URI is not a "+T.reference+" reference.");const N=c(T.scheme||A.scheme);if(!T.unicodeSupport&&(!N||!N.unicodeSupport)&&A.host&&(T.domainHost||N&&N.domainHost)&&M===!1&&a(A.host))try{A.host=URL.domainToASCII(A.host.toLowerCase())}catch(P){A.error=A.error||"Host's domain name can not be converted to ASCII: "+P}(!N||N&&!N.skipNormalize)&&(k.indexOf("%")!==-1&&(A.scheme!==void 0&&(A.scheme=unescape(A.scheme)),A.host!==void 0&&(A.host=unescape(A.host))),A.path&&(A.path=escape(unescape(A.path))),A.fragment&&(A.fragment=encodeURI(decodeURIComponent(A.fragment)))),N&&N.parse&&N.parse(A,T)}else A.error=A.error||"URI can not be parsed.";return A}const R={SCHEMES:l,normalize:d,resolve:f,resolveComponent:p,equal:g,serialize:v,parse:E};return Cl.exports=R,Cl.exports.default=R,Cl.exports.fastUri=R,Cl.exports}var gE;function B8(){if(gE)return Pc;gE=1,Object.defineProperty(Pc,"__esModule",{value:!0});const e=H8();return e.code='require("ajv/dist/runtime/uri").default',Pc.default=e,Pc}var yE;function F8(){return yE||(yE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Nf();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=st();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=L0(),o=Rf(),a=FC(),l=q0(),c=st(),d=Af(),f=Zd(),p=bt(),g=V8,v=B8(),b=($,z)=>new RegExp($,z);b.code="new RegExp";const E=["removeAdditional","useDefaults","coerceTypes"],R=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),k={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},w={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},T=200;function A($){var z,B,D,O,V,X,se,xe,Ce,Ue,Y,ne,me,be,Ae,He,It,Ye,gt,wt,xt,Tn,fe,Ee,Te;const re=$.strict,we=(z=$.code)===null||z===void 0?void 0:z.optimize,ye=we===!0||we===void 0?1:we||0,Pe=(D=(B=$.code)===null||B===void 0?void 0:B.regExp)!==null&&D!==void 0?D:b,Ve=(O=$.uriResolver)!==null&&O!==void 0?O:v.default;return{strictSchema:(X=(V=$.strictSchema)!==null&&V!==void 0?V:re)!==null&&X!==void 0?X:!0,strictNumbers:(xe=(se=$.strictNumbers)!==null&&se!==void 0?se:re)!==null&&xe!==void 0?xe:!0,strictTypes:(Ue=(Ce=$.strictTypes)!==null&&Ce!==void 0?Ce:re)!==null&&Ue!==void 0?Ue:"log",strictTuples:(ne=(Y=$.strictTuples)!==null&&Y!==void 0?Y:re)!==null&&ne!==void 0?ne:"log",strictRequired:(be=(me=$.strictRequired)!==null&&me!==void 0?me:re)!==null&&be!==void 0?be:!1,code:$.code?{...$.code,optimize:ye,regExp:Pe}:{optimize:ye,regExp:Pe},loopRequired:(Ae=$.loopRequired)!==null&&Ae!==void 0?Ae:T,loopEnum:(He=$.loopEnum)!==null&&He!==void 0?He:T,meta:(It=$.meta)!==null&&It!==void 0?It:!0,messages:(Ye=$.messages)!==null&&Ye!==void 0?Ye:!0,inlineRefs:(gt=$.inlineRefs)!==null&&gt!==void 0?gt:!0,schemaId:(wt=$.schemaId)!==null&&wt!==void 0?wt:"$id",addUsedSchema:(xt=$.addUsedSchema)!==null&&xt!==void 0?xt:!0,validateSchema:(Tn=$.validateSchema)!==null&&Tn!==void 0?Tn:!0,validateFormats:(fe=$.validateFormats)!==null&&fe!==void 0?fe:!0,unicodeRegExp:(Ee=$.unicodeRegExp)!==null&&Ee!==void 0?Ee:!0,int32range:(Te=$.int32range)!==null&&Te!==void 0?Te:!0,uriResolver:Ve}}class M{constructor(z={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,z=this.opts={...z,...A(z)};const{es5:B,lines:D}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:R,es5:B,lines:D}),this.logger=K(z.logger);const O=z.validateFormats;z.validateFormats=!1,this.RULES=(0,a.getRules)(),C.call(this,k,z,"NOT SUPPORTED"),C.call(this,w,z,"DEPRECATED","warn"),this._metaOpts=q.call(this),z.formats&&L.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),z.keywords&&j.call(this,z.keywords),typeof z.meta=="object"&&this.addMetaSchema(z.meta),P.call(this),z.validateFormats=O}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:z,meta:B,schemaId:D}=this.opts;let O=g;D==="id"&&(O={...g},O.id=O.$id,delete O.$id),B&&z&&this.addMetaSchema(O,O[D],!1)}defaultMeta(){const{meta:z,schemaId:B}=this.opts;return this.opts.defaultMeta=typeof z=="object"?z[B]||z:void 0}validate(z,B){let D;if(typeof z=="string"){if(D=this.getSchema(z),!D)throw new Error(`no schema with key or ref "${z}"`)}else D=this.compile(z);const O=D(B);return"$async"in D||(this.errors=D.errors),O}compile(z,B){const D=this._addSchema(z,B);return D.validate||this._compileSchemaEnv(D)}compileAsync(z,B){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:D}=this.opts;return O.call(this,z,B);async function O(Ue,Y){await V.call(this,Ue.$schema);const ne=this._addSchema(Ue,Y);return ne.validate||X.call(this,ne)}async function V(Ue){Ue&&!this.getSchema(Ue)&&await O.call(this,{$ref:Ue},!0)}async function X(Ue){try{return this._compileSchemaEnv(Ue)}catch(Y){if(!(Y instanceof o.default))throw Y;return se.call(this,Y),await xe.call(this,Y.missingSchema),X.call(this,Ue)}}function se({missingSchema:Ue,missingRef:Y}){if(this.refs[Ue])throw new Error(`AnySchema ${Ue} is loaded but ${Y} cannot be resolved`)}async function xe(Ue){const Y=await Ce.call(this,Ue);this.refs[Ue]||await V.call(this,Y.$schema),this.refs[Ue]||this.addSchema(Y,Ue,B)}async function Ce(Ue){const Y=this._loading[Ue];if(Y)return Y;try{return await(this._loading[Ue]=D(Ue))}finally{delete this._loading[Ue]}}}addSchema(z,B,D,O=this.opts.validateSchema){if(Array.isArray(z)){for(const X of z)this.addSchema(X,void 0,D,O);return this}let V;if(typeof z=="object"){const{schemaId:X}=this.opts;if(V=z[X],V!==void 0&&typeof V!="string")throw new Error(`schema ${X} must be string`)}return B=(0,d.normalizeId)(B||V),this._checkUnique(B),this.schemas[B]=this._addSchema(z,D,B,O,!0),this}addMetaSchema(z,B,D=this.opts.validateSchema){return this.addSchema(z,B,!0,D),this}validateSchema(z,B){if(typeof z=="boolean")return!0;let D;if(D=z.$schema,D!==void 0&&typeof D!="string")throw new Error("$schema must be a string");if(D=D||this.opts.defaultMeta||this.defaultMeta(),!D)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const O=this.validate(D,z);if(!O&&B){const V="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(V);else throw new Error(V)}return O}getSchema(z){let B;for(;typeof(B=N.call(this,z))=="string";)z=B;if(B===void 0){const{schemaId:D}=this.opts,O=new l.SchemaEnv({schema:{},schemaId:D});if(B=l.resolveSchema.call(this,O,z),!B)return;this.refs[z]=B}return B.validate||this._compileSchemaEnv(B)}removeSchema(z){if(z instanceof RegExp)return this._removeAllSchemas(this.schemas,z),this._removeAllSchemas(this.refs,z),this;switch(typeof z){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const B=N.call(this,z);return typeof B=="object"&&this._cache.delete(B.schema),delete this.schemas[z],delete this.refs[z],this}case"object":{const B=z;this._cache.delete(B);let D=z[this.opts.schemaId];return D&&(D=(0,d.normalizeId)(D),delete this.schemas[D],delete this.refs[D]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(z){for(const B of z)this.addKeyword(B);return this}addKeyword(z,B){let D;if(typeof z=="string")D=z,typeof B=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),B.keyword=D);else if(typeof z=="object"&&B===void 0){if(B=z,D=B.keyword,Array.isArray(D)&&!D.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Q.call(this,D,B),!B)return(0,p.eachItem)(D,V=>W.call(this,V)),this;ce.call(this,B);const O={...B,type:(0,f.getJSONTypes)(B.type),schemaType:(0,f.getJSONTypes)(B.schemaType)};return(0,p.eachItem)(D,O.type.length===0?V=>W.call(this,V,O):V=>O.type.forEach(X=>W.call(this,V,O,X))),this}getKeyword(z){const B=this.RULES.all[z];return typeof B=="object"?B.definition:!!B}removeKeyword(z){const{RULES:B}=this;delete B.keywords[z],delete B.all[z];for(const D of B.rules){const O=D.rules.findIndex(V=>V.keyword===z);O>=0&&D.rules.splice(O,1)}return this}addFormat(z,B){return typeof B=="string"&&(B=new RegExp(B)),this.formats[z]=B,this}errorsText(z=this.errors,{separator:B=", ",dataVar:D="data"}={}){return!z||z.length===0?"No errors":z.map(O=>`${D}${O.instancePath} ${O.message}`).reduce((O,V)=>O+B+V)}$dataMetaSchema(z,B){const D=this.RULES.all;z=JSON.parse(JSON.stringify(z));for(const O of B){const V=O.split("/").slice(1);let X=z;for(const se of V)X=X[se];for(const se in D){const xe=D[se];if(typeof xe!="object")continue;const{$data:Ce}=xe.definition,Ue=X[se];Ce&&Ue&&(X[se]=ze(Ue))}}return z}_removeAllSchemas(z,B){for(const D in z){const O=z[D];(!B||B.test(D))&&(typeof O=="string"?delete z[D]:O&&!O.meta&&(this._cache.delete(O.schema),delete z[D]))}}_addSchema(z,B,D,O=this.opts.validateSchema,V=this.opts.addUsedSchema){let X;const{schemaId:se}=this.opts;if(typeof z=="object")X=z[se];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof z!="boolean")throw new Error("schema must be object or boolean")}let xe=this._cache.get(z);if(xe!==void 0)return xe;D=(0,d.normalizeId)(X||D);const Ce=d.getSchemaRefs.call(this,z,D);return xe=new l.SchemaEnv({schema:z,schemaId:se,meta:B,baseId:D,localRefs:Ce}),this._cache.set(xe.schema,xe),V&&!D.startsWith("#")&&(D&&this._checkUnique(D),this.refs[D]=xe),O&&this.validateSchema(z,!0),xe}_checkUnique(z){if(this.schemas[z]||this.refs[z])throw new Error(`schema with key or id "${z}" already exists`)}_compileSchemaEnv(z){if(z.meta?this._compileMetaSchema(z):l.compileSchema.call(this,z),!z.validate)throw new Error("ajv implementation error");return z.validate}_compileMetaSchema(z){const B=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,z)}finally{this.opts=B}}}M.ValidationError=r.default,M.MissingRefError=o.default,e.default=M;function C($,z,B,D="error"){for(const O in $){const V=O;V in z&&this.logger[D](`${B}: option ${O}. ${$[V]}`)}}function N($){return $=(0,d.normalizeId)($),this.schemas[$]||this.refs[$]}function P(){const $=this.opts.schemas;if($)if(Array.isArray($))this.addSchema($);else for(const z in $)this.addSchema($[z],z)}function L(){for(const $ in this.opts.formats){const z=this.opts.formats[$];z&&this.addFormat($,z)}}function j($){if(Array.isArray($)){this.addVocabulary($);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const z in $){const B=$[z];B.keyword||(B.keyword=z),this.addKeyword(B)}}function q(){const $={...this.opts};for(const z of E)delete $[z];return $}const H={log(){},warn(){},error(){}};function K($){if($===!1)return H;if($===void 0)return console;if($.log&&$.warn&&$.error)return $;throw new Error("logger must implement log, warn and error methods")}const ee=/^[a-z_$][a-z0-9_$:-]*$/i;function Q($,z){const{RULES:B}=this;if((0,p.eachItem)($,D=>{if(B.keywords[D])throw new Error(`Keyword ${D} is already defined`);if(!ee.test(D))throw new Error(`Keyword ${D} has invalid name`)}),!!z&&z.$data&&!("code"in z||"validate"in z))throw new Error('$data keyword must have "code" or "validate" function')}function W($,z,B){var D;const O=z==null?void 0:z.post;if(B&&O)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:V}=this;let X=O?V.post:V.rules.find(({type:xe})=>xe===B);if(X||(X={type:B,rules:[]},V.rules.push(X)),V.keywords[$]=!0,!z)return;const se={keyword:$,definition:{...z,type:(0,f.getJSONTypes)(z.type),schemaType:(0,f.getJSONTypes)(z.schemaType)}};z.before?G.call(this,X,se,z.before):X.rules.push(se),V.all[$]=se,(D=z.implements)===null||D===void 0||D.forEach(xe=>this.addKeyword(xe))}function G($,z,B){const D=$.rules.findIndex(O=>O.keyword===B);D>=0?$.rules.splice(D,0,z):($.rules.push(z),this.logger.warn(`rule ${B} is not defined`))}function ce($){let{metaSchema:z}=$;z!==void 0&&($.$data&&this.opts.$data&&(z=ze(z)),$.validateSchema=this.compile(z,!0))}const _e={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ze($){return{anyOf:[$,_e]}}})(pm)),pm}var Dc={},zc={},Oc={},vE;function G8(){if(vE)return Oc;vE=1,Object.defineProperty(Oc,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Oc.default=e,Oc}var mo={},_E;function J8(){if(_E)return mo;_E=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.callRef=mo.getValidate=void 0;const e=Rf(),t=Qr(),n=st(),r=Co(),o=q0(),a=bt(),l={keyword:"$ref",schemaType:"string",code(f){const{gen:p,schema:g,it:v}=f,{baseId:b,schemaEnv:E,validateName:R,opts:k,self:w}=v,{root:T}=E;if((g==="#"||g==="#/")&&b===T.baseId)return M();const A=o.resolveRef.call(w,T,b,g);if(A===void 0)throw new e.default(v.opts.uriResolver,b,g);if(A instanceof o.SchemaEnv)return C(A);return N(A);function M(){if(E===T)return d(f,R,E,E.$async);const P=p.scopeValue("root",{ref:T});return d(f,(0,n._)`${P}.validate`,T,T.$async)}function C(P){const L=c(f,P);d(f,L,P,P.$async)}function N(P){const L=p.scopeValue("schema",k.code.source===!0?{ref:P,code:(0,n.stringify)(P)}:{ref:P}),j=p.name("valid"),q=f.subschema({schema:P,dataTypes:[],schemaPath:n.nil,topSchemaRef:L,errSchemaPath:g},j);f.mergeEvaluated(q),f.ok(j)}}};function c(f,p){const{gen:g}=f;return p.validate?g.scopeValue("validate",{ref:p.validate}):(0,n._)`${g.scopeValue("wrapper",{ref:p})}.validate`}mo.getValidate=c;function d(f,p,g,v){const{gen:b,it:E}=f,{allErrors:R,schemaEnv:k,opts:w}=E,T=w.passContext?r.default.this:n.nil;v?A():M();function A(){if(!k.$async)throw new Error("async schema referenced by sync schema");const P=b.let("valid");b.try(()=>{b.code((0,n._)`await ${(0,t.callValidateCode)(f,p,T)}`),N(p),R||b.assign(P,!0)},L=>{b.if((0,n._)`!(${L} instanceof ${E.ValidationError})`,()=>b.throw(L)),C(L),R||b.assign(P,!1)}),f.ok(P)}function M(){f.result((0,t.callValidateCode)(f,p,T),()=>N(p),()=>C(p))}function C(P){const L=(0,n._)`${P}.errors`;b.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${L} : ${r.default.vErrors}.concat(${L})`),b.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function N(P){var L;if(!E.opts.unevaluated)return;const j=(L=g==null?void 0:g.validate)===null||L===void 0?void 0:L.evaluated;if(E.props!==!0)if(j&&!j.dynamicProps)j.props!==void 0&&(E.props=a.mergeEvaluated.props(b,j.props,E.props));else{const q=b.var("props",(0,n._)`${P}.evaluated.props`);E.props=a.mergeEvaluated.props(b,q,E.props,n.Name)}if(E.items!==!0)if(j&&!j.dynamicItems)j.items!==void 0&&(E.items=a.mergeEvaluated.items(b,j.items,E.items));else{const q=b.var("items",(0,n._)`${P}.evaluated.items`);E.items=a.mergeEvaluated.items(b,q,E.items,n.Name)}}}return mo.callRef=d,mo.default=l,mo}var bE;function Z8(){if(bE)return zc;bE=1,Object.defineProperty(zc,"__esModule",{value:!0});const e=G8(),t=J8(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return zc.default=n,zc}var Uc={},$c={},xE;function K8(){if(xE)return $c;xE=1,Object.defineProperty($c,"__esModule",{value:!0});const e=st(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:a,schemaCode:l})=>(0,e.str)`must be ${n[a].okStr} ${l}`,params:({keyword:a,schemaCode:l})=>(0,e._)`{comparison: ${n[a].okStr}, limit: ${l}}`},o={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(a){const{keyword:l,data:c,schemaCode:d}=a;a.fail$data((0,e._)`${c} ${n[l].fail} ${d} || isNaN(${c})`)}};return $c.default=o,$c}var Lc={},SE;function Y8(){if(SE)return Lc;SE=1,Object.defineProperty(Lc,"__esModule",{value:!0});const e=st(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:o,data:a,schemaCode:l,it:c}=r,d=c.opts.multipleOfPrecision,f=o.let("res"),p=d?(0,e._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${d}`:(0,e._)`${f} !== parseInt(${f})`;r.fail$data((0,e._)`(${l} === 0 || (${f} = ${a}/${l}, ${p}))`)}};return Lc.default=n,Lc}var qc={},Vc={},wE;function X8(){if(wE)return Vc;wE=1,Object.defineProperty(Vc,"__esModule",{value:!0});function e(t){const n=t.length;let r=0,o=0,a;for(;o<n;)r++,a=t.charCodeAt(o++),a>=55296&&a<=56319&&o<n&&(a=t.charCodeAt(o),(a&64512)===56320&&o++);return r}return Vc.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Vc}var EE;function Q8(){if(EE)return qc;EE=1,Object.defineProperty(qc,"__esModule",{value:!0});const e=st(),t=bt(),n=X8(),o={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:l}){const c=a==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${c} than ${l} characters`},params:({schemaCode:a})=>(0,e._)`{limit: ${a}}`},code(a){const{keyword:l,data:c,schemaCode:d,it:f}=a,p=l==="maxLength"?e.operators.GT:e.operators.LT,g=f.opts.unicode===!1?(0,e._)`${c}.length`:(0,e._)`${(0,t.useFunc)(a.gen,n.default)}(${c})`;a.fail$data((0,e._)`${g} ${p} ${d}`)}};return qc.default=o,qc}var jc={},TE;function W8(){if(TE)return jc;TE=1,Object.defineProperty(jc,"__esModule",{value:!0});const e=Qr(),t=st(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:o})=>(0,t.str)`must match pattern "${o}"`,params:({schemaCode:o})=>(0,t._)`{pattern: ${o}}`},code(o){const{data:a,$data:l,schema:c,schemaCode:d,it:f}=o,p=f.opts.unicodeRegExp?"u":"",g=l?(0,t._)`(new RegExp(${d}, ${p}))`:(0,e.usePattern)(o,c);o.fail$data((0,t._)`!${g}.test(${a})`)}};return jc.default=r,jc}var Hc={},kE;function eG(){if(kE)return Hc;kE=1,Object.defineProperty(Hc,"__esModule",{value:!0});const e=st(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:o}){const a=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${o} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:o,data:a,schemaCode:l}=r,c=o==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${a}).length ${c} ${l}`)}};return Hc.default=n,Hc}var Bc={},CE;function tG(){if(CE)return Bc;CE=1,Object.defineProperty(Bc,"__esModule",{value:!0});const e=Qr(),t=st(),n=bt(),o={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,t.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,t._)`{missingProperty: ${a}}`},code(a){const{gen:l,schema:c,schemaCode:d,data:f,$data:p,it:g}=a,{opts:v}=g;if(!p&&c.length===0)return;const b=c.length>=v.loopRequired;if(g.allErrors?E():R(),v.strictRequired){const T=a.parentSchema.properties,{definedProperties:A}=a.it;for(const M of c)if((T==null?void 0:T[M])===void 0&&!A.has(M)){const C=g.schemaEnv.baseId+g.errSchemaPath,N=`required property "${M}" is not defined at "${C}" (strictRequired)`;(0,n.checkStrictMode)(g,N,g.opts.strictRequired)}}function E(){if(b||p)a.block$data(t.nil,k);else for(const T of c)(0,e.checkReportMissingProp)(a,T)}function R(){const T=l.let("missing");if(b||p){const A=l.let("valid",!0);a.block$data(A,()=>w(T,A)),a.ok(A)}else l.if((0,e.checkMissingProp)(a,c,T)),(0,e.reportMissingProp)(a,T),l.else()}function k(){l.forOf("prop",d,T=>{a.setParams({missingProperty:T}),l.if((0,e.noPropertyInData)(l,f,T,v.ownProperties),()=>a.error())})}function w(T,A){a.setParams({missingProperty:T}),l.forOf(T,d,()=>{l.assign(A,(0,e.propertyInData)(l,f,T,v.ownProperties)),l.if((0,t.not)(A),()=>{a.error(),l.break()})},t.nil)}}};return Bc.default=o,Bc}var Fc={},AE;function nG(){if(AE)return Fc;AE=1,Object.defineProperty(Fc,"__esModule",{value:!0});const e=st(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:o}){const a=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${o} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:o,data:a,schemaCode:l}=r,c=o==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${a}.length ${c} ${l}`)}};return Fc.default=n,Fc}var Gc={},Jc={},NE;function V0(){if(NE)return Jc;NE=1,Object.defineProperty(Jc,"__esModule",{value:!0});const e=JC();return e.code='require("ajv/dist/runtime/equal").default',Jc.default=e,Jc}var RE;function rG(){if(RE)return Gc;RE=1,Object.defineProperty(Gc,"__esModule",{value:!0});const e=Zd(),t=st(),n=bt(),r=V0(),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:l,j:c}})=>(0,t.str)`must NOT have duplicate items (items ## ${c} and ${l} are identical)`,params:({params:{i:l,j:c}})=>(0,t._)`{i: ${l}, j: ${c}}`},code(l){const{gen:c,data:d,$data:f,schema:p,parentSchema:g,schemaCode:v,it:b}=l;if(!f&&!p)return;const E=c.let("valid"),R=g.items?(0,e.getSchemaTypes)(g.items):[];l.block$data(E,k,(0,t._)`${v} === false`),l.ok(E);function k(){const M=c.let("i",(0,t._)`${d}.length`),C=c.let("j");l.setParams({i:M,j:C}),c.assign(E,!0),c.if((0,t._)`${M} > 1`,()=>(w()?T:A)(M,C))}function w(){return R.length>0&&!R.some(M=>M==="object"||M==="array")}function T(M,C){const N=c.name("item"),P=(0,e.checkDataTypes)(R,N,b.opts.strictNumbers,e.DataType.Wrong),L=c.const("indices",(0,t._)`{}`);c.for((0,t._)`;${M}--;`,()=>{c.let(N,(0,t._)`${d}[${M}]`),c.if(P,(0,t._)`continue`),R.length>1&&c.if((0,t._)`typeof ${N} == "string"`,(0,t._)`${N} += "_"`),c.if((0,t._)`typeof ${L}[${N}] == "number"`,()=>{c.assign(C,(0,t._)`${L}[${N}]`),l.error(),c.assign(E,!1).break()}).code((0,t._)`${L}[${N}] = ${M}`)})}function A(M,C){const N=(0,n.useFunc)(c,r.default),P=c.name("outer");c.label(P).for((0,t._)`;${M}--;`,()=>c.for((0,t._)`${C} = ${M}; ${C}--;`,()=>c.if((0,t._)`${N}(${d}[${M}], ${d}[${C}])`,()=>{l.error(),c.assign(E,!1).break(P)})))}}};return Gc.default=a,Gc}var Zc={},IE;function iG(){if(IE)return Zc;IE=1,Object.defineProperty(Zc,"__esModule",{value:!0});const e=st(),t=bt(),n=V0(),o={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,e._)`{allowedValue: ${a}}`},code(a){const{gen:l,data:c,$data:d,schemaCode:f,schema:p}=a;d||p&&typeof p=="object"?a.fail$data((0,e._)`!${(0,t.useFunc)(l,n.default)}(${c}, ${f})`):a.fail((0,e._)`${p} !== ${c}`)}};return Zc.default=o,Zc}var Kc={},ME;function oG(){if(ME)return Kc;ME=1,Object.defineProperty(Kc,"__esModule",{value:!0});const e=st(),t=bt(),n=V0(),o={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,e._)`{allowedValues: ${a}}`},code(a){const{gen:l,data:c,$data:d,schema:f,schemaCode:p,it:g}=a;if(!d&&f.length===0)throw new Error("enum must have non-empty array");const v=f.length>=g.opts.loopEnum;let b;const E=()=>b??(b=(0,t.useFunc)(l,n.default));let R;if(v||d)R=l.let("valid"),a.block$data(R,k);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const T=l.const("vSchema",p);R=(0,e.or)(...f.map((A,M)=>w(T,M)))}a.pass(R);function k(){l.assign(R,!1),l.forOf("v",p,T=>l.if((0,e._)`${E()}(${c}, ${T})`,()=>l.assign(R,!0).break()))}function w(T,A){const M=f[A];return typeof M=="object"&&M!==null?(0,e._)`${E()}(${c}, ${T}[${A}])`:(0,e._)`${c} === ${M}`}}};return Kc.default=o,Kc}var PE;function sG(){if(PE)return Uc;PE=1,Object.defineProperty(Uc,"__esModule",{value:!0});const e=K8(),t=Y8(),n=Q8(),r=W8(),o=eG(),a=tG(),l=nG(),c=rG(),d=iG(),f=oG(),p=[e.default,t.default,n.default,r.default,o.default,a.default,l.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,f.default];return Uc.default=p,Uc}var Yc={},Js={},DE;function KC(){if(DE)return Js;DE=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.validateAdditionalItems=void 0;const e=st(),t=bt(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,e.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,e._)`{limit: ${a}}`},code(a){const{parentSchema:l,it:c}=a,{items:d}=l;if(!Array.isArray(d)){(0,t.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');return}o(a,d)}};function o(a,l){const{gen:c,schema:d,data:f,keyword:p,it:g}=a;g.items=!0;const v=c.const("len",(0,e._)`${f}.length`);if(d===!1)a.setParams({len:l.length}),a.pass((0,e._)`${v} <= ${l.length}`);else if(typeof d=="object"&&!(0,t.alwaysValidSchema)(g,d)){const E=c.var("valid",(0,e._)`${v} <= ${l.length}`);c.if((0,e.not)(E),()=>b(E)),a.ok(E)}function b(E){c.forRange("i",l.length,v,R=>{a.subschema({keyword:p,dataProp:R,dataPropType:t.Type.Num},E),g.allErrors||c.if((0,e.not)(E),()=>c.break())})}}return Js.validateAdditionalItems=o,Js.default=r,Js}var Xc={},Zs={},zE;function YC(){if(zE)return Zs;zE=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.validateTuple=void 0;const e=st(),t=bt(),n=Qr(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:l,it:c}=a;if(Array.isArray(l))return o(a,"additionalItems",l);c.items=!0,!(0,t.alwaysValidSchema)(c,l)&&a.ok((0,n.validateArray)(a))}};function o(a,l,c=a.schema){const{gen:d,parentSchema:f,data:p,keyword:g,it:v}=a;R(f),v.opts.unevaluated&&c.length&&v.items!==!0&&(v.items=t.mergeEvaluated.items(d,c.length,v.items));const b=d.name("valid"),E=d.const("len",(0,e._)`${p}.length`);c.forEach((k,w)=>{(0,t.alwaysValidSchema)(v,k)||(d.if((0,e._)`${E} > ${w}`,()=>a.subschema({keyword:g,schemaProp:w,dataProp:w},b)),a.ok(b))});function R(k){const{opts:w,errSchemaPath:T}=v,A=c.length,M=A===k.minItems&&(A===k.maxItems||k[l]===!1);if(w.strictTuples&&!M){const C=`"${g}" is ${A}-tuple, but minItems or maxItems/${l} are not specified or different at path "${T}"`;(0,t.checkStrictMode)(v,C,w.strictTuples)}}}return Zs.validateTuple=o,Zs.default=r,Zs}var OE;function aG(){if(OE)return Xc;OE=1,Object.defineProperty(Xc,"__esModule",{value:!0});const e=YC(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return Xc.default=t,Xc}var Qc={},UE;function lG(){if(UE)return Qc;UE=1,Object.defineProperty(Qc,"__esModule",{value:!0});const e=st(),t=bt(),n=Qr(),r=KC(),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:l}})=>(0,e.str)`must NOT have more than ${l} items`,params:({params:{len:l}})=>(0,e._)`{limit: ${l}}`},code(l){const{schema:c,parentSchema:d,it:f}=l,{prefixItems:p}=d;f.items=!0,!(0,t.alwaysValidSchema)(f,c)&&(p?(0,r.validateAdditionalItems)(l,p):l.ok((0,n.validateArray)(l)))}};return Qc.default=a,Qc}var Wc={},$E;function uG(){if($E)return Wc;$E=1,Object.defineProperty(Wc,"__esModule",{value:!0});const e=st(),t=bt(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:o,max:a}})=>a===void 0?(0,e.str)`must contain at least ${o} valid item(s)`:(0,e.str)`must contain at least ${o} and no more than ${a} valid item(s)`,params:({params:{min:o,max:a}})=>a===void 0?(0,e._)`{minContains: ${o}}`:(0,e._)`{minContains: ${o}, maxContains: ${a}}`},code(o){const{gen:a,schema:l,parentSchema:c,data:d,it:f}=o;let p,g;const{minContains:v,maxContains:b}=c;f.opts.next?(p=v===void 0?1:v,g=b):p=1;const E=a.const("len",(0,e._)`${d}.length`);if(o.setParams({min:p,max:g}),g===void 0&&p===0){(0,t.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(g!==void 0&&p>g){(0,t.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),o.fail();return}if((0,t.alwaysValidSchema)(f,l)){let A=(0,e._)`${E} >= ${p}`;g!==void 0&&(A=(0,e._)`${A} && ${E} <= ${g}`),o.pass(A);return}f.items=!0;const R=a.name("valid");g===void 0&&p===1?w(R,()=>a.if(R,()=>a.break())):p===0?(a.let(R,!0),g!==void 0&&a.if((0,e._)`${d}.length > 0`,k)):(a.let(R,!1),k()),o.result(R,()=>o.reset());function k(){const A=a.name("_valid"),M=a.let("count",0);w(A,()=>a.if(A,()=>T(M)))}function w(A,M){a.forRange("i",0,E,C=>{o.subschema({keyword:"contains",dataProp:C,dataPropType:t.Type.Num,compositeRule:!0},A),M()})}function T(A){a.code((0,e._)`${A}++`),g===void 0?a.if((0,e._)`${A} >= ${p}`,()=>a.assign(R,!0).break()):(a.if((0,e._)`${A} > ${g}`,()=>a.assign(R,!1).break()),p===1?a.assign(R,!0):a.if((0,e._)`${A} >= ${p}`,()=>a.assign(R,!0)))}}};return Wc.default=r,Wc}var wm={},LE;function cG(){return LE||(LE=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=st(),n=bt(),r=Qr();e.error={message:({params:{property:d,depsCount:f,deps:p}})=>{const g=f===1?"property":"properties";return(0,t.str)`must have ${g} ${p} when property ${d} is present`},params:({params:{property:d,depsCount:f,deps:p,missingProperty:g}})=>(0,t._)`{property: ${d},
    missingProperty: ${g},
    depsCount: ${f},
    deps: ${p}}`};const o={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(d){const[f,p]=a(d);l(d,f),c(d,p)}};function a({schema:d}){const f={},p={};for(const g in d){if(g==="__proto__")continue;const v=Array.isArray(d[g])?f:p;v[g]=d[g]}return[f,p]}function l(d,f=d.schema){const{gen:p,data:g,it:v}=d;if(Object.keys(f).length===0)return;const b=p.let("missing");for(const E in f){const R=f[E];if(R.length===0)continue;const k=(0,r.propertyInData)(p,g,E,v.opts.ownProperties);d.setParams({property:E,depsCount:R.length,deps:R.join(", ")}),v.allErrors?p.if(k,()=>{for(const w of R)(0,r.checkReportMissingProp)(d,w)}):(p.if((0,t._)`${k} && (${(0,r.checkMissingProp)(d,R,b)})`),(0,r.reportMissingProp)(d,b),p.else())}}e.validatePropertyDeps=l;function c(d,f=d.schema){const{gen:p,data:g,keyword:v,it:b}=d,E=p.name("valid");for(const R in f)(0,n.alwaysValidSchema)(b,f[R])||(p.if((0,r.propertyInData)(p,g,R,b.opts.ownProperties),()=>{const k=d.subschema({keyword:v,schemaProp:R},E);d.mergeValidEvaluated(k,E)},()=>p.var(E,!0)),d.ok(E))}e.validateSchemaDeps=c,e.default=o})(wm)),wm}var ed={},qE;function dG(){if(qE)return ed;qE=1,Object.defineProperty(ed,"__esModule",{value:!0});const e=st(),t=bt(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:o})=>(0,e._)`{propertyName: ${o.propertyName}}`},code(o){const{gen:a,schema:l,data:c,it:d}=o;if((0,t.alwaysValidSchema)(d,l))return;const f=a.name("valid");a.forIn("key",c,p=>{o.setParams({propertyName:p}),o.subschema({keyword:"propertyNames",data:p,dataTypes:["string"],propertyName:p,compositeRule:!0},f),a.if((0,e.not)(f),()=>{o.error(!0),d.allErrors||a.break()})}),o.ok(f)}};return ed.default=r,ed}var td={},VE;function XC(){if(VE)return td;VE=1,Object.defineProperty(td,"__esModule",{value:!0});const e=Qr(),t=st(),n=Co(),r=bt(),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:l})=>(0,t._)`{additionalProperty: ${l.additionalProperty}}`},code(l){const{gen:c,schema:d,parentSchema:f,data:p,errsCount:g,it:v}=l;if(!g)throw new Error("ajv implementation error");const{allErrors:b,opts:E}=v;if(v.props=!0,E.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(v,d))return;const R=(0,e.allSchemaProperties)(f.properties),k=(0,e.allSchemaProperties)(f.patternProperties);w(),l.ok((0,t._)`${g} === ${n.default.errors}`);function w(){c.forIn("key",p,N=>{!R.length&&!k.length?M(N):c.if(T(N),()=>M(N))})}function T(N){let P;if(R.length>8){const L=(0,r.schemaRefOrVal)(v,f.properties,"properties");P=(0,e.isOwnProperty)(c,L,N)}else R.length?P=(0,t.or)(...R.map(L=>(0,t._)`${N} === ${L}`)):P=t.nil;return k.length&&(P=(0,t.or)(P,...k.map(L=>(0,t._)`${(0,e.usePattern)(l,L)}.test(${N})`))),(0,t.not)(P)}function A(N){c.code((0,t._)`delete ${p}[${N}]`)}function M(N){if(E.removeAdditional==="all"||E.removeAdditional&&d===!1){A(N);return}if(d===!1){l.setParams({additionalProperty:N}),l.error(),b||c.break();return}if(typeof d=="object"&&!(0,r.alwaysValidSchema)(v,d)){const P=c.name("valid");E.removeAdditional==="failing"?(C(N,P,!1),c.if((0,t.not)(P),()=>{l.reset(),A(N)})):(C(N,P),b||c.if((0,t.not)(P),()=>c.break()))}}function C(N,P,L){const j={keyword:"additionalProperties",dataProp:N,dataPropType:r.Type.Str};L===!1&&Object.assign(j,{compositeRule:!0,createErrors:!1,allErrors:!1}),l.subschema(j,P)}}};return td.default=a,td}var nd={},jE;function fG(){if(jE)return nd;jE=1,Object.defineProperty(nd,"__esModule",{value:!0});const e=Nf(),t=Qr(),n=bt(),r=XC(),o={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:l,schema:c,parentSchema:d,data:f,it:p}=a;p.opts.removeAdditional==="all"&&d.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(p,r.default,"additionalProperties"));const g=(0,t.allSchemaProperties)(c);for(const k of g)p.definedProperties.add(k);p.opts.unevaluated&&g.length&&p.props!==!0&&(p.props=n.mergeEvaluated.props(l,(0,n.toHash)(g),p.props));const v=g.filter(k=>!(0,n.alwaysValidSchema)(p,c[k]));if(v.length===0)return;const b=l.name("valid");for(const k of v)E(k)?R(k):(l.if((0,t.propertyInData)(l,f,k,p.opts.ownProperties)),R(k),p.allErrors||l.else().var(b,!0),l.endIf()),a.it.definedProperties.add(k),a.ok(b);function E(k){return p.opts.useDefaults&&!p.compositeRule&&c[k].default!==void 0}function R(k){a.subschema({keyword:"properties",schemaProp:k,dataProp:k},b)}}};return nd.default=o,nd}var rd={},HE;function hG(){if(HE)return rd;HE=1,Object.defineProperty(rd,"__esModule",{value:!0});const e=Qr(),t=st(),n=bt(),r=bt(),o={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:l,schema:c,data:d,parentSchema:f,it:p}=a,{opts:g}=p,v=(0,e.allSchemaProperties)(c),b=v.filter(M=>(0,n.alwaysValidSchema)(p,c[M]));if(v.length===0||b.length===v.length&&(!p.opts.unevaluated||p.props===!0))return;const E=g.strictSchema&&!g.allowMatchingProperties&&f.properties,R=l.name("valid");p.props!==!0&&!(p.props instanceof t.Name)&&(p.props=(0,r.evaluatedPropsToName)(l,p.props));const{props:k}=p;w();function w(){for(const M of v)E&&T(M),p.allErrors?A(M):(l.var(R,!0),A(M),l.if(R))}function T(M){for(const C in E)new RegExp(M).test(C)&&(0,n.checkStrictMode)(p,`property ${C} matches pattern ${M} (use allowMatchingProperties)`)}function A(M){l.forIn("key",d,C=>{l.if((0,t._)`${(0,e.usePattern)(a,M)}.test(${C})`,()=>{const N=b.includes(M);N||a.subschema({keyword:"patternProperties",schemaProp:M,dataProp:C,dataPropType:r.Type.Str},R),p.opts.unevaluated&&k!==!0?l.assign((0,t._)`${k}[${C}]`,!0):!N&&!p.allErrors&&l.if((0,t.not)(R),()=>l.break())})})}}};return rd.default=o,rd}var id={},BE;function pG(){if(BE)return id;BE=1,Object.defineProperty(id,"__esModule",{value:!0});const e=bt(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:o,it:a}=n;if((0,e.alwaysValidSchema)(a,o)){n.fail();return}const l=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},l),n.failResult(l,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return id.default=t,id}var od={},FE;function mG(){if(FE)return od;FE=1,Object.defineProperty(od,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Qr().validateUnion,error:{message:"must match a schema in anyOf"}};return od.default=t,od}var sd={},GE;function gG(){if(GE)return sd;GE=1,Object.defineProperty(sd,"__esModule",{value:!0});const e=st(),t=bt(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:o})=>(0,e._)`{passingSchemas: ${o.passing}}`},code(o){const{gen:a,schema:l,parentSchema:c,it:d}=o;if(!Array.isArray(l))throw new Error("ajv implementation error");if(d.opts.discriminator&&c.discriminator)return;const f=l,p=a.let("valid",!1),g=a.let("passing",null),v=a.name("_valid");o.setParams({passing:g}),a.block(b),o.result(p,()=>o.reset(),()=>o.error(!0));function b(){f.forEach((E,R)=>{let k;(0,t.alwaysValidSchema)(d,E)?a.var(v,!0):k=o.subschema({keyword:"oneOf",schemaProp:R,compositeRule:!0},v),R>0&&a.if((0,e._)`${v} && ${p}`).assign(p,!1).assign(g,(0,e._)`[${g}, ${R}]`).else(),a.if(v,()=>{a.assign(p,!0),a.assign(g,R),k&&o.mergeEvaluated(k,e.Name)})})}}};return sd.default=r,sd}var ad={},JE;function yG(){if(JE)return ad;JE=1,Object.defineProperty(ad,"__esModule",{value:!0});const e=bt(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:o,it:a}=n;if(!Array.isArray(o))throw new Error("ajv implementation error");const l=r.name("valid");o.forEach((c,d)=>{if((0,e.alwaysValidSchema)(a,c))return;const f=n.subschema({keyword:"allOf",schemaProp:d},l);n.ok(l),n.mergeEvaluated(f)})}};return ad.default=t,ad}var ld={},ZE;function vG(){if(ZE)return ld;ZE=1,Object.defineProperty(ld,"__esModule",{value:!0});const e=st(),t=bt(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,e.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,e._)`{failingKeyword: ${a.ifClause}}`},code(a){const{gen:l,parentSchema:c,it:d}=a;c.then===void 0&&c.else===void 0&&(0,t.checkStrictMode)(d,'"if" without "then" and "else" is ignored');const f=o(d,"then"),p=o(d,"else");if(!f&&!p)return;const g=l.let("valid",!0),v=l.name("_valid");if(b(),a.reset(),f&&p){const R=l.let("ifClause");a.setParams({ifClause:R}),l.if(v,E("then",R),E("else",R))}else f?l.if(v,E("then")):l.if((0,e.not)(v),E("else"));a.pass(g,()=>a.error(!0));function b(){const R=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},v);a.mergeEvaluated(R)}function E(R,k){return()=>{const w=a.subschema({keyword:R},v);l.assign(g,v),a.mergeValidEvaluated(w,g),k?l.assign(k,(0,e._)`${R}`):a.setParams({ifClause:R})}}}};function o(a,l){const c=a.schema[l];return c!==void 0&&!(0,t.alwaysValidSchema)(a,c)}return ld.default=r,ld}var ud={},KE;function _G(){if(KE)return ud;KE=1,Object.defineProperty(ud,"__esModule",{value:!0});const e=bt(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:o}){r.if===void 0&&(0,e.checkStrictMode)(o,`"${n}" without "if" is ignored`)}};return ud.default=t,ud}var YE;function bG(){if(YE)return Yc;YE=1,Object.defineProperty(Yc,"__esModule",{value:!0});const e=KC(),t=aG(),n=YC(),r=lG(),o=uG(),a=cG(),l=dG(),c=XC(),d=fG(),f=hG(),p=pG(),g=mG(),v=gG(),b=yG(),E=vG(),R=_G();function k(w=!1){const T=[p.default,g.default,v.default,b.default,E.default,R.default,l.default,c.default,a.default,d.default,f.default];return w?T.push(t.default,r.default):T.push(e.default,n.default),T.push(o.default),T}return Yc.default=k,Yc}var cd={},dd={},XE;function xG(){if(XE)return dd;XE=1,Object.defineProperty(dd,"__esModule",{value:!0});const e=st(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,o){const{gen:a,data:l,$data:c,schema:d,schemaCode:f,it:p}=r,{opts:g,errSchemaPath:v,schemaEnv:b,self:E}=p;if(!g.validateFormats)return;c?R():k();function R(){const w=a.scopeValue("formats",{ref:E.formats,code:g.code.formats}),T=a.const("fDef",(0,e._)`${w}[${f}]`),A=a.let("fType"),M=a.let("format");a.if((0,e._)`typeof ${T} == "object" && !(${T} instanceof RegExp)`,()=>a.assign(A,(0,e._)`${T}.type || "string"`).assign(M,(0,e._)`${T}.validate`),()=>a.assign(A,(0,e._)`"string"`).assign(M,T)),r.fail$data((0,e.or)(C(),N()));function C(){return g.strictSchema===!1?e.nil:(0,e._)`${f} && !${M}`}function N(){const P=b.$async?(0,e._)`(${T}.async ? await ${M}(${l}) : ${M}(${l}))`:(0,e._)`${M}(${l})`,L=(0,e._)`(typeof ${M} == "function" ? ${P} : ${M}.test(${l}))`;return(0,e._)`${M} && ${M} !== true && ${A} === ${o} && !${L}`}}function k(){const w=E.formats[d];if(!w){C();return}if(w===!0)return;const[T,A,M]=N(w);T===o&&r.pass(P());function C(){if(g.strictSchema===!1){E.logger.warn(L());return}throw new Error(L());function L(){return`unknown format "${d}" ignored in schema at path "${v}"`}}function N(L){const j=L instanceof RegExp?(0,e.regexpCode)(L):g.code.formats?(0,e._)`${g.code.formats}${(0,e.getProperty)(d)}`:void 0,q=a.scopeValue("formats",{key:d,ref:L,code:j});return typeof L=="object"&&!(L instanceof RegExp)?[L.type||"string",L.validate,(0,e._)`${q}.validate`]:["string",L,q]}function P(){if(typeof w=="object"&&!(w instanceof RegExp)&&w.async){if(!b.$async)throw new Error("async format in sync schema");return(0,e._)`await ${M}(${l})`}return typeof A=="function"?(0,e._)`${M}(${l})`:(0,e._)`${M}.test(${l})`}}}};return dd.default=n,dd}var QE;function SG(){if(QE)return cd;QE=1,Object.defineProperty(cd,"__esModule",{value:!0});const t=[xG().default];return cd.default=t,cd}var es={},WE;function wG(){return WE||(WE=1,Object.defineProperty(es,"__esModule",{value:!0}),es.contentVocabulary=es.metadataVocabulary=void 0,es.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],es.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),es}var eT;function EG(){if(eT)return Dc;eT=1,Object.defineProperty(Dc,"__esModule",{value:!0});const e=Z8(),t=sG(),n=bG(),r=SG(),o=wG(),a=[e.default,t.default,(0,n.default)(),r.default,o.metadataVocabulary,o.contentVocabulary];return Dc.default=a,Dc}var fd={},Al={},tT;function TG(){if(tT)return Al;tT=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(Al.DiscrError=e={})),Al}var nT;function kG(){if(nT)return fd;nT=1,Object.defineProperty(fd,"__esModule",{value:!0});const e=st(),t=TG(),n=q0(),r=Rf(),o=bt(),l={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:c,tagName:d}})=>c===t.DiscrError.Tag?`tag "${d}" must be string`:`value of tag "${d}" must be in oneOf`,params:({params:{discrError:c,tag:d,tagName:f}})=>(0,e._)`{error: ${c}, tag: ${f}, tagValue: ${d}}`},code(c){const{gen:d,data:f,schema:p,parentSchema:g,it:v}=c,{oneOf:b}=g;if(!v.opts.discriminator)throw new Error("discriminator: requires discriminator option");const E=p.propertyName;if(typeof E!="string")throw new Error("discriminator: requires propertyName");if(p.mapping)throw new Error("discriminator: mapping is not supported");if(!b)throw new Error("discriminator: requires oneOf keyword");const R=d.let("valid",!1),k=d.const("tag",(0,e._)`${f}${(0,e.getProperty)(E)}`);d.if((0,e._)`typeof ${k} == "string"`,()=>w(),()=>c.error(!1,{discrError:t.DiscrError.Tag,tag:k,tagName:E})),c.ok(R);function w(){const M=A();d.if(!1);for(const C in M)d.elseIf((0,e._)`${k} === ${C}`),d.assign(R,T(M[C]));d.else(),c.error(!1,{discrError:t.DiscrError.Mapping,tag:k,tagName:E}),d.endIf()}function T(M){const C=d.name("valid"),N=c.subschema({keyword:"oneOf",schemaProp:M},C);return c.mergeEvaluated(N,e.Name),C}function A(){var M;const C={},N=L(g);let P=!0;for(let H=0;H<b.length;H++){let K=b[H];if(K!=null&&K.$ref&&!(0,o.schemaHasRulesButRef)(K,v.self.RULES)){const Q=K.$ref;if(K=n.resolveRef.call(v.self,v.schemaEnv.root,v.baseId,Q),K instanceof n.SchemaEnv&&(K=K.schema),K===void 0)throw new r.default(v.opts.uriResolver,v.baseId,Q)}const ee=(M=K==null?void 0:K.properties)===null||M===void 0?void 0:M[E];if(typeof ee!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${E}"`);P=P&&(N||L(K)),j(ee,H)}if(!P)throw new Error(`discriminator: "${E}" must be required`);return C;function L({required:H}){return Array.isArray(H)&&H.includes(E)}function j(H,K){if(H.const)q(H.const,K);else if(H.enum)for(const ee of H.enum)q(ee,K);else throw new Error(`discriminator: "properties/${E}" must have "const" or "enum"`)}function q(H,K){if(typeof H!="string"||H in C)throw new Error(`discriminator: "${E}" values must be unique strings`);C[H]=K}}}};return fd.default=l,fd}const CG="http://json-schema.org/draft-07/schema#",AG="http://json-schema.org/draft-07/schema#",NG="Core schema meta-schema",RG={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},IG=["object","boolean"],MG={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},PG={$schema:CG,$id:AG,title:NG,definitions:RG,type:IG,properties:MG,default:!0};var rT;function QC(){return rT||(rT=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=F8(),r=EG(),o=kG(),a=PG,l=["/properties"],c="http://json-schema.org/draft-07/schema";class d extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(E=>this.addVocabulary(E)),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const E=this.opts.$data?this.$dataMetaSchema(a,l):a;this.addMetaSchema(E,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}t.Ajv=d,e.exports=t=d,e.exports.Ajv=d,Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var f=Nf();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var p=st();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return p._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return p.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return p.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return p.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return p.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return p.CodeGen}});var g=L0();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return g.default}});var v=Rf();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return v.default}})})(Nc,Nc.exports)),Nc.exports}var DG=QC();const zG=as(DG);var hd={exports:{}},Em={},iT;function OG(){return iT||(iT=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(H,K){return{validate:H,compare:K}}e.fullFormats={date:t(a,l),time:t(d(!0),f),"date-time":t(v(!0),b),"iso-time":t(d(),p),"iso-date-time":t(v(),E),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:w,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:q,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:A,int32:{type:"number",validate:N},int64:{type:"number",validate:P},float:{type:"number",validate:L},double:{type:"number",validate:L},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,l),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,f),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,b),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,p),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,E),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function n(H){return H%4===0&&(H%100!==0||H%400===0)}const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31];function a(H){const K=r.exec(H);if(!K)return!1;const ee=+K[1],Q=+K[2],W=+K[3];return Q>=1&&Q<=12&&W>=1&&W<=(Q===2&&n(ee)?29:o[Q])}function l(H,K){if(H&&K)return H>K?1:H<K?-1:0}const c=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function d(H){return function(ee){const Q=c.exec(ee);if(!Q)return!1;const W=+Q[1],G=+Q[2],ce=+Q[3],_e=Q[4],ze=Q[5]==="-"?-1:1,$=+(Q[6]||0),z=+(Q[7]||0);if($>23||z>59||H&&!_e)return!1;if(W<=23&&G<=59&&ce<60)return!0;const B=G-z*ze,D=W-$*ze-(B<0?1:0);return(D===23||D===-1)&&(B===59||B===-1)&&ce<61}}function f(H,K){if(!(H&&K))return;const ee=new Date("2020-01-01T"+H).valueOf(),Q=new Date("2020-01-01T"+K).valueOf();if(ee&&Q)return ee-Q}function p(H,K){if(!(H&&K))return;const ee=c.exec(H),Q=c.exec(K);if(ee&&Q)return H=ee[1]+ee[2]+ee[3],K=Q[1]+Q[2]+Q[3],H>K?1:H<K?-1:0}const g=/t|\s/i;function v(H){const K=d(H);return function(Q){const W=Q.split(g);return W.length===2&&a(W[0])&&K(W[1])}}function b(H,K){if(!(H&&K))return;const ee=new Date(H).valueOf(),Q=new Date(K).valueOf();if(ee&&Q)return ee-Q}function E(H,K){if(!(H&&K))return;const[ee,Q]=H.split(g),[W,G]=K.split(g),ce=l(ee,W);if(ce!==void 0)return ce||f(Q,G)}const R=/\/|:/,k=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function w(H){return R.test(H)&&k.test(H)}const T=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function A(H){return T.lastIndex=0,T.test(H)}const M=-2147483648,C=2**31-1;function N(H){return Number.isInteger(H)&&H<=C&&H>=M}function P(H){return Number.isInteger(H)}function L(){return!0}const j=/[^\\]\\Z/;function q(H){if(j.test(H))return!1;try{return new RegExp(H),!0}catch{return!1}}})(Em)),Em}var Tm={},oT;function UG(){return oT||(oT=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=QC(),n=st(),r=n.operators,o={formatMaximum:{okStr:"<=",ok:r.LTE,fail:r.GT},formatMinimum:{okStr:">=",ok:r.GTE,fail:r.LT},formatExclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},formatExclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},a={message:({keyword:c,schemaCode:d})=>(0,n.str)`should be ${o[c].okStr} ${d}`,params:({keyword:c,schemaCode:d})=>(0,n._)`{comparison: ${o[c].okStr}, limit: ${d}}`};e.formatLimitDefinition={keyword:Object.keys(o),type:"string",schemaType:"string",$data:!0,error:a,code(c){const{gen:d,data:f,schemaCode:p,keyword:g,it:v}=c,{opts:b,self:E}=v;if(!b.validateFormats)return;const R=new t.KeywordCxt(v,E.RULES.all.format.definition,"format");R.$data?k():w();function k(){const A=d.scopeValue("formats",{ref:E.formats,code:b.code.formats}),M=d.const("fmt",(0,n._)`${A}[${R.schemaCode}]`);c.fail$data((0,n.or)((0,n._)`typeof ${M} != "object"`,(0,n._)`${M} instanceof RegExp`,(0,n._)`typeof ${M}.compare != "function"`,T(M)))}function w(){const A=R.schema,M=E.formats[A];if(!M||M===!0)return;if(typeof M!="object"||M instanceof RegExp||typeof M.compare!="function")throw new Error(`"${g}": format "${A}" does not define "compare" function`);const C=d.scopeValue("formats",{key:A,ref:M,code:b.code.formats?(0,n._)`${b.code.formats}${(0,n.getProperty)(A)}`:void 0});c.fail$data(T(C))}function T(A){return(0,n._)`${A}.compare(${f}, ${p}) ${o[g].fail} 0`}},dependencies:["format"]};const l=c=>(c.addKeyword(e.formatLimitDefinition),c);e.default=l})(Tm)),Tm}var sT;function $G(){return sT||(sT=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=OG(),r=UG(),o=st(),a=new o.Name("fullFormats"),l=new o.Name("fastFormats"),c=(f,p={keywords:!0})=>{if(Array.isArray(p))return d(f,p,n.fullFormats,a),f;const[g,v]=p.mode==="fast"?[n.fastFormats,l]:[n.fullFormats,a],b=p.formats||n.formatNames;return d(f,b,g,v),p.keywords&&(0,r.default)(f),f};c.get=(f,p="full")=>{const v=(p==="fast"?n.fastFormats:n.fullFormats)[f];if(!v)throw new Error(`Unknown format "${f}"`);return v};function d(f,p,g,v){var b,E;(b=(E=f.opts.code).formats)!==null&&b!==void 0||(E.formats=(0,o._)`require("ajv-formats/dist/formats").${v}`);for(const R of p)f.addFormat(R,g[R])}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c})(hd,hd.exports)),hd.exports}var LG=$G();const qG=as(LG);function VG(){const e=new zG({strict:!1,validateFormats:!0,validateSchema:!1,allErrors:!0});return qG(e),e}class jG{constructor(t){this._ajv=t??VG()}getValidator(t){const n="$id"in t&&typeof t.$id=="string"?this._ajv.getSchema(t.$id)??this._ajv.compile(t):this._ajv.compile(t);return r=>n(r)?{valid:!0,data:r,errorMessage:void 0}:{valid:!1,data:void 0,errorMessage:this._ajv.errorsText(n.errors)}}}class HG{constructor(t){this._client=t}async*callToolStream(t,n=kf,r){const o=this._client,a={...r,task:(r==null?void 0:r.task)??(o.isToolTask(t.name)?{}:void 0)},l=o.requestStream({method:"tools/call",params:t},n,a),c=o.getToolOutputValidator(t.name);for await(const d of l){if(d.type==="result"&&c){const f=d.result;if(!f.structuredContent&&!f.isError){yield{type:"error",error:new Je(Qe.InvalidRequest,`Tool ${t.name} has an output schema but did not return structured content`)};return}if(f.structuredContent)try{const p=c(f.structuredContent);if(!p.valid){yield{type:"error",error:new Je(Qe.InvalidParams,`Structured content does not match the tool's output schema: ${p.errorMessage}`)};return}}catch(p){if(p instanceof Je){yield{type:"error",error:p};return}yield{type:"error",error:new Je(Qe.InvalidParams,`Failed to validate structured content: ${p instanceof Error?p.message:String(p)}`)};return}}yield d}}async getTask(t,n){return this._client.getTask({taskId:t},n)}async getTaskResult(t,n,r){return this._client.getTaskResult({taskId:t},n,r)}async listTasks(t,n){return this._client.listTasks(t?{cursor:t}:void 0,n)}async cancelTask(t,n){return this._client.cancelTask({taskId:t},n)}requestStream(t,n,r){return this._client.requestStream(t,n,r)}}function BG(e,t,n){var r;if(!e)throw new Error(`${n} does not support task creation (required for ${t})`);switch(t){case"tools/call":if(!((r=e.tools)!=null&&r.call))throw new Error(`${n} does not support task creation for tools/call (required for ${t})`);break}}function FG(e,t,n){var r,o;if(!e)throw new Error(`${n} does not support task creation (required for ${t})`);switch(t){case"sampling/createMessage":if(!((r=e.sampling)!=null&&r.createMessage))throw new Error(`${n} does not support task creation for sampling/createMessage (required for ${t})`);break;case"elicitation/create":if(!((o=e.elicitation)!=null&&o.create))throw new Error(`${n} does not support task creation for elicitation/create (required for ${t})`);break}}function wd(e,t){if(!(!e||t===null||typeof t!="object")){if(e.type==="object"&&e.properties&&typeof e.properties=="object"){const n=t,r=e.properties;for(const o of Object.keys(r)){const a=r[o];n[o]===void 0&&Object.prototype.hasOwnProperty.call(a,"default")&&(n[o]=a.default),n[o]!==void 0&&wd(a,n[o])}}if(Array.isArray(e.anyOf))for(const n of e.anyOf)typeof n!="boolean"&&wd(n,t);if(Array.isArray(e.oneOf))for(const n of e.oneOf)typeof n!="boolean"&&wd(n,t)}}function GG(e){if(!e)return{supportsFormMode:!1,supportsUrlMode:!1};const t=e.form!==void 0,n=e.url!==void 0;return{supportsFormMode:t||!t&&!n,supportsUrlMode:n}}class aT extends A8{constructor(t,n){super(n),this._clientInfo=t,this._cachedToolOutputValidators=new Map,this._cachedKnownTaskTools=new Set,this._cachedRequiredTaskTools=new Set,this._listChangedDebounceTimers=new Map,this._capabilities=(n==null?void 0:n.capabilities)??{},this._jsonSchemaValidator=(n==null?void 0:n.jsonSchemaValidator)??new jG,n!=null&&n.listChanged&&(this._pendingListChangedConfig=n.listChanged)}_setupListChangedHandlers(t){var n,r,o,a,l,c;t.tools&&((r=(n=this._serverCapabilities)==null?void 0:n.tools)!=null&&r.listChanged)&&this._setupListChangedHandler("tools",$C,t.tools,async()=>(await this.listTools()).tools),t.prompts&&((a=(o=this._serverCapabilities)==null?void 0:o.prompts)!=null&&a.listChanged)&&this._setupListChangedHandler("prompts",zC,t.prompts,async()=>(await this.listPrompts()).prompts),t.resources&&((c=(l=this._serverCapabilities)==null?void 0:l.resources)!=null&&c.listChanged)&&this._setupListChangedHandler("resources",MC,t.resources,async()=>(await this.listResources()).resources)}get experimental(){return this._experimental||(this._experimental={tasks:new HG(this)}),this._experimental}registerCapabilities(t){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=N8(this._capabilities,t)}setRequestHandler(t,n){var c;const r=oC(t),o=r==null?void 0:r.method;if(!o)throw new Error("Schema is missing a method literal");let a;if(Sf(o)){const d=o,f=(c=d._zod)==null?void 0:c.def;a=(f==null?void 0:f.value)??d.value}else{const d=o,f=d._def;a=(f==null?void 0:f.value)??d.value}if(typeof a!="string")throw new Error("Schema method literal must be a string");const l=a;if(l==="elicitation/create"){const d=async(f,p)=>{var A,M;const g=go(jC,f);if(!g.success){const C=g.error instanceof Error?g.error.message:String(g.error);throw new Je(Qe.InvalidParams,`Invalid elicitation request: ${C}`)}const{params:v}=g.data;v.mode=v.mode??"form";const{supportsFormMode:b,supportsUrlMode:E}=GG(this._capabilities.elicitation);if(v.mode==="form"&&!b)throw new Je(Qe.InvalidParams,"Client does not support form-mode elicitation requests");if(v.mode==="url"&&!E)throw new Je(Qe.InvalidParams,"Client does not support URL-mode elicitation requests");const R=await Promise.resolve(n(f,p));if(v.task){const C=go(Zl,R);if(!C.success){const N=C.error instanceof Error?C.error.message:String(C.error);throw new Je(Qe.InvalidParams,`Invalid task creation result: ${N}`)}return C.data}const k=go(HC,R);if(!k.success){const C=k.error instanceof Error?k.error.message:String(k.error);throw new Je(Qe.InvalidParams,`Invalid elicitation result: ${C}`)}const w=k.data,T=v.mode==="form"?v.requestedSchema:void 0;if(v.mode==="form"&&w.action==="accept"&&w.content&&T&&(M=(A=this._capabilities.elicitation)==null?void 0:A.form)!=null&&M.applyDefaults)try{wd(T,w.content)}catch{}return w};return super.setRequestHandler(t,d)}if(l==="sampling/createMessage"){const d=async(f,p)=>{const g=go(qC,f);if(!g.success){const R=g.error instanceof Error?g.error.message:String(g.error);throw new Je(Qe.InvalidParams,`Invalid sampling request: ${R}`)}const{params:v}=g.data,b=await Promise.resolve(n(f,p));if(v.task){const R=go(Zl,b);if(!R.success){const k=R.error instanceof Error?R.error.message:String(R.error);throw new Je(Qe.InvalidParams,`Invalid task creation result: ${k}`)}return R.data}const E=go(VC,b);if(!E.success){const R=E.error instanceof Error?E.error.message:String(E.error);throw new Je(Qe.InvalidParams,`Invalid sampling result: ${R}`)}return E.data};return super.setRequestHandler(t,d)}return super.setRequestHandler(t,n)}assertCapability(t,n){var r;if(!((r=this._serverCapabilities)!=null&&r[t]))throw new Error(`Server does not support ${t} (required for ${n})`)}async connect(t,n){if(await super.connect(t),t.sessionId===void 0)try{const r=await this.request({method:"initialize",params:{protocolVersion:wf,capabilities:this._capabilities,clientInfo:this._clientInfo}},wC,n);if(r===void 0)throw new Error(`Server sent invalid initialize result: ${r}`);if(!ZB.includes(r.protocolVersion))throw new Error(`Server's protocol version is not supported: ${r.protocolVersion}`);this._serverCapabilities=r.capabilities,this._serverVersion=r.serverInfo,t.setProtocolVersion&&t.setProtocolVersion(r.protocolVersion),this._instructions=r.instructions,await this.notification({method:"notifications/initialized"}),this._pendingListChangedConfig&&(this._setupListChangedHandlers(this._pendingListChangedConfig),this._pendingListChangedConfig=void 0)}catch(r){throw this.close(),r}}getServerCapabilities(){return this._serverCapabilities}getServerVersion(){return this._serverVersion}getInstructions(){return this._instructions}assertCapabilityForMethod(t){var n,r,o,a,l;switch(t){case"logging/setLevel":if(!((n=this._serverCapabilities)!=null&&n.logging))throw new Error(`Server does not support logging (required for ${t})`);break;case"prompts/get":case"prompts/list":if(!((r=this._serverCapabilities)!=null&&r.prompts))throw new Error(`Server does not support prompts (required for ${t})`);break;case"resources/list":case"resources/templates/list":case"resources/read":case"resources/subscribe":case"resources/unsubscribe":if(!((o=this._serverCapabilities)!=null&&o.resources))throw new Error(`Server does not support resources (required for ${t})`);if(t==="resources/subscribe"&&!this._serverCapabilities.resources.subscribe)throw new Error(`Server does not support resource subscriptions (required for ${t})`);break;case"tools/call":case"tools/list":if(!((a=this._serverCapabilities)!=null&&a.tools))throw new Error(`Server does not support tools (required for ${t})`);break;case"completion/complete":if(!((l=this._serverCapabilities)!=null&&l.completions))throw new Error(`Server does not support completions (required for ${t})`);break}}assertNotificationCapability(t){var n;switch(t){case"notifications/roots/list_changed":if(!((n=this._capabilities.roots)!=null&&n.listChanged))throw new Error(`Client does not support roots list changed notifications (required for ${t})`);break}}assertRequestHandlerCapability(t){if(this._capabilities)switch(t){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Client does not support sampling capability (required for ${t})`);break;case"elicitation/create":if(!this._capabilities.elicitation)throw new Error(`Client does not support elicitation capability (required for ${t})`);break;case"roots/list":if(!this._capabilities.roots)throw new Error(`Client does not support roots capability (required for ${t})`);break;case"tasks/get":case"tasks/list":case"tasks/result":case"tasks/cancel":if(!this._capabilities.tasks)throw new Error(`Client does not support tasks capability (required for ${t})`);break}}assertTaskCapability(t){var n,r;BG((r=(n=this._serverCapabilities)==null?void 0:n.tasks)==null?void 0:r.requests,t,"Server")}assertTaskHandlerCapability(t){var n;this._capabilities&&FG((n=this._capabilities.tasks)==null?void 0:n.requests,t,"Client")}async ping(t){return this.request({method:"ping"},sa,t)}async complete(t,n){return this.request({method:"completion/complete",params:t},BC,n)}async setLoggingLevel(t,n){return this.request({method:"logging/setLevel",params:{level:t}},sa,n)}async getPrompt(t,n){return this.request({method:"prompts/get",params:t},DC,n)}async listPrompts(t,n){return this.request({method:"prompts/list",params:t},PC,n)}async listResources(t,n){return this.request({method:"resources/list",params:t},NC,n)}async listResourceTemplates(t,n){return this.request({method:"resources/templates/list",params:t},RC,n)}async readResource(t,n){return this.request({method:"resources/read",params:t},IC,n)}async subscribeResource(t,n){return this.request({method:"resources/subscribe",params:t},sa,n)}async unsubscribeResource(t,n){return this.request({method:"resources/unsubscribe",params:t},sa,n)}async callTool(t,n=kf,r){if(this.isToolTaskRequired(t.name))throw new Je(Qe.InvalidRequest,`Tool "${t.name}" requires task-based execution. Use client.experimental.tasks.callToolStream() instead.`);const o=await this.request({method:"tools/call",params:t},n,r),a=this.getToolOutputValidator(t.name);if(a){if(!o.structuredContent&&!o.isError)throw new Je(Qe.InvalidRequest,`Tool ${t.name} has an output schema but did not return structured content`);if(o.structuredContent)try{const l=a(o.structuredContent);if(!l.valid)throw new Je(Qe.InvalidParams,`Structured content does not match the tool's output schema: ${l.errorMessage}`)}catch(l){throw l instanceof Je?l:new Je(Qe.InvalidParams,`Failed to validate structured content: ${l instanceof Error?l.message:String(l)}`)}}return o}isToolTask(t){var n,r,o,a;return(a=(o=(r=(n=this._serverCapabilities)==null?void 0:n.tasks)==null?void 0:r.requests)==null?void 0:o.tools)!=null&&a.call?this._cachedKnownTaskTools.has(t):!1}isToolTaskRequired(t){return this._cachedRequiredTaskTools.has(t)}cacheToolMetadata(t){var n;this._cachedToolOutputValidators.clear(),this._cachedKnownTaskTools.clear(),this._cachedRequiredTaskTools.clear();for(const r of t){if(r.outputSchema){const a=this._jsonSchemaValidator.getValidator(r.outputSchema);this._cachedToolOutputValidators.set(r.name,a)}const o=(n=r.execution)==null?void 0:n.taskSupport;(o==="required"||o==="optional")&&this._cachedKnownTaskTools.add(r.name),o==="required"&&this._cachedRequiredTaskTools.add(r.name)}}getToolOutputValidator(t){return this._cachedToolOutputValidators.get(t)}async listTools(t,n){const r=await this.request({method:"tools/list",params:t},UC,n);return this.cacheToolMetadata(r.tools),r}_setupListChangedHandler(t,n,r,o){const a=jF.safeParse(r);if(!a.success)throw new Error(`Invalid ${t} listChanged options: ${a.error.message}`);if(typeof r.onChanged!="function")throw new Error(`Invalid ${t} listChanged options: onChanged must be a function`);const{autoRefresh:l,debounceMs:c}=a.data,{onChanged:d}=r,f=async()=>{if(!l){d(null,null);return}try{const g=await o();d(null,g)}catch(g){const v=g instanceof Error?g:new Error(String(g));d(v,null)}},p=()=>{if(c){const g=this._listChangedDebounceTimers.get(t);g&&clearTimeout(g);const v=setTimeout(f,c);this._listChangedDebounceTimers.set(t,v)}else f()};this.setNotificationHandler(n,p)}async sendRootsListChanged(){return this.notification({method:"notifications/roots/list_changed"})}}class lT extends Error{constructor(t,n){super(t),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function km(e){}function WC(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=km,onError:n=km,onRetry:r=km,onComment:o}=e;let a="",l=!0,c,d="",f="";function p(R){const k=l?R.replace(/^\xEF\xBB\xBF/,""):R,[w,T]=JG(`${a}${k}`);for(const A of w)g(A);a=T,l=!1}function g(R){if(R===""){b();return}if(R.startsWith(":")){o&&o(R.slice(R.startsWith(": ")?2:1));return}const k=R.indexOf(":");if(k!==-1){const w=R.slice(0,k),T=R[k+1]===" "?2:1,A=R.slice(k+T);v(w,A,R);return}v(R,"",R)}function v(R,k,w){switch(R){case"event":f=k;break;case"data":d=`${d}${k}
`;break;case"id":c=k.includes("\0")?void 0:k;break;case"retry":/^\d+$/.test(k)?r(parseInt(k,10)):n(new lT(`Invalid \`retry\` value: "${k}"`,{type:"invalid-retry",value:k,line:w}));break;default:n(new lT(`Unknown field "${R.length>20?`${R.slice(0,20)}`:R}"`,{type:"unknown-field",field:R,value:k,line:w}));break}}function b(){d.length>0&&t({id:c,event:f||void 0,data:d.endsWith(`
`)?d.slice(0,-1):d}),c=void 0,d="",f=""}function E(R={}){a&&R.consume&&g(a),l=!0,c=void 0,d="",f="",a=""}return{feed:p,reset:E}}function JG(e){const t=[];let n="",r=0;for(;r<e.length;){const o=e.indexOf("\r",r),a=e.indexOf(`
`,r);let l=-1;if(o!==-1&&a!==-1?l=Math.min(o,a):o!==-1?o===e.length-1?l=-1:l=o:a!==-1&&(l=a),l===-1){n=e.slice(r);break}else{const c=e.slice(r,l);t.push(c),r=l+1,e[r-1]==="\r"&&e[r]===`
`&&r++}}return[t,n]}class uT extends Event{constructor(t,n){var r,o;super(t),this.code=(r=n==null?void 0:n.code)!=null?r:void 0,this.message=(o=n==null?void 0:n.message)!=null?o:void 0}[Symbol.for("nodejs.util.inspect.custom")](t,n,r){return r(cT(this),n)}[Symbol.for("Deno.customInspect")](t,n){return t(cT(this),n)}}function ZG(e){const t=globalThis.DOMException;return typeof t=="function"?new t(e,"SyntaxError"):new SyntaxError(e)}function fg(e){return e instanceof Error?"errors"in e&&Array.isArray(e.errors)?e.errors.map(fg).join(", "):"cause"in e&&e.cause instanceof Error?`${e}: ${fg(e.cause)}`:e.message:`${e}`}function cT(e){return{type:e.type,message:e.message,code:e.code,defaultPrevented:e.defaultPrevented,cancelable:e.cancelable,timeStamp:e.timeStamp}}var eA=e=>{throw TypeError(e)},j0=(e,t,n)=>t.has(e)||eA("Cannot "+n),ut=(e,t,n)=>(j0(e,t,"read from private field"),n?n.call(e):t.get(e)),_n=(e,t,n)=>t.has(e)?eA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Zt=(e,t,n,r)=>(j0(e,t,"write to private field"),t.set(e,n),n),zi=(e,t,n)=>(j0(e,t,"access private method"),n),or,is,Qs,Ed,Kd,ql,aa,Vl,yo,Ws,pa,ea,Pl,Br,hg,pg,mg,dT,gg,yg,Dl,vg,_g;class Td extends EventTarget{constructor(t,n){var r,o;super(),_n(this,Br),this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,_n(this,or),_n(this,is),_n(this,Qs),_n(this,Ed),_n(this,Kd),_n(this,ql),_n(this,aa),_n(this,Vl,null),_n(this,yo),_n(this,Ws),_n(this,pa,null),_n(this,ea,null),_n(this,Pl,null),_n(this,pg,async a=>{var l;ut(this,Ws).reset();const{body:c,redirected:d,status:f,headers:p}=a;if(f===204){zi(this,Br,Dl).call(this,"Server sent HTTP 204, not reconnecting",204),this.close();return}if(d?Zt(this,Qs,new URL(a.url)):Zt(this,Qs,void 0),f!==200){zi(this,Br,Dl).call(this,`Non-200 status code (${f})`,f);return}if(!(p.get("content-type")||"").startsWith("text/event-stream")){zi(this,Br,Dl).call(this,'Invalid content type, expected "text/event-stream"',f);return}if(ut(this,or)===this.CLOSED)return;Zt(this,or,this.OPEN);const g=new Event("open");if((l=ut(this,Pl))==null||l.call(this,g),this.dispatchEvent(g),typeof c!="object"||!c||!("getReader"in c)){zi(this,Br,Dl).call(this,"Invalid response body, expected a web ReadableStream",f),this.close();return}const v=new TextDecoder,b=c.getReader();let E=!0;do{const{done:R,value:k}=await b.read();k&&ut(this,Ws).feed(v.decode(k,{stream:!R})),R&&(E=!1,ut(this,Ws).reset(),zi(this,Br,vg).call(this))}while(E)}),_n(this,mg,a=>{Zt(this,yo,void 0),!(a.name==="AbortError"||a.type==="aborted")&&zi(this,Br,vg).call(this,fg(a))}),_n(this,gg,a=>{typeof a.id=="string"&&Zt(this,Vl,a.id);const l=new MessageEvent(a.event||"message",{data:a.data,origin:ut(this,Qs)?ut(this,Qs).origin:ut(this,is).origin,lastEventId:a.id||""});ut(this,ea)&&(!a.event||a.event==="message")&&ut(this,ea).call(this,l),this.dispatchEvent(l)}),_n(this,yg,a=>{Zt(this,ql,a)}),_n(this,_g,()=>{Zt(this,aa,void 0),ut(this,or)===this.CONNECTING&&zi(this,Br,hg).call(this)});try{if(t instanceof URL)Zt(this,is,t);else if(typeof t=="string")Zt(this,is,new URL(t,KG()));else throw new Error("Invalid URL")}catch{throw ZG("An invalid or illegal string was specified")}Zt(this,Ws,WC({onEvent:ut(this,gg),onRetry:ut(this,yg)})),Zt(this,or,this.CONNECTING),Zt(this,ql,3e3),Zt(this,Kd,(r=n==null?void 0:n.fetch)!=null?r:globalThis.fetch),Zt(this,Ed,(o=n==null?void 0:n.withCredentials)!=null?o:!1),zi(this,Br,hg).call(this)}get readyState(){return ut(this,or)}get url(){return ut(this,is).href}get withCredentials(){return ut(this,Ed)}get onerror(){return ut(this,pa)}set onerror(t){Zt(this,pa,t)}get onmessage(){return ut(this,ea)}set onmessage(t){Zt(this,ea,t)}get onopen(){return ut(this,Pl)}set onopen(t){Zt(this,Pl,t)}addEventListener(t,n,r){const o=n;super.addEventListener(t,o,r)}removeEventListener(t,n,r){const o=n;super.removeEventListener(t,o,r)}close(){ut(this,aa)&&clearTimeout(ut(this,aa)),ut(this,or)!==this.CLOSED&&(ut(this,yo)&&ut(this,yo).abort(),Zt(this,or,this.CLOSED),Zt(this,yo,void 0))}}or=new WeakMap,is=new WeakMap,Qs=new WeakMap,Ed=new WeakMap,Kd=new WeakMap,ql=new WeakMap,aa=new WeakMap,Vl=new WeakMap,yo=new WeakMap,Ws=new WeakMap,pa=new WeakMap,ea=new WeakMap,Pl=new WeakMap,Br=new WeakSet,hg=function(){Zt(this,or,this.CONNECTING),Zt(this,yo,new AbortController),ut(this,Kd)(ut(this,is),zi(this,Br,dT).call(this)).then(ut(this,pg)).catch(ut(this,mg))},pg=new WeakMap,mg=new WeakMap,dT=function(){var e;const t={mode:"cors",redirect:"follow",headers:{Accept:"text/event-stream",...ut(this,Vl)?{"Last-Event-ID":ut(this,Vl)}:void 0},cache:"no-store",signal:(e=ut(this,yo))==null?void 0:e.signal};return"window"in globalThis&&(t.credentials=this.withCredentials?"include":"same-origin"),t},gg=new WeakMap,yg=new WeakMap,Dl=function(e,t){var n;ut(this,or)!==this.CLOSED&&Zt(this,or,this.CLOSED);const r=new uT("error",{code:t,message:e});(n=ut(this,pa))==null||n.call(this,r),this.dispatchEvent(r)},vg=function(e,t){var n;if(ut(this,or)===this.CLOSED)return;Zt(this,or,this.CONNECTING);const r=new uT("error",{code:t,message:e});(n=ut(this,pa))==null||n.call(this,r),this.dispatchEvent(r),Zt(this,aa,setTimeout(ut(this,_g),ut(this,ql)))},_g=new WeakMap,Td.CONNECTING=0,Td.OPEN=1,Td.CLOSED=2;function KG(){const e="document"in globalThis?globalThis.document:void 0;return e&&typeof e=="object"&&"baseURI"in e&&typeof e.baseURI=="string"?e.baseURI:void 0}function Yd(e){return e?e instanceof Headers?Object.fromEntries(e.entries()):Array.isArray(e)?Object.fromEntries(e):{...e}:{}}function tA(e=fetch,t){return t?async(n,r)=>{const o={...t,...r,headers:r!=null&&r.headers?{...Yd(t.headers),...Yd(r.headers)}:t.headers};return e(n,o)}:e}let H0;H0=globalThis.crypto;async function YG(e){return(await H0).getRandomValues(new Uint8Array(e))}async function XG(e){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~",n=Math.pow(2,8)-Math.pow(2,8)%t.length;let r="";for(;r.length<e;){const o=await YG(e-r.length);for(const a of o)a<n&&(r+=t[a%t.length])}return r}async function QG(e){return await XG(e)}async function WG(e){const t=await(await H0).subtle.digest("SHA-256",new TextEncoder().encode(e));return btoa(String.fromCharCode(...new Uint8Array(t))).replace(/\//g,"_").replace(/\+/g,"-").replace(/=/g,"")}async function e7(e){if(e||(e=43),e<43||e>128)throw`Expected a length between 43 and 128. Received ${e}.`;const t=await QG(e),n=await WG(t);return{code_verifier:t,code_challenge:n}}const Pn=eB().superRefine((e,t)=>{if(!URL.canParse(e))return t.addIssue({code:GB.custom,message:"URL must be parseable",fatal:!0}),r6}).refine(e=>{const t=new URL(e);return t.protocol!=="javascript:"&&t.protocol!=="data:"&&t.protocol!=="vbscript:"},{message:"URL cannot use javascript:, data:, or vbscript: scheme"}),t7=Dn({resource:J().url(),authorization_servers:Ne(Pn).optional(),jwks_uri:J().url().optional(),scopes_supported:Ne(J()).optional(),bearer_methods_supported:Ne(J()).optional(),resource_signing_alg_values_supported:Ne(J()).optional(),resource_name:J().optional(),resource_documentation:J().optional(),resource_policy_uri:J().url().optional(),resource_tos_uri:J().url().optional(),tls_client_certificate_bound_access_tokens:jt().optional(),authorization_details_types_supported:Ne(J()).optional(),dpop_signing_alg_values_supported:Ne(J()).optional(),dpop_bound_access_tokens_required:jt().optional()}),nA=Dn({issuer:J(),authorization_endpoint:Pn,token_endpoint:Pn,registration_endpoint:Pn.optional(),scopes_supported:Ne(J()).optional(),response_types_supported:Ne(J()),response_modes_supported:Ne(J()).optional(),grant_types_supported:Ne(J()).optional(),token_endpoint_auth_methods_supported:Ne(J()).optional(),token_endpoint_auth_signing_alg_values_supported:Ne(J()).optional(),service_documentation:Pn.optional(),revocation_endpoint:Pn.optional(),revocation_endpoint_auth_methods_supported:Ne(J()).optional(),revocation_endpoint_auth_signing_alg_values_supported:Ne(J()).optional(),introspection_endpoint:J().optional(),introspection_endpoint_auth_methods_supported:Ne(J()).optional(),introspection_endpoint_auth_signing_alg_values_supported:Ne(J()).optional(),code_challenge_methods_supported:Ne(J()).optional(),client_id_metadata_document_supported:jt().optional()}),n7=Dn({issuer:J(),authorization_endpoint:Pn,token_endpoint:Pn,userinfo_endpoint:Pn.optional(),jwks_uri:Pn,registration_endpoint:Pn.optional(),scopes_supported:Ne(J()).optional(),response_types_supported:Ne(J()),response_modes_supported:Ne(J()).optional(),grant_types_supported:Ne(J()).optional(),acr_values_supported:Ne(J()).optional(),subject_types_supported:Ne(J()),id_token_signing_alg_values_supported:Ne(J()),id_token_encryption_alg_values_supported:Ne(J()).optional(),id_token_encryption_enc_values_supported:Ne(J()).optional(),userinfo_signing_alg_values_supported:Ne(J()).optional(),userinfo_encryption_alg_values_supported:Ne(J()).optional(),userinfo_encryption_enc_values_supported:Ne(J()).optional(),request_object_signing_alg_values_supported:Ne(J()).optional(),request_object_encryption_alg_values_supported:Ne(J()).optional(),request_object_encryption_enc_values_supported:Ne(J()).optional(),token_endpoint_auth_methods_supported:Ne(J()).optional(),token_endpoint_auth_signing_alg_values_supported:Ne(J()).optional(),display_values_supported:Ne(J()).optional(),claim_types_supported:Ne(J()).optional(),claims_supported:Ne(J()).optional(),service_documentation:J().optional(),claims_locales_supported:Ne(J()).optional(),ui_locales_supported:Ne(J()).optional(),claims_parameter_supported:jt().optional(),request_parameter_supported:jt().optional(),request_uri_parameter_supported:jt().optional(),require_request_uri_registration:jt().optional(),op_policy_uri:Pn.optional(),op_tos_uri:Pn.optional(),client_id_metadata_document_supported:jt().optional()}),r7=Ie({...n7.shape,...nA.pick({code_challenge_methods_supported:!0}).shape}),i7=Ie({access_token:J(),id_token:J().optional(),token_type:J(),expires_in:JB().optional(),scope:J().optional(),refresh_token:J().optional()}).strip(),o7=Ie({error:J(),error_description:J().optional(),error_uri:J().optional()}),fT=Pn.optional().or(qe("").transform(()=>{})),s7=Ie({redirect_uris:Ne(Pn),token_endpoint_auth_method:J().optional(),grant_types:Ne(J()).optional(),response_types:Ne(J()).optional(),client_name:J().optional(),client_uri:Pn.optional(),logo_uri:fT,scope:J().optional(),contacts:Ne(J()).optional(),tos_uri:fT,policy_uri:J().optional(),jwks_uri:Pn.optional(),jwks:bB().optional(),software_id:J().optional(),software_version:J().optional(),software_statement:J().optional()}).strip(),a7=Ie({client_id:J(),client_secret:J().optional(),client_id_issued_at:Tt().optional(),client_secret_expires_at:Tt().optional()}).strip(),l7=s7.merge(a7);Ie({error:J(),error_description:J().optional()}).strip();Ie({token:J(),token_type_hint:J().optional()}).strip();function u7(e){const t=typeof e=="string"?new URL(e):new URL(e.href);return t.hash="",t}function c7({requestedResource:e,configuredResource:t}){const n=typeof e=="string"?new URL(e):new URL(e.href),r=typeof t=="string"?new URL(t):new URL(t.href);if(n.origin!==r.origin||n.pathname.length<r.pathname.length)return!1;const o=n.pathname.endsWith("/")?n.pathname:n.pathname+"/",a=r.pathname.endsWith("/")?r.pathname:r.pathname+"/";return o.startsWith(a)}class En extends Error{constructor(t,n){super(t),this.errorUri=n,this.name=this.constructor.name}toResponseObject(){const t={error:this.errorCode,error_description:this.message};return this.errorUri&&(t.error_uri=this.errorUri),t}get errorCode(){return this.constructor.errorCode}}class bg extends En{}bg.errorCode="invalid_request";class Xd extends En{}Xd.errorCode="invalid_client";class Qd extends En{}Qd.errorCode="invalid_grant";class Wd extends En{}Wd.errorCode="unauthorized_client";class xg extends En{}xg.errorCode="unsupported_grant_type";class Sg extends En{}Sg.errorCode="invalid_scope";class wg extends En{}wg.errorCode="access_denied";class ba extends En{}ba.errorCode="server_error";class Eg extends En{}Eg.errorCode="temporarily_unavailable";class Tg extends En{}Tg.errorCode="unsupported_response_type";class kg extends En{}kg.errorCode="unsupported_token_type";class Cg extends En{}Cg.errorCode="invalid_token";class Ag extends En{}Ag.errorCode="method_not_allowed";class Ng extends En{}Ng.errorCode="too_many_requests";class ef extends En{}ef.errorCode="invalid_client_metadata";class Rg extends En{}Rg.errorCode="insufficient_scope";class Ig extends En{}Ig.errorCode="invalid_target";const d7={[bg.errorCode]:bg,[Xd.errorCode]:Xd,[Qd.errorCode]:Qd,[Wd.errorCode]:Wd,[xg.errorCode]:xg,[Sg.errorCode]:Sg,[wg.errorCode]:wg,[ba.errorCode]:ba,[Eg.errorCode]:Eg,[Tg.errorCode]:Tg,[kg.errorCode]:kg,[Cg.errorCode]:Cg,[Ag.errorCode]:Ag,[Ng.errorCode]:Ng,[ef.errorCode]:ef,[Rg.errorCode]:Rg,[Ig.errorCode]:Ig};class Gr extends Error{constructor(t){super(t??"Unauthorized")}}function f7(e){return["client_secret_basic","client_secret_post","none"].includes(e)}const Cm="code",Am="S256";function h7(e,t){const n=e.client_secret!==void 0;return t.length===0?n?"client_secret_post":"none":"token_endpoint_auth_method"in e&&e.token_endpoint_auth_method&&f7(e.token_endpoint_auth_method)&&t.includes(e.token_endpoint_auth_method)?e.token_endpoint_auth_method:n&&t.includes("client_secret_basic")?"client_secret_basic":n&&t.includes("client_secret_post")?"client_secret_post":t.includes("none")?"none":n?"client_secret_post":"none"}function p7(e,t,n,r){const{client_id:o,client_secret:a}=t;switch(e){case"client_secret_basic":m7(o,a,n);return;case"client_secret_post":g7(o,a,r);return;case"none":y7(o,r);return;default:throw new Error(`Unsupported client authentication method: ${e}`)}}function m7(e,t,n){if(!t)throw new Error("client_secret_basic authentication requires a client_secret");const r=btoa(`${e}:${t}`);n.set("Authorization",`Basic ${r}`)}function g7(e,t,n){n.set("client_id",e),t&&n.set("client_secret",t)}function y7(e,t){t.set("client_id",e)}async function rA(e){const t=e instanceof Response?e.status:void 0,n=e instanceof Response?await e.text():e;try{const r=o7.parse(JSON.parse(n)),{error:o,error_description:a,error_uri:l}=r,c=d7[o]||ba;return new c(a||"",l)}catch(r){const o=`${t?`HTTP ${t}: `:""}Invalid OAuth error response: ${r}. Raw body: ${n}`;return new ba(o)}}async function os(e,t){var n,r;try{return await Nm(e,t)}catch(o){if(o instanceof Xd||o instanceof Wd)return await((n=e.invalidateCredentials)==null?void 0:n.call(e,"all")),await Nm(e,t);if(o instanceof Qd)return await((r=e.invalidateCredentials)==null?void 0:r.call(e,"tokens")),await Nm(e,t);throw o}}async function Nm(e,{serverUrl:t,authorizationCode:n,scope:r,resourceMetadataUrl:o,fetchFn:a}){var k,w;let l,c;try{l=await b7(t,{resourceMetadataUrl:o},a),l.authorization_servers&&l.authorization_servers.length>0&&(c=l.authorization_servers[0])}catch{}c||(c=new URL("/",t));const d=await _7(t,e,l),f=await T7(c,{fetchFn:a});let p=await Promise.resolve(e.clientInformation());if(!p){if(n!==void 0)throw new Error("Existing OAuth client information is required when exchanging an authorization code");const T=(f==null?void 0:f.client_id_metadata_document_supported)===!0,A=e.clientMetadataUrl;if(A&&!v7(A))throw new ef(`clientMetadataUrl must be a valid HTTPS URL with a non-root pathname, got: ${A}`);if(T&&A)p={client_id:A},await((k=e.saveClientInformation)==null?void 0:k.call(e,p));else{if(!e.saveClientInformation)throw new Error("OAuth client information must be saveable for dynamic registration");const C=await R7(c,{metadata:f,clientMetadata:e.clientMetadata,fetchFn:a});await e.saveClientInformation(C),p=C}}const g=!e.redirectUrl;if(n!==void 0||g){const T=await N7(e,c,{metadata:f,resource:d,authorizationCode:n,fetchFn:a});return await e.saveTokens(T),"AUTHORIZED"}const v=await e.tokens();if(v!=null&&v.refresh_token)try{const T=await A7(c,{metadata:f,clientInformation:p,refreshToken:v.refresh_token,resource:d,addClientAuthentication:e.addClientAuthentication,fetchFn:a});return await e.saveTokens(T),"AUTHORIZED"}catch(T){if(!(!(T instanceof En)||T instanceof ba))throw T}const b=e.state?await e.state():void 0,{authorizationUrl:E,codeVerifier:R}=await k7(c,{metadata:f,clientInformation:p,state:b,redirectUrl:e.redirectUrl,scope:r||((w=l==null?void 0:l.scopes_supported)==null?void 0:w.join(" "))||e.clientMetadata.scope,resource:d});return await e.saveCodeVerifier(R),await e.redirectToAuthorization(E),"REDIRECT"}function v7(e){if(!e)return!1;try{const t=new URL(e);return t.protocol==="https:"&&t.pathname!=="/"}catch{return!1}}async function _7(e,t,n){const r=u7(e);if(t.validateResourceURL)return await t.validateResourceURL(r,n==null?void 0:n.resource);if(n){if(!c7({requestedResource:r,configuredResource:n.resource}))throw new Error(`Protected resource ${n.resource} does not match expected ${r} (or origin)`);return new URL(n.resource)}}function tf(e){const t=e.headers.get("WWW-Authenticate");if(!t)return{};const[n,r]=t.split(" ");if(n.toLowerCase()!=="bearer"||!r)return{};const o=Rm(e,"resource_metadata")||void 0;let a;if(o)try{a=new URL(o)}catch{}const l=Rm(e,"scope")||void 0,c=Rm(e,"error")||void 0;return{resourceMetadataUrl:a,scope:l,error:c}}function Rm(e,t){const n=e.headers.get("WWW-Authenticate");if(!n)return null;const r=new RegExp(`${t}=(?:"([^"]+)"|([^\\s,]+))`),o=n.match(r);return o?o[1]||o[2]:null}async function b7(e,t,n=fetch){var o,a;const r=await w7(e,"oauth-protected-resource",n,{protocolVersion:t==null?void 0:t.protocolVersion,metadataUrl:t==null?void 0:t.resourceMetadataUrl});if(!r||r.status===404)throw await((o=r==null?void 0:r.body)==null?void 0:o.cancel()),new Error("Resource server does not implement OAuth 2.0 Protected Resource Metadata.");if(!r.ok)throw await((a=r.body)==null?void 0:a.cancel()),new Error(`HTTP ${r.status} trying to load well-known OAuth protected resource metadata.`);return t7.parse(await r.json())}async function B0(e,t,n=fetch){try{return await n(e,{headers:t})}catch(r){if(r instanceof TypeError)return t?B0(e,void 0,n):void 0;throw r}}function x7(e,t="",n={}){return t.endsWith("/")&&(t=t.slice(0,-1)),n.prependPathname?`${t}/.well-known/${e}`:`/.well-known/${e}${t}`}async function hT(e,t,n=fetch){return await B0(e,{"MCP-Protocol-Version":t},n)}function S7(e,t){return!e||e.status>=400&&e.status<500&&t!=="/"}async function w7(e,t,n,r){const o=new URL(e),a=(r==null?void 0:r.protocolVersion)??wf;let l;if(r!=null&&r.metadataUrl)l=new URL(r.metadataUrl);else{const d=x7(t,o.pathname);l=new URL(d,(r==null?void 0:r.metadataServerUrl)??o),l.search=o.search}let c=await hT(l,a,n);if(!(r!=null&&r.metadataUrl)&&S7(c,o.pathname)){const d=new URL(`/.well-known/${t}`,o);c=await hT(d,a,n)}return c}function E7(e){const t=typeof e=="string"?new URL(e):e,n=t.pathname!=="/",r=[];if(!n)return r.push({url:new URL("/.well-known/oauth-authorization-server",t.origin),type:"oauth"}),r.push({url:new URL("/.well-known/openid-configuration",t.origin),type:"oidc"}),r;let o=t.pathname;return o.endsWith("/")&&(o=o.slice(0,-1)),r.push({url:new URL(`/.well-known/oauth-authorization-server${o}`,t.origin),type:"oauth"}),r.push({url:new URL(`/.well-known/openid-configuration${o}`,t.origin),type:"oidc"}),r.push({url:new URL(`${o}/.well-known/openid-configuration`,t.origin),type:"oidc"}),r}async function T7(e,{fetchFn:t=fetch,protocolVersion:n=wf}={}){var a;const r={"MCP-Protocol-Version":n,Accept:"application/json"},o=E7(e);for(const{url:l,type:c}of o){const d=await B0(l,r,t);if(d){if(!d.ok){if(await((a=d.body)==null?void 0:a.cancel()),d.status>=400&&d.status<500)continue;throw new Error(`HTTP ${d.status} trying to load ${c==="oauth"?"OAuth":"OpenID provider"} metadata from ${l}`)}return c==="oauth"?nA.parse(await d.json()):r7.parse(await d.json())}}}async function k7(e,{metadata:t,clientInformation:n,redirectUrl:r,scope:o,state:a,resource:l}){let c;if(t){if(c=new URL(t.authorization_endpoint),!t.response_types_supported.includes(Cm))throw new Error(`Incompatible auth server: does not support response type ${Cm}`);if(t.code_challenge_methods_supported&&!t.code_challenge_methods_supported.includes(Am))throw new Error(`Incompatible auth server: does not support code challenge method ${Am}`)}else c=new URL("/authorize",e);const d=await e7(),f=d.code_verifier,p=d.code_challenge;return c.searchParams.set("response_type",Cm),c.searchParams.set("client_id",n.client_id),c.searchParams.set("code_challenge",p),c.searchParams.set("code_challenge_method",Am),c.searchParams.set("redirect_uri",String(r)),a&&c.searchParams.set("state",a),o&&c.searchParams.set("scope",o),o!=null&&o.includes("offline_access")&&c.searchParams.append("prompt","consent"),l&&c.searchParams.set("resource",l.href),{authorizationUrl:c,codeVerifier:f}}function C7(e,t,n){return new URLSearchParams({grant_type:"authorization_code",code:e,code_verifier:t,redirect_uri:String(n)})}async function iA(e,{metadata:t,tokenRequestParams:n,clientInformation:r,addClientAuthentication:o,resource:a,fetchFn:l}){const c=t!=null&&t.token_endpoint?new URL(t.token_endpoint):new URL("/token",e),d=new Headers({"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"});if(a&&n.set("resource",a.href),o)await o(d,n,c,t);else if(r){const p=(t==null?void 0:t.token_endpoint_auth_methods_supported)??[],g=h7(r,p);p7(g,r,d,n)}const f=await(l??fetch)(c,{method:"POST",headers:d,body:n});if(!f.ok)throw await rA(f);return i7.parse(await f.json())}async function A7(e,{metadata:t,clientInformation:n,refreshToken:r,resource:o,addClientAuthentication:a,fetchFn:l}){const c=new URLSearchParams({grant_type:"refresh_token",refresh_token:r}),d=await iA(e,{metadata:t,tokenRequestParams:c,clientInformation:n,addClientAuthentication:a,resource:o,fetchFn:l});return{refresh_token:r,...d}}async function N7(e,t,{metadata:n,resource:r,authorizationCode:o,fetchFn:a}={}){const l=e.clientMetadata.scope;let c;if(e.prepareTokenRequest&&(c=await e.prepareTokenRequest(l)),!c){if(!o)throw new Error("Either provider.prepareTokenRequest() or authorizationCode is required");if(!e.redirectUrl)throw new Error("redirectUrl is required for authorization_code flow");const f=await e.codeVerifier();c=C7(o,f,e.redirectUrl)}const d=await e.clientInformation();return iA(t,{metadata:n,tokenRequestParams:c,clientInformation:d??void 0,addClientAuthentication:e.addClientAuthentication,resource:r,fetchFn:a})}async function R7(e,{metadata:t,clientMetadata:n,fetchFn:r}){let o;if(t){if(!t.registration_endpoint)throw new Error("Incompatible auth server: does not support dynamic client registration");o=new URL(t.registration_endpoint)}else o=new URL("/register",e);const a=await(r??fetch)(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!a.ok)throw await rA(a);return l7.parse(await a.json())}class I7 extends Error{constructor(t,n,r){super(`SSE error: ${n}`),this.code=t,this.event=r}}class M7{constructor(t,n){this._url=t,this._resourceMetadataUrl=void 0,this._scope=void 0,this._eventSourceInit=n==null?void 0:n.eventSourceInit,this._requestInit=n==null?void 0:n.requestInit,this._authProvider=n==null?void 0:n.authProvider,this._fetch=n==null?void 0:n.fetch,this._fetchWithInit=tA(n==null?void 0:n.fetch,n==null?void 0:n.requestInit)}async _authThenStart(){var n;if(!this._authProvider)throw new Gr("No auth provider");let t;try{t=await os(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetchWithInit})}catch(r){throw(n=this.onerror)==null||n.call(this,r),r}if(t!=="AUTHORIZED")throw new Gr;return await this._startOrAuth()}async _commonHeaders(){var r;const t={};if(this._authProvider){const o=await this._authProvider.tokens();o&&(t.Authorization=`Bearer ${o.access_token}`)}this._protocolVersion&&(t["mcp-protocol-version"]=this._protocolVersion);const n=Yd((r=this._requestInit)==null?void 0:r.headers);return new Headers({...t,...n})}_startOrAuth(){var n;const t=((n=this==null?void 0:this._eventSourceInit)==null?void 0:n.fetch)??this._fetch??fetch;return new Promise((r,o)=>{this._eventSource=new Td(this._url.href,{...this._eventSourceInit,fetch:async(a,l)=>{const c=await this._commonHeaders();c.set("Accept","text/event-stream");const d=await t(a,{...l,headers:c});if(d.status===401&&d.headers.has("www-authenticate")){const{resourceMetadataUrl:f,scope:p}=tf(d);this._resourceMetadataUrl=f,this._scope=p}return d}}),this._abortController=new AbortController,this._eventSource.onerror=a=>{var c;if(a.code===401&&this._authProvider){this._authThenStart().then(r,o);return}const l=new I7(a.code,a.message,a);o(l),(c=this.onerror)==null||c.call(this,l)},this._eventSource.onopen=()=>{},this._eventSource.addEventListener("endpoint",a=>{var c;const l=a;try{if(this._endpoint=new URL(l.data,this._url),this._endpoint.origin!==this._url.origin)throw new Error(`Endpoint origin does not match connection origin: ${this._endpoint.origin}`)}catch(d){o(d),(c=this.onerror)==null||c.call(this,d),this.close();return}r()}),this._eventSource.onmessage=a=>{var d,f;const l=a;let c;try{c=Sd.parse(JSON.parse(l.data))}catch(p){(d=this.onerror)==null||d.call(this,p);return}(f=this.onmessage)==null||f.call(this,c)}})}async start(){if(this._eventSource)throw new Error("SSEClientTransport already started! If using Client class, note that connect() calls start() automatically.");return await this._startOrAuth()}async finishAuth(t){if(!this._authProvider)throw new Gr("No auth provider");if(await os(this._authProvider,{serverUrl:this._url,authorizationCode:t,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetchWithInit})!=="AUTHORIZED")throw new Gr("Failed to authorize")}async close(){var t,n,r;(t=this._abortController)==null||t.abort(),(n=this._eventSource)==null||n.close(),(r=this.onclose)==null||r.call(this)}async send(t){var n,r,o;if(!this._endpoint)throw new Error("Not connected");try{const a=await this._commonHeaders();a.set("content-type","application/json");const l={...this._requestInit,method:"POST",headers:a,body:JSON.stringify(t),signal:(n=this._abortController)==null?void 0:n.signal},c=await(this._fetch??fetch)(this._endpoint,l);if(!c.ok){const d=await c.text().catch(()=>null);if(c.status===401&&this._authProvider){const{resourceMetadataUrl:f,scope:p}=tf(c);if(this._resourceMetadataUrl=f,this._scope=p,await os(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetchWithInit})!=="AUTHORIZED")throw new Gr;return this.send(t)}throw new Error(`Error POSTing to endpoint (HTTP ${c.status}): ${d}`)}await((r=c.body)==null?void 0:r.cancel())}catch(a){throw(o=this.onerror)==null||o.call(this,a),a}}setProtocolVersion(t){this._protocolVersion=t}}class P7 extends TransformStream{constructor({onError:t,onRetry:n,onComment:r}={}){let o;super({start(a){o=WC({onEvent:l=>{a.enqueue(l)},onError(l){t==="terminate"?a.error(l):typeof t=="function"&&t(l)},onRetry:n,onComment:r})},transform(a){o.feed(a)}})}}const D7={initialReconnectionDelay:1e3,maxReconnectionDelay:3e4,reconnectionDelayGrowFactor:1.5,maxRetries:2};class Ks extends Error{constructor(t,n){super(`Streamable HTTP error: ${n}`),this.code=t}}class z7{constructor(t,n){this._hasCompletedAuthFlow=!1,this._url=t,this._resourceMetadataUrl=void 0,this._scope=void 0,this._requestInit=n==null?void 0:n.requestInit,this._authProvider=n==null?void 0:n.authProvider,this._fetch=n==null?void 0:n.fetch,this._fetchWithInit=tA(n==null?void 0:n.fetch,n==null?void 0:n.requestInit),this._sessionId=n==null?void 0:n.sessionId,this._reconnectionOptions=(n==null?void 0:n.reconnectionOptions)??D7}async _authThenStart(){var n;if(!this._authProvider)throw new Gr("No auth provider");let t;try{t=await os(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetchWithInit})}catch(r){throw(n=this.onerror)==null||n.call(this,r),r}if(t!=="AUTHORIZED")throw new Gr;return await this._startOrAuthSse({resumptionToken:void 0})}async _commonHeaders(){var r;const t={};if(this._authProvider){const o=await this._authProvider.tokens();o&&(t.Authorization=`Bearer ${o.access_token}`)}this._sessionId&&(t["mcp-session-id"]=this._sessionId),this._protocolVersion&&(t["mcp-protocol-version"]=this._protocolVersion);const n=Yd((r=this._requestInit)==null?void 0:r.headers);return new Headers({...t,...n})}async _startOrAuthSse(t){var r,o,a;const{resumptionToken:n}=t;try{const l=await this._commonHeaders();l.set("Accept","text/event-stream"),n&&l.set("last-event-id",n);const c=await(this._fetch??fetch)(this._url,{method:"GET",headers:l,signal:(r=this._abortController)==null?void 0:r.signal});if(!c.ok){if(await((o=c.body)==null?void 0:o.cancel()),c.status===401&&this._authProvider)return await this._authThenStart();if(c.status===405)return;throw new Ks(c.status,`Failed to open SSE stream: ${c.statusText}`)}this._handleSseStream(c.body,t,!0)}catch(l){throw(a=this.onerror)==null||a.call(this,l),l}}_getNextReconnectionDelay(t){if(this._serverRetryMs!==void 0)return this._serverRetryMs;const n=this._reconnectionOptions.initialReconnectionDelay,r=this._reconnectionOptions.reconnectionDelayGrowFactor,o=this._reconnectionOptions.maxReconnectionDelay;return Math.min(n*Math.pow(r,t),o)}_scheduleReconnection(t,n=0){var a;const r=this._reconnectionOptions.maxRetries;if(n>=r){(a=this.onerror)==null||a.call(this,new Error(`Maximum reconnection attempts (${r}) exceeded.`));return}const o=this._getNextReconnectionDelay(n);this._reconnectionTimeout=setTimeout(()=>{this._startOrAuthSse(t).catch(l=>{var c;(c=this.onerror)==null||c.call(this,new Error(`Failed to reconnect SSE stream: ${l instanceof Error?l.message:String(l)}`)),this._scheduleReconnection(t,n+1)})},o)}_handleSseStream(t,n,r){if(!t)return;const{onresumptiontoken:o,replayMessageId:a}=n;let l,c=!1,d=!1;(async()=>{var p,g,v,b;try{const E=t.pipeThrough(new TextDecoderStream).pipeThrough(new P7({onRetry:w=>{this._serverRetryMs=w}})).getReader();for(;;){const{value:w,done:T}=await E.read();if(T)break;if(w.id&&(l=w.id,c=!0,o==null||o(w.id)),!!w.data&&(!w.event||w.event==="message"))try{const A=Sd.parse(JSON.parse(w.data));Ml(A)&&(d=!0,a!==void 0&&(A.id=a)),(p=this.onmessage)==null||p.call(this,A)}catch(A){(g=this.onerror)==null||g.call(this,A)}}(r||c)&&!d&&this._abortController&&!this._abortController.signal.aborted&&this._scheduleReconnection({resumptionToken:l,onresumptiontoken:o,replayMessageId:a},0)}catch(E){if((v=this.onerror)==null||v.call(this,new Error(`SSE stream disconnected: ${E}`)),(r||c)&&!d&&this._abortController&&!this._abortController.signal.aborted)try{this._scheduleReconnection({resumptionToken:l,onresumptiontoken:o,replayMessageId:a},0)}catch(w){(b=this.onerror)==null||b.call(this,new Error(`Failed to reconnect: ${w instanceof Error?w.message:String(w)}`))}}})()}async start(){if(this._abortController)throw new Error("StreamableHTTPClientTransport already started! If using Client class, note that connect() calls start() automatically.");this._abortController=new AbortController}async finishAuth(t){if(!this._authProvider)throw new Gr("No auth provider");if(await os(this._authProvider,{serverUrl:this._url,authorizationCode:t,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetchWithInit})!=="AUTHORIZED")throw new Gr("Failed to authorize")}async close(){var t,n;this._reconnectionTimeout&&(clearTimeout(this._reconnectionTimeout),this._reconnectionTimeout=void 0),(t=this._abortController)==null||t.abort(),(n=this.onclose)==null||n.call(this)}async send(t,n){var r,o,a,l,c,d;try{const{resumptionToken:f,onresumptiontoken:p}=n||{};if(f){this._startOrAuthSse({resumptionToken:f,replayMessageId:dg(t)?t.id:void 0}).catch(T=>{var A;return(A=this.onerror)==null?void 0:A.call(this,T)});return}const g=await this._commonHeaders();g.set("content-type","application/json"),g.set("accept","application/json, text/event-stream");const v={...this._requestInit,method:"POST",headers:g,body:JSON.stringify(t),signal:(r=this._abortController)==null?void 0:r.signal},b=await(this._fetch??fetch)(this._url,v),E=b.headers.get("mcp-session-id");if(E&&(this._sessionId=E),!b.ok){const T=await b.text().catch(()=>null);if(b.status===401&&this._authProvider){if(this._hasCompletedAuthFlow)throw new Ks(401,"Server returned 401 after successful authentication");const{resourceMetadataUrl:A,scope:M}=tf(b);if(this._resourceMetadataUrl=A,this._scope=M,await os(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetchWithInit})!=="AUTHORIZED")throw new Gr;return this._hasCompletedAuthFlow=!0,this.send(t)}if(b.status===403&&this._authProvider){const{resourceMetadataUrl:A,scope:M,error:C}=tf(b);if(C==="insufficient_scope"){const N=b.headers.get("WWW-Authenticate");if(this._lastUpscopingHeader===N)throw new Ks(403,"Server returned 403 after trying upscoping");if(M&&(this._scope=M),A&&(this._resourceMetadataUrl=A),this._lastUpscopingHeader=N??void 0,await os(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetch})!=="AUTHORIZED")throw new Gr;return this.send(t)}}throw new Ks(b.status,`Error POSTing to endpoint: ${T}`)}if(this._hasCompletedAuthFlow=!1,this._lastUpscopingHeader=void 0,b.status===202){await((o=b.body)==null?void 0:o.cancel()),cF(t)&&this._startOrAuthSse({resumptionToken:void 0}).catch(T=>{var A;return(A=this.onerror)==null?void 0:A.call(this,T)});return}const k=(Array.isArray(t)?t:[t]).filter(T=>"method"in T&&"id"in T&&T.id!==void 0).length>0,w=b.headers.get("content-type");if(k)if(w!=null&&w.includes("text/event-stream"))this._handleSseStream(b.body,{onresumptiontoken:p},!1);else if(w!=null&&w.includes("application/json")){const T=await b.json(),A=Array.isArray(T)?T.map(M=>Sd.parse(M)):[Sd.parse(T)];for(const M of A)(a=this.onmessage)==null||a.call(this,M)}else throw await((l=b.body)==null?void 0:l.cancel()),new Ks(-1,`Unexpected content type: ${w}`);else await((c=b.body)==null?void 0:c.cancel())}catch(f){throw(d=this.onerror)==null||d.call(this,f),f}}get sessionId(){return this._sessionId}async terminateSession(){var t,n,r;if(this._sessionId)try{const o=await this._commonHeaders(),a={...this._requestInit,method:"DELETE",headers:o,signal:(t=this._abortController)==null?void 0:t.signal},l=await(this._fetch??fetch)(this._url,a);if(await((n=l.body)==null?void 0:n.cancel()),!l.ok&&l.status!==405)throw new Ks(l.status,`Failed to terminate session: ${l.statusText}`);this._sessionId=void 0}catch(o){throw(r=this.onerror)==null||r.call(this,o),o}}setProtocolVersion(t){this._protocolVersion=t}get protocolVersion(){return this._protocolVersion}async resumeStream(t,n){await this._startOrAuthSse({resumptionToken:t,onresumptiontoken:n==null?void 0:n.onresumptiontoken})}}class O7{constructor(){this.client=null,this.transport=null,this.connectionMode=null}async connect(t){await this.disconnect(),this.client=new aT({name:"MCP-Inspector",version:"1.0.0"},{capabilities:{roots:{listChanged:!0},sampling:{}}});const n=new URL(t.url);let r=new URL(t.url);n.pathname.endsWith("/mcp")&&(r=new URL(t.url.replace(/\/mcp$/,"/sse")));const o={};t.authToken&&(o.Authorization=`Bearer ${t.authToken}`),t.customHeaders&&Object.assign(o,t.customHeaders);try{console.log("[MCP] Trying SSE transport first...",r.toString()),this.transport=new M7(r,{requestInit:{headers:o}});const c=this.client.connect(this.transport),d=new Promise((f,p)=>{setTimeout(()=>p(new Error("SSE connection timeout")),1e4)});await Promise.race([c,d]),this.connectionMode="sse",console.log("[MCP] Connected via SSE transport");return}catch(c){console.log("[MCP] SSE transport failed:",c.message);try{await this.client.close()}catch{}this.client=new aT({name:"MCP-Inspector",version:"1.0.0"},{capabilities:{roots:{listChanged:!0},sampling:{}}})}console.log("[MCP] Falling back to HTTP (Streamable) transport...",n.toString()),this.transport=new z7(n,{requestInit:{headers:o}});const a=this.client.connect(this.transport),l=new Promise((c,d)=>{setTimeout(()=>d(new Error("Connection timeout after 10 seconds")),1e4)});await Promise.race([a,l]),this.connectionMode="http",console.log("[MCP] Connected via HTTP (Streamable) transport")}async listTools(){var t;if(!this.client)throw new Error("Not connected. Call connect() first.");try{return(await this.client.listTools()).tools.map(r=>({name:r.name,description:r.description,inputSchema:r.inputSchema}))}catch(n){if((t=n.message)!=null&&t.includes("Method not found"))return[];throw n}}async listResources(){var t;if(!this.client)throw new Error("Not connected. Call connect() first.");try{return(await this.client.listResources()).resources.map(r=>({uri:r.uri,name:r.name,mimeType:r.mimeType,description:r.description}))}catch(n){if((t=n.message)!=null&&t.includes("Method not found"))return[];throw n}}async listPrompts(){var t;if(!this.client)throw new Error("Not connected. Call connect() first.");try{return(await this.client.listPrompts()).prompts.map(r=>({name:r.name,description:r.description,arguments:r.arguments}))}catch(n){if((t=n.message)!=null&&t.includes("Method not found"))return[];throw n}}async callTool(t,n){if(!this.client)throw new Error("Not connected. Call connect() first.");return await this.client.callTool({name:t,arguments:n})}async readResource(t){if(!this.client)throw new Error("Not connected. Call connect() first.");return await this.client.readResource({uri:t})}async getPrompt(t,n){if(!this.client)throw new Error("Not connected. Call connect() first.");return await this.client.getPrompt({name:t,arguments:n})}async disconnect(){if(this.client){try{await this.client.close()}catch(t){console.error("Error closing client:",t)}this.client=null,this.transport=null}}isConnected(){return this.client!==null}}const ts=new O7,pd=e=>{if(e instanceof Error)return e.message;if(typeof e=="string")return e;if(typeof e=="object"&&e!==null){if("message"in e)return String(e.message);if("type"in e)return`Connection failed (Event type: ${e.type})`;try{const t=JSON.stringify(e);return t==="{}"?"Unknown Object Error":t}catch{return"Unknown Object Error"}}return String(e)},U7=()=>{const[e,t]=oe.useState("/mcp"),[n,r]=oe.useState(!1),[o,a]=oe.useState([]),[l,c]=oe.useState(null),[d,f]=oe.useState(""),[p,g]=oe.useState("admin"),[v,b]=oe.useState("admin"),[E,R]=oe.useState(!1),[k,w]=oe.useState(!1),[T,A]=oe.useState(!1),[M,C]=oe.useState([]),[N,P]=oe.useState([]),[L,j]=oe.useState([]),[q,H]=oe.useState([]),[K,ee]=oe.useState(""),Q=oe.useCallback((se,xe="info")=>{const Ce=xe==="traffic"?"[RPC]":`[${new Date().toLocaleTimeString()}]`;H(Ue=>[`${Ce} ${se}`,...Ue])},[]),W=()=>{a(se=>[...se,{id:Math.random().toString(36).substr(2,9),key:"",value:""}])},G=(se,xe,Ce)=>{a(Ue=>Ue.map(Y=>Y.id===se?{...Y,[xe]:Ce}:Y))},ce=se=>{a(xe=>xe.filter(Ce=>Ce.id!==se))},_e=async()=>{R(!0);try{const xe=`${e.includes("://")?e.split("/").slice(0,3).join("/"):"http://localhost:8000"}/token`;Q(`Attempting login at ${xe}...`);const Ce=new URLSearchParams;Ce.append("username",p),Ce.append("password",v);const Ue=await fetch(xe,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Ce});if(!Ue.ok){const ne=await Ue.text();throw new Error(`Login failed: ${ne}`)}const Y=await Ue.json();return f(Y.access_token),Q(" Login successful! Token received."),!0}catch(se){return Q(` Login failed: ${pd(se)}`,"error"),!1}finally{R(!1)}},ze=async()=>{try{Q("Discovering tools, resources, and prompts...");try{const se=await ts.listTools();P(se),se.length>0?Q(` Found ${se.length} tools.`):Q("No tools available.","info")}catch{Q("Server does not support tools/list","info")}try{const se=await ts.listResources();C(se),se.length>0&&Q(` Found ${se.length} resources.`)}catch{Q("Server does not support resources/list","info")}try{const se=await ts.listPrompts();j(se),se.length>0&&Q(` Found ${se.length} prompts.`)}catch{Q("Server does not support prompts/list","info")}}catch(se){Q(`Discovery error: ${pd(se)}`,"error")}},$=se=>se?se.startsWith("http://")||se.startsWith("https://")?se:se.startsWith("/")?window.location.origin+se:se.includes(":")||se.includes(".")?`http://${se}`:se:"",z=async se=>{const xe=$(se||e);if(k||T)return!0;A(!0),c(null),C([]),P([]),j([]),H([]);const Ce=async(ne,me=!1)=>{me||Q(`Connecting to ${ne}...`);try{const be={};return o.forEach(Ae=>{Ae.key.trim()&&(be[Ae.key.trim()]=Ae.value)}),await ts.connect({url:ne,authToken:d,customHeaders:be,includeCredentials:n}),me||Q(" Connected successfully!"),w(!0),A(!1),await ze(),!0}catch(be){if(!me){const Ae=pd(be);Q(` Connection failed: ${Ae}`,"error")}return!1}};if(await Ce(xe))return!0;const Y=[window.location.origin+"/mcp",window.location.origin+"/sse"];for(const ne of Y){if(ne===xe)continue;if(await Ce(ne,!0))return t(ne),!0}return A(!1),w(!1),c(`Failed to connect to MCP server at ${xe}. Please check the URL and ensure the server is running and supports SSE.`),!1},B=async()=>{await ts.disconnect(),w(!1),A(!1),Q("Disconnected.")},D=async(se,xe)=>{if(!ts.isConnected())throw new Error("Not connected to MCP server");return await ts.callTool(se,xe)},O=M.filter(se=>se.name.toLowerCase().includes(K.toLowerCase())),V=N.filter(se=>se.name.toLowerCase().includes(K.toLowerCase())),X=L.filter(se=>se.name.toLowerCase().includes(K.toLowerCase()));return{url:e,setUrl:t,includeCredentials:n,setIncludeCredentials:r,customHeaders:o,setCustomHeaders:a,authToken:d,setAuthToken:f,authUsername:p,setAuthUsername:g,authPassword:v,setAuthPassword:b,isAuthenticating:E,isConnected:k,isConnecting:T,error:l,setError:c,resources:M,tools:N,prompts:L,logs:q,setLogs:H,filter:K,setFilter:ee,filteredResources:O,filteredTools:V,filteredPrompts:X,connect:z,disconnect:B,addLog:Q,addHeader:W,updateHeader:G,removeHeader:ce,handleLogin:_e,runTool:D,getErrorMessage:pd}},$7=({type:e,className:t=""})=>{const n={RESOURCE:"bg-blue-500/10 text-blue-400 border-blue-500/20",TOOL:"bg-emerald-500/10 text-emerald-400 border-emerald-500/20",PROMPT:"bg-purple-500/10 text-purple-400 border-purple-500/20"};return x.jsx("span",{className:`px-2.5 py-0.5 rounded text-[10px] font-bold tracking-wider border ${n[e]} ${t}`,children:e})},L7=({type:e,data:t,onRunTool:n,defaultOpen:r=!1,forcedOpen:o=!1})=>{var q;const[a,l]=oe.useState(r),c=o||a,[d,f]=oe.useState(!1),[p,g]=oe.useState({}),[v,b]=oe.useState(!1),[E,R]=oe.useState(null),[k,w]=oe.useState(!1),[T,A]=oe.useState("params");oe.useEffect(()=>{var H;if(e==="TOOL"&&((H=t.inputSchema)!=null&&H.properties)){const K={};Object.keys(t.inputSchema.properties).forEach(ee=>{K[ee]=""}),g(K)}},[t,e]);const M={RESOURCE:{border:"border-blue-500/20",bg:"bg-blue-500/10",hover:"hover:brightness-110",text:"text-blue-400",button:"bg-blue-600 hover:bg-blue-500"},TOOL:{border:"border-emerald-500/20",bg:"bg-emerald-500/10",hover:"hover:brightness-110",text:"text-emerald-400",button:"bg-emerald-600 hover:bg-emerald-500 shadow-emerald-900/20"},PROMPT:{border:"border-purple-500/20",bg:"bg-purple-500/10",hover:"hover:brightness-110",text:"text-purple-400",button:"bg-purple-600 hover:bg-purple-500"}}[e],C=async()=>{if(n){b(!0),R(null);try{const H=await n(t.name,p);R(H)}catch(H){const K=H instanceof Error?H.message:String(H);R({error:K})}finally{b(!1)}}},N=(H,K,ee)=>{g(Q=>({...Q,[H]:ee==="integer"||ee==="number"?Number(K):K}))},P=H=>{navigator.clipboard.writeText(H),w(!0),setTimeout(()=>w(!1),2e3)},L=t.name,j=t.description||(e==="RESOURCE"?t.uri:"No description available.");return x.jsxs("div",{className:`mb-4 rounded-lg border transition-all duration-200 ${c&&!o?"ring-1 ring-opacity-50 shadow-lg":""} ${M.border} bg-white dark:bg-slate-900 shadow-sm dark:shadow-none`,children:[x.jsxs("div",{className:`flex items-center justify-between p-3 px-4 select-none group ${M.bg} ${o?"":"cursor-pointer hover:brightness-110"} transition-all ${c?"rounded-t-lg":"rounded-lg"}`,onClick:o?void 0:()=>l(!a),children:[x.jsxs("div",{className:"flex items-center gap-4 overflow-hidden min-w-0 flex-1",children:[x.jsx("div",{className:"w-20 shrink-0",children:x.jsx($7,{type:e,className:"shadow-sm w-full block text-center"})}),x.jsx("span",{className:"font-mono text-slate-700 dark:text-slate-200 font-medium truncate min-w-0 flex-1 flex items-center gap-3",children:x.jsx("span",{className:"opacity-90",children:L})})]}),!o&&x.jsx("div",{className:"text-slate-500 dark:text-slate-400 transition-colors ml-4",children:c?x.jsx(jl,{size:20}):x.jsx(of,{size:20})})]}),c&&x.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-900/30 p-4 border-t border-slate-200 dark:border-slate-800/50 animate-in fade-in slide-in-from-top-1 rounded-b-lg",children:[x.jsxs("div",{className:"mb-6 px-1",children:[x.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-1",children:"Description"}),(()=>{const H=j||"";return H.split(`
`).length>5||H.length>300?x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"mask-image-gradient-b",children:x.jsx(ua,{content:j,className:"text-sm dark:text-slate-300 text-slate-600 line-clamp-2"})}),x.jsx("div",{className:"mt-2",children:x.jsx("button",{onClick:ee=>{ee.stopPropagation(),f(!0)},className:"text-xs font-bold text-blue-500 hover:text-blue-400 flex items-center group cursor-pointer",children:x.jsxs("span",{className:"shrink-0 text-[10px] bg-blue-50 hover:bg-blue-100 dark:bg-slate-800 dark:text-slate-400 px-1.5 py-0.5 rounded-full border border-blue-100 dark:border-slate-700/50 flex items-center gap-1 dark:group-hover:border-blue-500/30 transition-colors ml-2",children:[x.jsx(Ol,{size:8})," Read More"]})})}),d&&x.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:ee=>{ee.stopPropagation(),f(!1)},children:x.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 w-full max-w-2xl max-h-[80vh] rounded-xl shadow-2xl flex flex-col animate-in zoom-in-95 duration-200",onClick:ee=>ee.stopPropagation(),children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50 rounded-t-xl",children:[x.jsxs("h3",{className:"font-bold text-slate-900 dark:text-slate-200 flex items-center gap-2",children:[x.jsx(Ol,{size:16,className:"text-blue-500 dark:text-blue-400"}),"Description"]}),x.jsx("button",{onClick:ee=>{ee.stopPropagation(),f(!1)},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-800 rounded text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[x.jsx("path",{d:"M18 6 6 18"}),x.jsx("path",{d:"m6 6 12 12"})]})})]}),x.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:x.jsx(ua,{content:j,className:"text-sm text-slate-600 dark:text-slate-300"})})]})})]}):x.jsx(ua,{content:j,className:"text-sm dark:text-slate-300 text-slate-600"})})()]}),e==="RESOURCE"&&x.jsx("div",{className:"space-y-4 bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-lg p-4",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"URI"}),x.jsxs("div",{className:"font-mono text-xs text-blue-600 dark:text-blue-300 bg-slate-50 dark:bg-slate-900 p-2 rounded border border-slate-200 dark:border-slate-800 mt-1 select-all break-all flex items-center justify-between group/uri",children:[x.jsx("span",{children:t.uri}),x.jsx("button",{onClick:()=>P(t.uri),className:"opacity-0 group-hover/uri:opacity-100 transition-opacity text-slate-400 dark:text-slate-500 hover:text-slate-900 dark:hover:text-white",children:k?x.jsx(la,{size:12}):x.jsx(Pm,{size:12})})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:"MIME Type"}),x.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300 mt-1 font-mono bg-slate-50 dark:bg-slate-900 p-2 rounded border border-slate-200 dark:border-slate-800",children:t.mimeType||"N/A"})]})]})}),e==="TOOL"&&x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-0 flex flex-col",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-base font-bold text-slate-800 dark:text-slate-200",children:"Request"}),x.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-950 p-1 rounded-lg border border-slate-200 dark:border-slate-800",children:[x.jsx("button",{onClick:()=>A("params"),className:`px-3 py-1 rounded-md text-xs font-bold transition-all ${T==="params"?"bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Parameters"}),x.jsx("button",{onClick:()=>A("auth"),className:`px-3 py-1 rounded-md text-xs font-bold transition-all ${T==="auth"?"bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:"Authorization"})]})]}),x.jsxs("div",{className:"flex-1 flex flex-col",children:[T==="params"?x.jsx("div",{className:"space-y-4 flex-1",children:(q=t.inputSchema)!=null&&q.properties&&Object.keys(t.inputSchema.properties).length>0?x.jsx("div",{className:"space-y-3 bg-white dark:bg-slate-950 p-4 rounded-lg border border-slate-200 dark:border-slate-800 shadow-inner h-full",children:Object.entries(t.inputSchema.properties).map(([H,K])=>{var ee,Q;return x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-baseline justify-between mb-1.5",children:[x.jsxs("label",{className:"block text-xs font-mono font-medium text-slate-700 dark:text-slate-300",children:[H,((Q=(ee=t.inputSchema)==null?void 0:ee.required)==null?void 0:Q.includes(H))&&x.jsx("span",{className:"text-red-500 ml-0.5",children:"*"})]}),x.jsx("span",{className:"text-[10px] text-slate-400 dark:text-slate-500 font-mono",children:K.type})]}),K.type==="boolean"?x.jsxs("select",{className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-300 dark:border-slate-700 rounded px-3 py-2 text-sm text-slate-900 dark:text-slate-200 focus:outline-none focus:border-emerald-500 transition-colors",value:String(p[H]),onChange:W=>N(H,W.target.value==="true","boolean"),children:[x.jsx("option",{value:"true",children:"True"}),x.jsx("option",{value:"false",children:"False"})]}):x.jsx("input",{type:K.type==="integer"||K.type==="number"?"number":"text",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-300 dark:border-slate-700 rounded px-3 py-2 text-sm text-slate-900 dark:text-slate-200 focus:outline-none focus:border-emerald-500 placeholder:text-slate-400 dark:placeholder:text-slate-600 transition-colors",placeholder:K.description||`Enter ${H}...`,value:p[H],onChange:W=>N(H,W.target.value,K.type)}),K.description&&x.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:K.description})]},H)})}):x.jsx("div",{className:"text-xs text-slate-500 italic flex items-center justify-center p-12 border border-dashed border-slate-200 dark:border-slate-800 rounded-lg bg-slate-50 dark:bg-slate-950/50 h-full",children:"No parameters required"})}):x.jsx("div",{className:"text-xs text-slate-500 italic flex items-center justify-center p-12 border border-dashed border-slate-200 dark:border-slate-800 rounded-lg bg-slate-50 dark:bg-slate-950/50 h-full",children:"No authorization schemes defined."}),x.jsxs("button",{onClick:C,disabled:v,className:`w-full py-3 mt-4 text-white rounded font-bold text-sm transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98] ${M.button}`,children:[v?x.jsx(bo,{size:16,className:"animate-spin"}):x.jsx(kT,{size:16,fill:"currentColor"}),"Execute"]})]})]}),x.jsxs("div",{className:"flex flex-col h-full min-h-[400px]",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-base font-bold text-slate-800 dark:text-slate-200",children:"Response"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded-full bg-amber-500/10 border border-amber-500/20 text-amber-400 text-[10px] font-bold uppercase tracking-wider",children:[x.jsx(Hl,{size:10,fill:"currentColor"})," Live"]}),E&&!E.error&&x.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-[10px] font-bold uppercase tracking-wider",children:[x.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"})," 200 OK"]}),(E==null?void 0:E.error)&&x.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 rounded-full bg-red-500/10 border border-red-500/20 text-red-400 text-[10px] font-bold uppercase tracking-wider",children:[x.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"})," Error"]})]})]}),x.jsx("div",{className:"flex-1 bg-white dark:bg-slate-950 rounded-lg border border-slate-200 dark:border-slate-800 overflow-hidden shadow-inner relative flex flex-col",children:x.jsxs("div",{className:"flex-1 p-4 overflow-auto custom-scrollbar",children:[!E&&!v&&x.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-400 dark:text-slate-600 opacity-30 pointer-events-none",children:[x.jsx(Oi,{size:48,className:"mb-3"}),x.jsx("p",{className:"text-sm font-medium uppercase tracking-widest",children:"Ready to execute"})]}),v&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-950/50 backdrop-blur-[1px] z-10",children:x.jsx(bo,{size:32,className:"animate-spin text-emerald-500"})}),E&&x.jsx(ma,{data:E})]})})]})]}),e==="PROMPT"&&x.jsxs("div",{className:"bg-white dark:bg-slate-950/50 border border-slate-200 dark:border-slate-800 rounded-lg p-8 text-center",children:[x.jsx(Ol,{size:32,className:"text-slate-400 dark:text-slate-700 mx-auto mb-3"}),x.jsx("h5",{className:"text-slate-600 dark:text-slate-400 font-medium mb-1",children:"Prompt Execution"}),x.jsx("p",{className:"text-xs text-slate-500",children:"Prompt testing is not yet supported in this interface."})]})]})]})},ai=Object.create(null);ai.open="0";ai.close="1";ai.ping="2";ai.pong="3";ai.message="4";ai.upgrade="5";ai.noop="6";const kd=Object.create(null);Object.keys(ai).forEach(e=>{kd[ai[e]]=e});const Mg={type:"error",data:"parser error"},oA=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",sA=typeof ArrayBuffer=="function",aA=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,F0=({type:e,data:t},n,r)=>oA&&t instanceof Blob?n?r(t):pT(t,r):sA&&(t instanceof ArrayBuffer||aA(t))?n?r(t):pT(new Blob([t]),r):r(ai[e]+(t||"")),pT=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function mT(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Im;function q7(e,t){if(oA&&e.data instanceof Blob)return e.data.arrayBuffer().then(mT).then(t);if(sA&&(e.data instanceof ArrayBuffer||aA(e.data)))return t(mT(e.data));F0(e,!1,n=>{Im||(Im=new TextEncoder),t(Im.encode(n))})}const gT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zl=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<gT.length;e++)zl[gT.charCodeAt(e)]=e;const V7=e=>{let t=e.length*.75,n=e.length,r,o=0,a,l,c,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const f=new ArrayBuffer(t),p=new Uint8Array(f);for(r=0;r<n;r+=4)a=zl[e.charCodeAt(r)],l=zl[e.charCodeAt(r+1)],c=zl[e.charCodeAt(r+2)],d=zl[e.charCodeAt(r+3)],p[o++]=a<<2|l>>4,p[o++]=(l&15)<<4|c>>2,p[o++]=(c&3)<<6|d&63;return f},j7=typeof ArrayBuffer=="function",G0=(e,t)=>{if(typeof e!="string")return{type:"message",data:lA(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:H7(e.substring(1),t)}:kd[n]?e.length>1?{type:kd[n],data:e.substring(1)}:{type:kd[n]}:Mg},H7=(e,t)=>{if(j7){const n=V7(e);return lA(n,t)}else return{base64:!0,data:e}},lA=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},uA="",B7=(e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach((a,l)=>{F0(a,!1,c=>{r[l]=c,++o===n&&t(r.join(uA))})})},F7=(e,t)=>{const n=e.split(uA),r=[];for(let o=0;o<n.length;o++){const a=G0(n[o],t);if(r.push(a),a.type==="error")break}return r};function G7(){return new TransformStream({transform(e,t){q7(e,n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const a=new DataView(o.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{o=new Uint8Array(9);const a=new DataView(o.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(n)})}})}let Mm;function md(e){return e.reduce((t,n)=>t+n.length,0)}function gd(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let o=0;o<t;o++)n[o]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function J7(e,t){Mm||(Mm=new TextDecoder);const n=[];let r=0,o=-1,a=!1;return new TransformStream({transform(l,c){for(n.push(l);;){if(r===0){if(md(n)<1)break;const d=gd(n,1);a=(d[0]&128)===128,o=d[0]&127,o<126?r=3:o===126?r=1:r=2}else if(r===1){if(md(n)<2)break;const d=gd(n,2);o=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),r=3}else if(r===2){if(md(n)<8)break;const d=gd(n,8),f=new DataView(d.buffer,d.byteOffset,d.length),p=f.getUint32(0);if(p>Math.pow(2,21)-1){c.enqueue(Mg);break}o=p*Math.pow(2,32)+f.getUint32(4),r=3}else{if(md(n)<o)break;const d=gd(n,o);c.enqueue(G0(a?d:Mm.decode(d),t)),r=0}if(o===0||o>e){c.enqueue(Mg);break}}}})}const cA=4;function hn(e){if(e)return Z7(e)}function Z7(e){for(var t in hn.prototype)e[t]=hn.prototype[t];return e}hn.prototype.on=hn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};hn.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};hn.prototype.off=hn.prototype.removeListener=hn.prototype.removeAllListeners=hn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===t||r.fn===t){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+e],this};hn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this};hn.prototype.emitReserved=hn.prototype.emit;hn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};hn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Pr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function dA(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const K7=Pr.setTimeout,Y7=Pr.clearTimeout;function If(e,t){t.useNativeTimers?(e.setTimeoutFn=K7.bind(Pr),e.clearTimeoutFn=Y7.bind(Pr)):(e.setTimeoutFn=Pr.setTimeout.bind(Pr),e.clearTimeoutFn=Pr.clearTimeout.bind(Pr))}const X7=1.33;function Q7(e){return typeof e=="string"?W7(e):Math.ceil((e.byteLength||e.size)*X7)}function W7(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function eJ(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function tJ(e){let t={},n=e.split("&");for(let r=0,o=n.length;r<o;r++){let a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class nJ extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class J0 extends hn{constructor(t){super(),this.writable=!1,If(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new nJ(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=G0(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=eJ(t);return n.length?"?"+n:""}}const fA="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Pg=64,rJ={};let yT=0,yd=0,vT;function _T(e){let t="";do t=fA[e%Pg]+t,e=Math.floor(e/Pg);while(e>0);return t}function hA(){const e=_T(+new Date);return e!==vT?(yT=0,vT=e):e+"."+_T(yT++)}for(;yd<Pg;yd++)rJ[fA[yd]]=yd;let pA=!1;try{pA=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const iJ=pA;function mA(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||iJ))return new XMLHttpRequest}catch{}if(!t)try{return new Pr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function oJ(){}const sJ=(function(){return new mA({xdomain:!1}).responseType!=null})();class aJ extends J0{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let o=location.port;o||(o=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||o!==t.port}const n=t&&t.forceBase64;this.supportsBinary=sJ&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};F7(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,B7(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=hA()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new si(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(o,a)=>{this.onError("xhr post error",o,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class si extends hn{constructor(t,n){super(),If(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=dA(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new mA(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this.opts.extraHeaders[o])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var o;r.readyState===3&&((o=this.opts.cookieJar)===null||o===void 0||o.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(o){this.setTimeoutFn(()=>{this.onError(o)},0);return}typeof document<"u"&&(this.index=si.requestsCount++,si.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=oJ,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete si.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}si.requestsCount=0;si.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",bT);else if(typeof addEventListener=="function"){const e="onpagehide"in Pr?"pagehide":"unload";addEventListener(e,bT,!1)}}function bT(){for(let e in si.requests)si.requests.hasOwnProperty(e)&&si.requests[e].abort()}const Z0=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),vd=Pr.WebSocket||Pr.MozWebSocket,xT=!0,lJ="arraybuffer",ST=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class uJ extends J0{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=ST?{}:dA(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=xT&&!ST?n?new vd(t,n):new vd(t):new vd(t,n,r)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],o=n===t.length-1;F0(r,this.supportsBinary,a=>{const l={};try{xT&&this.ws.send(a)}catch{}o&&Z0(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=hA()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!vd}}class cJ extends J0{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=J7(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),o=G7();o.readable.pipeTo(t.writable),this.writer=o.writable.getWriter();const a=()=>{r.read().then(({done:c,value:d})=>{c||(this.onPacket(d),a())}).catch(c=>{})};a();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this.writer.write(l).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],o=n===t.length-1;this.writer.write(r).then(()=>{o&&Z0(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const dJ={websocket:uJ,webtransport:cJ,polling:aJ},fJ=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,hJ=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Dg(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=fJ.exec(e||""),a={},l=14;for(;l--;)a[hJ[l]]=o[l]||"";return n!=-1&&r!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=pJ(a,a.path),a.queryKey=mJ(a,a.query),a}function pJ(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function mJ(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,o,a){o&&(n[o]=a)}),n}let gA=class ta extends hn{constructor(t,n={}){super(),this.binaryType=lJ,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=Dg(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Dg(n.host).host),If(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=tJ(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=cA,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new dJ[t](r)}open(){let t;if(this.opts.rememberUpgrade&&ta.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;ta.priorWebsocketSuccess=!1;const o=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!r)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;ta.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=n.name,this.emitReserved("upgradeError",v)}}))};function a(){r||(r=!0,p(),n.close(),n=null)}const l=g=>{const v=new Error("probe error: "+g);v.transport=n.name,a(),this.emitReserved("upgradeError",v)};function c(){l("transport closed")}function d(){l("socket closed")}function f(g){n&&g.name!==n.name&&a()}const p=()=>{n.removeListener("open",o),n.removeListener("error",l),n.removeListener("close",c),this.off("close",d),this.off("upgrading",f)};n.once("open",o),n.once("error",l),n.once("close",c),this.once("close",d),this.once("upgrading",f),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",ta.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const o=this.writeBuffer[r].data;if(o&&(n+=Q7(o)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,o){if(typeof n=="function"&&(o=n,n=void 0),typeof r=="function"&&(o=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:t,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){ta.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const o=t.length;for(;r<o;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};gA.protocol=cA;function gJ(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Dg(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const yJ=typeof ArrayBuffer=="function",vJ=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,yA=Object.prototype.toString,_J=typeof Blob=="function"||typeof Blob<"u"&&yA.call(Blob)==="[object BlobConstructor]",bJ=typeof File=="function"||typeof File<"u"&&yA.call(File)==="[object FileConstructor]";function K0(e){return yJ&&(e instanceof ArrayBuffer||vJ(e))||_J&&e instanceof Blob||bJ&&e instanceof File}function Cd(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Cd(e[n]))return!0;return!1}if(K0(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Cd(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Cd(e[n]))return!0;return!1}function xJ(e){const t=[],n=e.data,r=e;return r.data=zg(n,t),r.attachments=t.length,{packet:r,buffers:t}}function zg(e,t){if(!e)return e;if(K0(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=zg(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=zg(e[r],t));return n}return e}function SJ(e,t){return e.data=Og(e.data,t),delete e.attachments,e}function Og(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Og(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Og(e[n],t));return e}const vA=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],wJ=5;var rt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(rt||(rt={}));class EJ{constructor(t){this.replacer=t}encode(t){return(t.type===rt.EVENT||t.type===rt.ACK)&&Cd(t)?this.encodeAsBinary({type:t.type===rt.EVENT?rt.BINARY_EVENT:rt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===rt.BINARY_EVENT||t.type===rt.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=xJ(t),r=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(r),o}}class Y0 extends hn{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===rt.BINARY_EVENT;r||n.type===rt.BINARY_ACK?(n.type=r?rt.EVENT:rt.ACK,this.reconstructor=new TJ(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(K0(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(rt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===rt.BINARY_EVENT||r.type===rt.BINARY_ACK){const a=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const l=t.substring(a,n);if(l!=Number(l)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(l)}if(t.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(a,n)}else r.nsp="/";const o=t.charAt(n+1);if(o!==""&&Number(o)==o){const a=n+1;for(;++n;){const l=t.charAt(n);if(l==null||Number(l)!=l){--n;break}if(n===t.length)break}r.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(Y0.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case rt.CONNECT:return nf(n);case rt.DISCONNECT:return n===void 0;case rt.CONNECT_ERROR:return typeof n=="string"||nf(n);case rt.EVENT:case rt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&vA.indexOf(n[0])===-1);case rt.ACK:case rt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class TJ{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=SJ(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function kJ(e){return typeof e=="string"}const CJ=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};function AJ(e){return e===void 0||CJ(e)}function nf(e){return Object.prototype.toString.call(e)==="[object Object]"}function NJ(e,t){switch(e){case rt.CONNECT:return t===void 0||nf(t);case rt.DISCONNECT:return t===void 0;case rt.EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&vA.indexOf(t[0])===-1);case rt.ACK:return Array.isArray(t);case rt.CONNECT_ERROR:return typeof t=="string"||nf(t);default:return!1}}function RJ(e){return kJ(e.nsp)&&AJ(e.id)&&NJ(e.type,e.data)}const IJ=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Y0,Encoder:EJ,get PacketType(){return rt},isPacketValid:RJ,protocol:wJ},Symbol.toStringTag,{value:"Module"}));function Fr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const MJ=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _A extends hn{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Fr(t,"open",this.onopen.bind(this)),Fr(t,"packet",this.onpacket.bind(this)),Fr(t,"error",this.onerror.bind(this)),Fr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(MJ.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:rt.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const l=this.ids++,c=n.pop();this._registerAckCallback(l,c),r.id=l}const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const o=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(o===void 0){this.acks[t]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},o),l=(...c)=>{this.io.clearTimeoutFn(a),n.apply(this,c)};l.withError=!0,this.acks[t]=l}emitWithAck(t,...n){return new Promise((r,o)=>{const a=(l,c)=>l?o(l):r(c);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...a)=>r!==this._queue[0]?void 0:(o!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:rt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case rt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case rt.EVENT:case rt.BINARY_EVENT:this.onevent(t);break;case rt.ACK:case rt.BINARY_ACK:this.onack(t);break;case rt.DISCONNECT:this.ondisconnect();break;case rt.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...o){r||(r=!0,n.packet({type:rt.ACK,id:t,data:o}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:rt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Aa(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Aa.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-n:e+n}return Math.min(e,this.max)|0};Aa.prototype.reset=function(){this.attempts=0};Aa.prototype.setMin=function(e){this.ms=e};Aa.prototype.setMax=function(e){this.max=e};Aa.prototype.setJitter=function(e){this.jitter=e};class Ug extends hn{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,If(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Aa({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||IJ;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new gA(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const o=Fr(n,"open",function(){r.onopen(),t&&t()}),a=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},l=Fr(n,"error",a);if(this._timeout!==!1){const c=this._timeout,d=this.setTimeoutFn(()=>{o(),a(new Error("timeout")),n.close()},c);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(o),this.subs.push(l),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Fr(t,"ping",this.onping.bind(this)),Fr(t,"data",this.ondata.bind(this)),Fr(t,"error",this.onerror.bind(this)),Fr(t,"close",this.onclose.bind(this)),Fr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Z0(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new _A(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Nl={};function Ad(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=gJ(e,t.path||"/socket.io"),r=n.source,o=n.id,a=n.path,l=Nl[o]&&a in Nl[o].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||l;let d;return c?d=new Ug(r,t):(Nl[o]||(Nl[o]=new Ug(r,t)),d=Nl[o]),n.query&&!t.query&&(t.query=n.queryKey),d.socket(n.path,t)}Object.assign(Ad,{Manager:Ug,Socket:_A,io:Ad,connect:Ad});const PJ=()=>{const[e,t]=oe.useState(()=>localStorage.getItem("io_url")||(typeof window<"u"?window.location.origin:"http://localhost:3000")),[n,r]=oe.useState(!1),[o,a]=oe.useState(()=>{const C=localStorage.getItem("io_listeners");return C?JSON.parse(C):[]}),[l,c]=oe.useState({}),[d,f]=oe.useState(null);oe.useEffect(()=>{localStorage.setItem("io_url",e)},[e]),oe.useEffect(()=>{localStorage.setItem("io_listeners",JSON.stringify(o))},[o]);const p=oe.useRef(null),g=oe.useCallback((C,N,P)=>{const L=P||C,j=new Date().toLocaleTimeString();c(q=>{var H;return{...q,[L]:{lastEvent:N,timestamp:j,count:(((H=q[L])==null?void 0:H.count)||0)+1}}})},[]),v=oe.useCallback((C,N)=>{C.on(N,P=>{g(N,typeof P=="object"?JSON.stringify(P,null,2):String(P))})},[g]),b=oe.useCallback(()=>{if(!p.current){f(null);try{const C=Ad(e,{transports:["websocket","polling"],autoConnect:!0});C.on("connect",()=>{r(!0),f(null),g("system","Connected","connect")}),C.on("disconnect",()=>{r(!1),g("system","Disconnected","disconnect")}),C.on("connect_error",N=>{r(!1),f(`Connection Error: ${N.message}`),g("system",`Error: ${N.message}`,"error")}),o.forEach(N=>{N.isEnabled&&!["connect","disconnect","error"].includes(N.name)&&v(C,N.name)}),p.current=C}catch(C){g("system",`Error: ${C.message}`,"error")}}},[e,o,g,v]),E=oe.useCallback(()=>{p.current&&(p.current.disconnect(),p.current=null,r(!1),g("system","Disconnected manually","disconnect"))},[g]),R=oe.useCallback((C,N)=>{if(p.current&&n&&C){let P;try{P=JSON.parse(N)}catch{P=N}p.current.emit(C,P),g(C,` SENT:
${typeof P=="object"?JSON.stringify(P,null,2):P}`)}},[n,g]),k=oe.useCallback(C=>{if(!o.some(N=>N.name===C)){const N={id:Math.random().toString(36).substr(2,9),name:C,isEnabled:!0};a(P=>[...P,N]),p.current&&v(p.current,C)}},[o,v]),w=oe.useCallback(C=>{const N=o.find(P=>P.id===C);N&&(a(P=>P.filter(L=>L.id!==C)),p.current&&p.current.off(N.name),c(P=>{const L={...P};return delete L[N.name],L}))},[o]),T=oe.useCallback(C=>{a(N=>N.map(P=>{if(P.id===C){const L=!P.isEnabled;return p.current&&(L?v(p.current,P.name):p.current.off(P.name)),{...P,isEnabled:L}}return P}))},[v]),A=oe.useCallback(()=>c({}),[]),M=oe.useCallback(C=>{c(N=>{const P={...N};return delete P[C],P})},[]);return{url:e,setUrl:t,isConnected:n,connect:b,disconnect:E,activeListeners:o,addListener:k,removeListener:w,toggleListener:T,listenerData:l,emitEvent:R,clearData:A,clearListenerData:M,error:d,setError:f}},DJ=()=>{const[e,t]=oe.useState(()=>{const M=window.location.protocol==="https:"?"wss:":"ws:",C=window.location.hostname||"localhost",N=window.location.port;return N?`${M}//${C}:${N}`:`${M}//${C}`}),[n,r]=oe.useState(()=>{const M=localStorage.getItem("ws_paths");return M?JSON.parse(M).map(N=>({id:N.id,name:N.name,isEnabled:!1,isConnected:!1,isConnecting:!1,error:null})):[{id:"1",name:"/ws/chat",isEnabled:!1,isConnected:!1,isConnecting:!1,error:null}]}),[o,a]=oe.useState({}),l=oe.useRef({}),c=oe.useRef({});oe.useEffect(()=>{const M=n.map(C=>({id:C.id,name:C.name}));localStorage.setItem("ws_paths",JSON.stringify(M))},[n]);const d=oe.useCallback((M,C,N,P=!1)=>{a(L=>{const j=L[M]||{history:[],count:0},q={id:Math.random().toString(36).substring(7),type:C,content:N,timestamp:new Date().toLocaleTimeString(),isError:P},H=[...j.history,q].slice(-50);return{...L,[M]:{history:H,count:j.count+1,lastActivity:q.timestamp}}})},[]),f=oe.useCallback((M,C)=>{r(N=>N.map(P=>P.id===M?{...P,...C}:P))},[]),p=oe.useCallback(M=>{const C=n.find(P=>P.id===M);if(!C||l.current[M])return;const N=`${e}${C.name}`;f(M,{isConnecting:!0,error:null}),d(C.name,"system",`Connecting to ${N}...`),c.current[C.name]||(c.current[C.name]=new Set);try{const P=new WebSocket(N);P.onopen=()=>{f(M,{isConnected:!0,isConnecting:!1,isEnabled:!0,error:null}),d(C.name,"system","Connected")},P.onmessage=L=>{const j=L.data;let q=!1;const H=c.current[C.name];if(H&&H.size>0)if(H.has(j))q=!0,H.delete(j);else try{const K=JSON.parse(j),ee=K.message||K.msg||K.text||K.content;ee&&H.has(ee)&&(q=!0,H.delete(ee))}catch{}q?console.log("Echo suppressed:",j):d(C.name,"received",j)},P.onclose=L=>{delete l.current[M],c.current[C.name]&&c.current[C.name].clear();const j=L.wasClean?null:`Connection closed (code: ${L.code})`;f(M,{isConnected:!1,isConnecting:!1,isEnabled:!1,error:j}),j?d(C.name,"system",j,!0):d(C.name,"system","Disconnected")},P.onerror=()=>{delete l.current[M],f(M,{isConnecting:!1,isConnected:!1,isEnabled:!1,error:`Failed to connect to ${N}`}),d(C.name,"system","Connection failed",!0)},l.current[M]=P}catch(P){f(M,{isConnecting:!1,isEnabled:!1,error:`Error: ${P.message}`}),d(C.name,"system",`Error: ${P.message}`,!0)}},[e,n,d,f]),g=oe.useCallback(M=>{const C=l.current[M];C&&(C.close(),delete l.current[M]),f(M,{isConnected:!1,isConnecting:!1,isEnabled:!1,error:null})},[f]),v=oe.useCallback(M=>{const C=n.find(N=>N.id===M);C&&(C.isEnabled||C.isConnected?g(M):p(M))},[n,p,g]),b=oe.useCallback((M,C)=>{const N=n.find(L=>L.id===M),P=l.current[M];return P&&N&&P.readyState===WebSocket.OPEN&&C?(P.send(C),d(N.name,"sent",C),c.current[N.name]||(c.current[N.name]=new Set),c.current[N.name].add(C),setTimeout(()=>{c.current[N.name]&&c.current[N.name].delete(C)},5e3),!0):!1},[n,d]),E=M=>{if(!n.find(C=>C.name===M)){const C={id:Math.random().toString(36).substring(7),name:M.startsWith("/")?M:`/${M}`,isEnabled:!1,isConnected:!1,isConnecting:!1,error:null};r(N=>[...N,C])}},R=M=>{g(M),r(C=>C.filter(N=>N.id!==M))},k=()=>a({}),w=M=>{a(C=>{const N={...C};return delete N[M],N})},T=M=>{f(M,{error:null})};oe.useEffect(()=>()=>{Object.values(l.current).forEach(M=>M.close())},[]);const A=n.some(M=>M.isConnected);return{baseUrl:e,setBaseUrl:t,activePaths:n,pathData:o,isAnyConnected:A,togglePath:v,sendMessage:b,addPath:E,removePath:R,clearData:k,clearPathData:w,clearPathError:T}},zJ=({tag:e,endpoints:t,baseUrl:n,securitySchemes:r,authCredentials:o})=>{const[a,l]=oe.useState(!0);return t.length===0?null:x.jsxs("div",{className:"mb-6 animate-in fade-in slide-in-from-bottom-4 duration-500 border border-slate-200 dark:border-slate-800 rounded-lg overflow-hidden bg-white dark:bg-slate-900/30",children:[x.jsxs("button",{onClick:()=>l(!a),className:"w-full flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/50 hover:bg-slate-100 dark:hover:bg-slate-800/50 transition-colors border-b border-slate-200 dark:border-slate-800",children:[x.jsxs("div",{className:"flex items-baseline gap-3 overflow-hidden",children:[x.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-200 truncate",children:e.name}),x.jsx("p",{className:"text-xs text-slate-500 truncate hidden sm:block",children:e.description})]}),x.jsx("div",{className:"text-slate-500 dark:text-slate-400",children:a?x.jsx(jl,{size:20}):x.jsx(of,{size:20})})]}),a&&x.jsx("div",{className:"p-4 space-y-4",children:t.map(c=>x.jsx(w1,{endpoint:c,baseUrl:n,securitySchemes:r,authCredentials:o},c.id))})]})},OJ=({isOpen:e,onClose:t,baseUrl:n,securitySchemes:r,credentials:o,setCredentials:a})=>{const[l,c]=oe.useState({}),[d,f]=oe.useState({}),[p,g]=oe.useState({});if(!e)return null;const v=(w,T)=>{a(A=>({...A,[w]:T}))},b=(w,T,A)=>{c(M=>({...M,[w]:{...M[w]||{},[T]:A}}))},E=w=>{const T=l[w]||{};if(!T.username||!T.password){g(A=>({...A,[w]:"Username and password are required."}));return}try{const A=btoa(`${T.username}:${T.password}`);a(M=>({...M,[w]:A})),g(M=>({...M,[w]:null}))}catch{g(M=>({...M,[w]:"Failed to encode credentials."}))}},R=async(w,T)=>{const A=l[w]||{};if(!A.username||!A.password){g(M=>({...M,[w]:"Username and password are required."}));return}f(M=>({...M,[w]:!0})),g(M=>({...M,[w]:null}));try{let M=T;if(!M.startsWith("http")){const j=n.replace(/\/$/,""),q=T.startsWith("/")?T:"/"+T;M=j+q}const C=new URLSearchParams;C.append("grant_type","password"),C.append("username",A.username),C.append("password",A.password),A.client_id&&C.append("client_id",A.client_id),A.client_secret&&C.append("client_secret",A.client_secret),A.scope&&C.append("scope",A.scope);const N=await fetch(M,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:C});if(!N.ok){const j=await N.text();throw new Error(`Failed to login: ${N.status} ${N.statusText} - ${j}`)}const L=(await N.json()).access_token;if(L)a(j=>({...j,[w]:L})),g(j=>({...j,[w]:null}));else throw new Error("No access_token found in response.")}catch(M){console.error("OAuth Login Error:",M),g(C=>({...C,[w]:M.message}))}finally{f(M=>({...M,[w]:!1}))}},k=Object.keys(r);return x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:x.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg shadow-2xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[85vh]",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-800 shrink-0",children:[x.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[x.jsx(Rd,{size:18})," Available Authorizations"]}),x.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-800 dark:hover:text-white transition-colors",children:x.jsx(Jr,{size:20})})]}),x.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-1",children:k.length===0?x.jsx("p",{className:"text-slate-500 text-sm italic",children:"No security schemes defined in this spec."}):x.jsx("div",{className:"space-y-6",children:k.map(w=>{var N,P,L,j,q,H,K,ee,Q;const T=r[w],A=T.type==="oauth2"&&((N=T.flows)==null?void 0:N.password),M=T.type==="http"&&T.scheme==="basic",C=!!o[w];return x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-950 p-5 rounded-lg border border-slate-200 dark:border-slate-800 shadow-sm",children:[x.jsxs("div",{className:"mb-4 pb-3 border-b border-slate-200 dark:border-slate-800/50",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"font-bold text-base text-slate-800 dark:text-slate-200",children:w}),x.jsxs("span",{className:"text-xs bg-slate-200 dark:bg-slate-800 px-2 py-0.5 rounded text-slate-500 dark:text-slate-400 font-mono",children:[T.type==="http"?T.scheme:T.type,T.in?` (${T.in})`:""]})]}),C&&x.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-400 text-xs font-bold bg-emerald-500/10 px-2 py-1 rounded border border-emerald-500/20",children:[x.jsx(la,{size:12})," Authorized"]})]}),T.description&&x.jsx("p",{className:"text-sm text-slate-400 mt-2",children:T.description})]}),A?x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"text-xs text-slate-500 font-mono mb-2",children:[x.jsxs("div",{className:"flex gap-2",children:[x.jsx("span",{className:"w-20 text-slate-400",children:"Flow:"})," password"]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("span",{className:"w-20 text-slate-400",children:"Token URL:"})," ",(L=(P=T.flows)==null?void 0:P.password)==null?void 0:L.tokenUrl]})]}),C?x.jsxs("div",{className:"flex gap-2 items-end",children:[x.jsxs("div",{className:"flex-1 space-y-1",children:[x.jsx("label",{className:"text-[10px] font-bold uppercase text-slate-500",children:"Access Token"}),x.jsx("input",{type:"text",className:"w-full bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded px-3 py-2 text-sm text-slate-500 dark:text-slate-400 font-mono truncate",value:o[w]||"",disabled:!0})]}),x.jsx("button",{onClick:()=>v(w,""),className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 hover:bg-red-500/20 hover:text-red-600 dark:hover:text-red-400 text-slate-600 dark:text-slate-400 rounded text-sm border border-slate-200 dark:border-slate-700 transition-colors h-[38px] font-medium",children:"Logout"})]}):x.jsxs("form",{className:"space-y-3 bg-white dark:bg-slate-900/50 p-4 rounded border border-slate-200 dark:border-slate-800",onSubmit:W=>{var G,ce;W.preventDefault(),R(w,(ce=(G=T.flows)==null?void 0:G.password)==null?void 0:ce.tokenUrl)},children:[x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[10px] font-bold uppercase text-slate-500",children:"Username *"}),x.jsx("input",{type:"text",className:"w-full bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-700 rounded px-3 py-2 text-sm text-slate-900 dark:text-white focus:outline-none focus:border-blue-500",placeholder:"username",value:((j=l[w])==null?void 0:j.username)||"",onChange:W=>b(w,"username",W.target.value)})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[10px] font-bold uppercase text-slate-500",children:"Password *"}),x.jsx("input",{type:"password",className:"w-full bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-700 rounded px-3 py-2 text-sm text-slate-900 dark:text-white focus:outline-none focus:border-blue-500",placeholder:"password",value:((q=l[w])==null?void 0:q.password)||"",onChange:W=>b(w,"password",W.target.value)})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[10px] font-bold uppercase text-slate-500",children:"Client ID"}),x.jsx("input",{type:"text",className:"w-full bg-white dark:bg-slate-950 border border-slate-300 dark:border-slate-700 rounded px-3 py-2 text-sm text-slate-900 dark:text-white focus:outline-none focus:border-blue-500",placeholder:"client_id",value:((H=l[w])==null?void 0:H.client_id)||"",onChange:W=>b(w,"client_id",W.target.value)})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[10px] font-bold uppercase text-slate-500",children:"Client Secret"}),x.jsx("input",{type:"password",className:"w-full bg-white dark:bg-slate-950 border border-slate-300 dark:border-slate-700 rounded px-3 py-2 text-sm text-slate-900 dark:text-white focus:outline-none focus:border-blue-500",placeholder:"client_secret",value:((K=l[w])==null?void 0:K.client_secret)||"",onChange:W=>b(w,"client_secret",W.target.value)})]})]}),x.jsx("div",{className:"pt-2",children:x.jsx("button",{type:"submit",disabled:d[w],className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded font-bold text-sm transition-all shadow-lg shadow-emerald-900/20 disabled:opacity-50 flex items-center justify-center gap-2",children:d[w]?x.jsx(bo,{size:16,className:"animate-spin"}):"Authorize"})}),p[w]&&x.jsxs("div",{className:"p-2 bg-red-500/10 border border-red-500/20 text-red-400 text-xs rounded mt-2",children:["Error: ",p[w]]})]})]}):M?x.jsx("div",{className:"space-y-4",children:C?x.jsxs("div",{className:"flex gap-2 items-end",children:[x.jsxs("div",{className:"flex-1 space-y-1",children:[x.jsx("label",{className:"text-[10px] font-bold uppercase text-slate-500",children:"Credentials (Base64)"}),x.jsx("input",{type:"text",className:"w-full bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded px-3 py-2 text-sm text-slate-600 dark:text-slate-400 font-mono truncate transition-colors",value:o[w]||"",disabled:!0})]}),x.jsx("button",{onClick:()=>v(w,""),className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 hover:bg-red-500/20 hover:text-red-400 text-slate-500 dark:text-slate-400 rounded text-sm border border-slate-200 dark:border-slate-700 transition-colors h-[38px] font-medium",children:"Logout"})]}):x.jsxs("form",{className:"space-y-3 bg-white dark:bg-slate-900/50 p-4 rounded border border-slate-200 dark:border-slate-800",onSubmit:W=>{W.preventDefault(),E(w)},children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[10px] font-bold uppercase text-slate-500",children:"Username"}),x.jsx("input",{type:"text",className:"w-full bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-700 rounded px-3 py-2 text-sm text-slate-900 dark:text-white focus:outline-none focus:border-blue-500",placeholder:"username",value:((ee=l[w])==null?void 0:ee.username)||"",onChange:W=>b(w,"username",W.target.value)})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx("label",{className:"text-[10px] font-bold uppercase text-slate-500",children:"Password"}),x.jsx("input",{type:"password",className:"w-full bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-700 rounded px-3 py-2 text-sm text-slate-900 dark:text-white focus:outline-none focus:border-blue-500",placeholder:"password",value:((Q=l[w])==null?void 0:Q.password)||"",onChange:W=>b(w,"password",W.target.value)})]})]}),x.jsx("div",{className:"pt-2",children:x.jsx("button",{type:"submit",className:"w-full py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded font-bold text-sm transition-all shadow-lg shadow-emerald-900/20",children:"Authorize"})}),p[w]&&x.jsxs("div",{className:"p-2 bg-red-500/10 border border-red-500/20 text-red-400 text-xs rounded mt-2",children:["Error: ",p[w]]})]})}):x.jsxs("div",{className:"space-y-1",children:[x.jsxs("label",{className:"text-[10px] font-bold uppercase text-slate-500",children:["Value ",T.in==="header"?"(Header)":""]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",className:"flex-1 bg-white dark:bg-slate-950 border border-slate-300 dark:border-slate-700 rounded px-3 py-2 text-sm text-slate-900 dark:text-white focus:outline-none focus:border-blue-500",placeholder:T.type==="http"&&T.scheme==="bearer"?"e.g. eyJhbGci...":"Required",value:o[w]||"",onChange:W=>v(w,W.target.value),onKeyDown:W=>W.key==="Enter"&&W.currentTarget.blur()}),o[w]&&x.jsx("button",{onClick:()=>v(w,""),className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 hover:bg-red-500/20 hover:text-red-400 text-slate-500 dark:text-slate-400 rounded text-sm border border-slate-200 dark:border-slate-700 transition-colors font-medium",children:"Logout"})]}),x.jsxs("p",{className:"text-[10px] text-slate-500 pt-1",children:["Enter the ",T.type==="http"?"token":"key"," value directly."]})]})]},w)})})}),x.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900 flex justify-end gap-2 shrink-0",children:x.jsx("button",{onClick:t,className:"px-5 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm font-medium transition-colors shadow-lg shadow-blue-900/20",children:"Done"})})]})})},UJ=({isOpen:e,onClose:t,currentUrl:n,onLoad:r})=>{const[o,a]=oe.useState(n);if(oe.useEffect(()=>{a(n)},[n,e]),!e)return null;const l=c=>{c.preventDefault(),r(o),t()};return x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:x.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg shadow-2xl w-full max-w-lg overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-800",children:[x.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[x.jsx(O2,{size:18})," API Configuration"]}),x.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-800 dark:hover:text-white transition-colors",children:x.jsx(Jr,{size:20})})]}),x.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"OpenAPI Specification URL"}),x.jsxs("div",{className:"relative",children:[x.jsx(g2,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500",size:16}),x.jsx("input",{type:"text",placeholder:"http://localhost:8000/openapi.json",value:o,onChange:c=>a(c.target.value),className:"w-full h-11 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-700 rounded-md pl-10 pr-4 text-sm text-slate-800 dark:text-slate-200 focus:outline-none focus:border-blue-500 transition-colors placeholder:text-slate-400 dark:placeholder:text-slate-600"})]}),x.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Enter the URL to a JSON format OpenAPI (Swagger) v2 or v3 definition."})]}),x.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[x.jsx("button",{type:"button",onClick:()=>{a(""),r(""),t()},className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300 rounded text-sm font-medium transition-colors border border-slate-200 dark:border-slate-700",children:"Reset to Demo"}),x.jsx("button",{type:"submit",className:"px-5 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm font-medium transition-colors shadow-lg shadow-blue-900/20",children:"Load Spec"})]})]})]})})},$J=!0,LJ=!0,qJ=!0,VJ=!0,wT=[{id:"api",enabled:$J},{id:"ws",enabled:LJ},{id:"io",enabled:qJ},{id:"mcp",enabled:VJ}].filter(e=>e.enabled).map(e=>e.id);function jJ(){const[e,t]=oe.useState(()=>{const ie=localStorage.getItem("activeModule");return ie&&wT.includes(ie)?ie:wT[0]||"api"});oe.useEffect(()=>{localStorage.setItem("activeModule",e)},[e]);const n=oe.useRef(null),r=oe.useRef({}),[o,a]=oe.useState({opacity:0}),l=oe.useCallback((ie=e)=>{const Re=n.current,Ct=r.current[ie];if(Ct&&Re){const zt=Re.getBoundingClientRect(),Cn=Ct.getBoundingClientRect();a({top:Cn.top-zt.top,left:Cn.left-zt.left,width:Cn.width,height:Cn.height,opacity:1})}},[e]);oe.useLayoutEffect(()=>{l();const ie=setTimeout(()=>l(),100),Re=setTimeout(()=>l(),300),Ct=()=>l();return window.addEventListener("resize",Ct),()=>{clearTimeout(ie),clearTimeout(Re),window.removeEventListener("resize",Ct)}},[e,l]);const c=oe.useCallback(ie=>{r.current.api=ie,ie&&e==="api"&&l("api")},[e,l]),d=oe.useCallback(ie=>{r.current.ws=ie,ie&&e==="ws"&&l("ws")},[e,l]),f=oe.useCallback(ie=>{r.current.io=ie,ie&&e==="io"&&l("io")},[e,l]),p=oe.useCallback(ie=>{r.current.mcp=ie,ie&&e==="mcp"&&l("mcp")},[e,l]),g=()=>{switch(e){case"ws":return"bg-purple-100 dark:bg-slate-800";default:return"bg-blue-100 dark:bg-slate-800"}},v=()=>{switch(e){case"ws":return"bg-purple-500";case"mcp":return"bg-orange-500";default:return"bg-blue-500"}},[b,E]=oe.useState("/openapi.json"),[R,k]=oe.useState(280),[w,T]=oe.useState(!1),A=oe.useRef(null),M=oe.useCallback(ie=>{ie.preventDefault(),T(!0)},[]),C=oe.useCallback(()=>{T(!1)},[]),N=oe.useCallback(ie=>{if(w){const Re=ie.clientX-64;Re>=200&&Re<=600&&k(Re)}},[w]);oe.useEffect(()=>(w?(window.addEventListener("mousemove",N),window.addEventListener("mouseup",C),document.body.style.cursor="col-resize",document.body.style.userSelect="none"):(document.body.style.cursor="",document.body.style.userSelect=""),()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",C),document.body.style.cursor="",document.body.style.userSelect=""}),[w,N,C]);const[P,L]=oe.useState("F-Docs"),[j,q]=oe.useState("1.0.0"),[H,K]=oe.useState(""),[ee,Q]=oe.useState([]),[W,G]=oe.useState([]),[ce,_e]=oe.useState({}),[ze,$]=oe.useState(""),[z,B]=oe.useState("All"),[D,O]=oe.useState("focused"),{theme:V,toggleTheme:X}=X2(),[se,xe]=oe.useState(null),[Ce,Ue]=oe.useState({}),Y=oe.useRef(null),ne=oe.useRef({}),[me,be]=oe.useState({opacity:0}),Ae=oe.useCallback((ie=se)=>{const Re=Y.current;if(!ie){be(zt=>({...zt,opacity:0}));return}const Ct=ne.current[ie];if(Re&&Ct){if(Ct.offsetParent===null){be(Hi=>({...Hi,opacity:0}));return}const zt=Re.getBoundingClientRect(),Cn=Ct.getBoundingClientRect();let fi=Cn.left,hi=Cn.width,Lt=Ct.parentElement;for(;Lt&&Lt!==Re;){const Hi=window.getComputedStyle(Lt);if(Hi.borderLeftWidth&&Hi.borderLeftWidth!=="0px"&&Hi.borderLeftStyle!=="none"){fi=Lt.getBoundingClientRect().left,hi=Cn.right-fi;break}Lt=Lt.parentElement}be({top:Cn.top-zt.top+Re.scrollTop,left:fi-zt.left,width:hi,height:Cn.height,opacity:1})}else be(zt=>({...zt,opacity:0}))},[se]);oe.useLayoutEffect(()=>{Ae();const ie=setTimeout(()=>Ae(),150),Re=setTimeout(()=>Ae(),300);return()=>{clearTimeout(ie),clearTimeout(Re)}},[se,Ce,D,Ae]);const He=oe.useRef(se);oe.useLayoutEffect(()=>{He.current=se},[se]);const It=oe.useCallback(ie=>{if(ie){const Re=ie.dataset.id;Re&&(ne.current[Re]=ie,Re===He.current&&Ae(Re))}},[Ae]),[Ye,gt]=oe.useState(!0),[wt,xt]=oe.useState(null),[Tn,fe]=oe.useState(!1),[Ee,Te]=oe.useState(!1),[re,we]=oe.useState({}),ye=U7(),[Pe,Ve]=oe.useState(null),[Gt,mn]=oe.useState(!1),nt=PJ(),[Se,Ze]=oe.useState(""),[De,Ge]=oe.useState(!1),[ht,nn]=oe.useState(nt.url),bn=oe.useRef(null),kt=DJ(),[Hn,kn]=oe.useState(""),[gn,sn]=oe.useState(!1),[Wr,an]=oe.useState(kt.baseUrl),lr=oe.useRef(null),ui=ie=>{ie.preventDefault(),Hn.trim()&&(kt.addPath(Hn.trim()),kn(""))},Ao=ie=>{ie.preventDefault(),Se.trim()&&(nt.addListener(Se.trim()),Ze(""))};oe.useEffect(()=>{const ie=Re=>{e==="api"&&(Re.ctrlKey||Re.metaKey)&&Re.code==="KeyQ"&&(Re.preventDefault(),Te(!0))};return window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)},[e]),oe.useEffect(()=>{const ie=Re=>{e==="io"&&(Re.ctrlKey||Re.metaKey)&&Re.code==="KeyQ"&&(Re.preventDefault(),Ge(!0),nn(nt.url))};return window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)},[e,nt.url]),oe.useEffect(()=>{const ie=Re=>{e==="ws"&&(Re.ctrlKey||Re.metaKey)&&Re.code==="KeyQ"&&(Re.preventDefault(),sn(!0),an(kt.baseUrl))};return window.addEventListener("keydown",ie),()=>window.removeEventListener("keydown",ie)},[e,kt.baseUrl]),oe.useEffect(()=>{De&&bn.current&&setTimeout(()=>{var ie;return(ie=bn.current)==null?void 0:ie.focus()},100)},[De]),oe.useEffect(()=>{gn&&lr.current&&setTimeout(()=>{var ie;return(ie=lr.current)==null?void 0:ie.focus()},100)},[gn]);const ci=ie=>{ie.preventDefault(),nt.setUrl(ht),Ge(!1)},No=ie=>{ie.preventDefault(),kt.setBaseUrl(Wr),sn(!1)},[Yn,ur]=oe.useState(!1),[di,Ro]=oe.useState("message"),[Vi,ei]=oe.useState("{}"),yn=ie=>{ie.preventDefault(),nt.emitEvent(di,Vi),ur(!1)};oe.useEffect(()=>{ye.isConnected&&!Pe&&(ye.tools.length>0?Ve({type:"TOOL",data:ye.tools[0]}):ye.resources.length>0&&Ve({type:"RESOURCE",data:ye.resources[0]}))},[ye.isConnected,ye.tools,ye.resources]),oe.useEffect(()=>{const Re=(window.NEXUS_CONFIG||{}).openApiUrl||"/openapi.json";xn(Re)},[]);const xn=async ie=>{gt(!0),xt(null);try{const Re=await k$(ie);L(Re.title),q(Re.version),K(Re.baseUrl),Q(Re.endpoints),G(Re.tags),_e(Re.securitySchemes||{}),E(ie),B("All"),we({}),Re.endpoints.length>0?xe(Re.endpoints[0].id):xe(null);const Ct={};Re.tags.forEach(zt=>Ct[zt.name]=!0),Ue(Ct)}catch(Re){let Ct=Re.message;(Ct.includes("Failed to fetch")||Ct.includes("CORS"))&&(Ct=`Failed to fetch API spec from ${ie}. The server may have CORS disabled.`),xt(Ct)}finally{gt(!1)}},ji=ie=>{Ue(Re=>({...Re,[ie]:!Re[ie]}))},Io=ee.filter(ie=>{const Re=ie.path.toLowerCase().includes(ze.toLowerCase())||ie.summary.toLowerCase().includes(ze.toLowerCase());if(D==="list"){const Ct=z==="All"||ie.tags.includes(z);return Re&&Ct}return Re}),Na=Object.values(re).some(ie=>ie.length>0),Ra=se?ee.find(ie=>ie.id===se):null;return x.jsxs("div",{className:"h-screen bg-inherit text-slate-900 dark:text-slate-200 flex flex-row font-sans overflow-hidden",children:[x.jsxs("nav",{className:"w-16 bg-slate-50 dark:bg-slate-950 border-r border-slate-200 dark:border-slate-800 flex-shrink-0 flex flex-col items-center py-6 z-40 relative",children:[x.jsxs("div",{className:"flex flex-col gap-4 w-full px-2 relative",ref:n,children:[x.jsx("div",{className:`absolute rounded-xl transition-all duration-300 ease-out ${g()}`,style:{top:o.top,left:o.left,width:o.width,height:o.height,opacity:o.opacity,zIndex:0}}),x.jsx("div",{className:`absolute w-1 h-8 rounded-r-full transition-all duration-300 ease-out ${v()}`,style:{top:(o.top||0)+((o.height||0)-32)/2,left:0,opacity:o.opacity,zIndex:20}}),x.jsx("button",{ref:c,onClick:()=>t("api"),className:`p-3 rounded-xl flex justify-center transition-all group relative z-10 ${e==="api"?"text-blue-600 dark:text-white":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-900"}`,title:"REST API Documentation",children:x.jsx(Kb,{size:22})}),x.jsx("button",{ref:d,onClick:()=>t("ws"),className:`p-3 rounded-xl flex justify-center transition-all group relative z-10 ${e==="ws"?"text-purple-600 dark:text-purple-400":"text-slate-500 hover:text-purple-600 dark:hover:text-purple-300 hover:bg-slate-200 dark:hover:bg-slate-900"}`,title:"WebSocket Tester",children:x.jsx(Oi,{size:22})}),x.jsx("button",{ref:f,onClick:()=>t("io"),className:`p-3 rounded-xl flex justify-center transition-all group relative z-10 ${e==="io"?"text-blue-600 dark:text-blue-400":"text-slate-500 hover:text-blue-600 dark:hover:text-blue-300 hover:bg-slate-200 dark:hover:bg-slate-900"}`,title:"Socket.IO Tester",children:x.jsx(Id,{size:22})}),x.jsx("button",{ref:p,onClick:()=>t("mcp"),className:`p-3 rounded-xl flex justify-center transition-all group relative z-10 ${e==="mcp"?"text-blue-600 dark:text-white":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-900"}`,title:"MCP Inspector",children:x.jsx(Ko,{size:22})})]}),x.jsx("div",{className:"mt-auto px-2 flex flex-col gap-4",children:x.jsx("button",{onClick:X,className:"p-3 rounded-xl flex justify-center transition-all text-slate-500 hover:text-amber-500 dark:hover:text-amber-300 hover:bg-slate-200 dark:hover:bg-slate-900",title:V==="dark"?"Switch to Light Mode":"Switch to Dark Mode",children:V==="dark"?x.jsx(q2,{size:22}):x.jsx(C2,{size:22})})})]}),e==="api"&&x.jsxs("aside",{ref:A,className:"w-[var(--sidebar-width)] bg-slate-50 dark:bg-[#18181b] border-r border-slate-200 dark:border-slate-800 flex-shrink-0 flex flex-col relative group/sidebar h-screen hidden md:flex",style:{"--sidebar-width":`${R}px`},children:[x.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1.5 cursor-col-resize hover:bg-blue-500/50 transition-colors z-40 active:bg-blue-600 group-hover/sidebar:bg-blue-500/10",onMouseDown:M}),x.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 shrink-0",children:[x.jsxs("h1",{className:"font-bold text-base tracking-tight text-slate-900 dark:text-white truncate mb-3",children:["F-",x.jsx("span",{className:"text-blue-500",children:"Docs"})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("div",{className:"flex items-center gap-2 text-xs text-slate-500 font-mono",children:x.jsxs("span",{className:"px-1.5 py-0.5 bg-slate-200 dark:bg-slate-800 rounded text-slate-600 dark:text-slate-400",children:["v",j]})}),x.jsxs("div",{className:"flex bg-slate-200 dark:bg-slate-800 rounded p-0.5 border border-slate-300 dark:border-slate-700",children:[x.jsx("button",{onClick:()=>O("list"),className:`p-1 rounded ${D==="list"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,title:"List View",children:x.jsx(_2,{size:14})}),x.jsx("button",{onClick:()=>O("focused"),className:`p-1 rounded ${D==="focused"?"bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,title:"Focused View",children:x.jsx(N2,{size:14})})]})]})]}),x.jsxs("div",{className:"p-3 space-y-1 flex-1 overflow-y-auto custom-scrollbar min-h-0 relative",ref:Y,children:[x.jsx("div",{className:"absolute bg-blue-50 dark:bg-slate-800 border-l-2 border-blue-500 transition-all duration-300 ease-out pointer-events-none z-0",style:{top:me.top,height:me.height,left:me.left,width:me.width,opacity:me.opacity}}),D==="list"?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"mb-4 px-1",children:[x.jsx("h3",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 px-2",children:"Resources"}),x.jsxs("button",{onClick:()=>B("All"),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center justify-between ${z==="All"?"bg-blue-100 dark:bg-slate-800 text-blue-700 dark:text-white":"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[x.jsxs("span",{className:"flex items-center gap-2 truncate",children:[x.jsx(Kb,{size:14})," All Resources"]}),x.jsx("span",{className:"text-[10px] bg-slate-200 dark:bg-slate-950 px-1.5 py-0.5 rounded-full text-slate-500 dark:text-slate-500",children:ee.length})]})]}),x.jsx("div",{className:"px-1 space-y-0.5",children:W.map(ie=>x.jsxs("button",{onClick:()=>B(ie.name),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2 ${z===ie.name?"bg-blue-100 dark:bg-slate-800 text-blue-700 dark:text-white":"text-slate-700 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[x.jsx(Yb,{size:12,className:"opacity-70 shrink-0"}),x.jsx("span",{className:"truncate",children:ie.name})]},ie.name))})]}):x.jsx("div",{className:"px-1 space-y-4",children:W.map(ie=>{const Re=Io.filter(zt=>zt.tags.includes(ie.name));if(Re.length===0)return null;const Ct=Ce[ie.name]!==!1;return x.jsxs("div",{className:"space-y-1",children:[x.jsxs("button",{onClick:()=>ji(ie.name),className:"w-full flex items-center justify-between text-xs font-bold text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white px-2 py-1.5 rounded hover:bg-slate-100 dark:hover:bg-slate-800/50 transition-colors group uppercase tracking-wide",children:[x.jsx("span",{children:ie.name}),Ct?x.jsx(jl,{size:12,className:"opacity-50 group-hover:opacity-100"}):x.jsx(of,{size:12,className:"opacity-50 group-hover:opacity-100"})]}),Ct&&x.jsx("div",{className:"pl-2 space-y-0.5 border-l-2 border-slate-300 dark:border-slate-700 ml-3",children:Re.map(zt=>x.jsxs("button",{"data-id":zt.id,ref:It,onClick:()=>xe(zt.id),className:`w-full text-left px-3 py-2 rounded-r-md text-[11px] transition-colors flex items-center gap-2 border-l-2 -ml-[1px] relative z-10 ${se===zt.id?"text-blue-700 dark:text-white border-transparent font-semibold":"text-slate-600 dark:text-slate-400 border-transparent hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800/30"}`,children:[x.jsx("div",{className:"w-14 shrink-0",children:x.jsx(NT,{method:zt.method,className:"w-full block text-center scale-[0.80] origin-left"})}),x.jsx("span",{className:"truncate font-mono",children:zt.path})]},zt.id))})]},ie.name)})})]}),ce&&Object.keys(ce).length>0&&x.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-[#18181b] shrink-0",children:x.jsxs("button",{onClick:()=>fe(!0),className:`w-full py-2 px-3 rounded-md text-xs font-bold flex items-center justify-center gap-2 transition-all shadow-lg ${Na?"bg-emerald-600 hover:bg-emerald-500 text-white shadow-emerald-900/20":"bg-white hover:bg-slate-50 dark:bg-slate-800 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 border border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-500"}`,children:[Na?x.jsx(Dm,{size:14}):x.jsx(Rd,{size:14}),x.jsx("span",{children:Na?"Authorized":"Authorize"})]})})]}),e==="mcp"&&x.jsxs("aside",{ref:A,className:"w-[var(--sidebar-width)] bg-slate-50 dark:bg-[#18181b] border-r border-slate-200 dark:border-slate-800 flex-shrink-0 flex flex-col relative group/sidebar h-screen hidden md:flex",style:{"--sidebar-width":`${R}px`},children:[x.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1.5 cursor-col-resize hover:bg-blue-500/50 transition-colors z-40 active:bg-blue-600 group-hover/sidebar:bg-blue-500/10",onMouseDown:M}),x.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 shrink-0",children:[x.jsxs("h1",{className:"font-bold text-base tracking-tight text-slate-900 dark:text-white truncate mb-3 flex items-center gap-2",children:[x.jsx(Ko,{size:18,className:"text-orange-500"}),x.jsx("span",{children:"MCP Inspector"})]}),x.jsxs("div",{className:"relative",children:[x.jsx(gc,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500",size:14}),x.jsx("input",{type:"text",placeholder:"Filter items...",value:ye.filter,onChange:ie=>ye.setFilter(ie.target.value),className:"w-full h-8 bg-white dark:bg-slate-950 border border-slate-300 dark:border-slate-700 rounded pl-8 pr-2 text-xs text-slate-900 dark:text-slate-200 focus:outline-none focus:border-orange-500"})]})]}),x.jsx("div",{className:"p-3 space-y-1 flex-1 overflow-y-auto custom-scrollbar",children:ye.isConnected?x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"px-2 py-1 text-[10px] font-bold text-slate-500 uppercase tracking-widest flex justify-between items-center mb-1",children:[x.jsx("span",{children:"Tools"}),x.jsx("span",{className:"bg-slate-200 dark:bg-slate-800 px-1.5 py-0.5 rounded-full text-slate-500 dark:text-slate-400",children:ye.tools.length})]}),ye.filteredTools.length===0&&x.jsx("p",{className:"px-2 text-xs text-slate-600 italic",children:"No tools found"}),ye.filteredTools.map(ie=>x.jsxs("button",{onClick:()=>Ve({type:"TOOL",data:ie}),className:`w-full text-left px-3 py-2 rounded-md text-xs transition-colors flex items-center gap-2 ${(Pe==null?void 0:Pe.data.name)===ie.name?"bg-emerald-50 dark:bg-slate-800 text-emerald-700 dark:text-emerald-400 border-l-2 border-emerald-500":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-slate-200 border-l-2 border-transparent"}`,children:[x.jsx(Xb,{size:12,className:"shrink-0 opacity-70"}),x.jsx("span",{className:"truncate",children:ie.name})]},ie.name))]}),x.jsxs("div",{children:[x.jsxs("div",{className:"px-2 py-1 text-[10px] font-bold text-slate-500 uppercase tracking-widest flex justify-between items-center mb-1",children:[x.jsx("span",{children:"Resources"}),x.jsx("span",{className:"bg-slate-800 px-1.5 py-0.5 rounded-full text-slate-400",children:ye.resources.length})]}),ye.filteredResources.length===0&&x.jsx("p",{className:"px-2 text-xs text-slate-600 italic",children:"No resources found"}),ye.filteredResources.map(ie=>x.jsxs("button",{onClick:()=>Ve({type:"RESOURCE",data:ie}),className:`w-full text-left px-3 py-2 rounded-md text-xs transition-colors flex items-center gap-2 ${(Pe==null?void 0:Pe.data.uri)===ie.uri?"bg-blue-50 dark:bg-slate-800 text-blue-700 dark:text-blue-400 border-l-2 border-blue-500":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-slate-200 border-l-2 border-transparent"}`,children:[x.jsx(ZR,{size:12,className:"shrink-0 opacity-70"}),x.jsx("span",{className:"truncate",children:ie.name})]},ie.uri))]}),ye.prompts.length>0&&x.jsxs("div",{children:[x.jsxs("div",{className:"px-2 py-1 text-[10px] font-bold text-slate-500 uppercase tracking-widest flex justify-between items-center mb-1",children:[x.jsx("span",{children:"Prompts"}),x.jsx("span",{className:"bg-slate-200 dark:bg-slate-800 px-1.5 py-0.5 rounded-full text-slate-500 dark:text-slate-400",children:ye.prompts.length})]}),ye.filteredPrompts.map(ie=>x.jsxs("button",{onClick:()=>Ve({type:"PROMPT",data:ie}),className:`w-full text-left px-3 py-2 rounded-md text-xs transition-colors flex items-center gap-2 ${(Pe==null?void 0:Pe.data.name)===ie.name?"bg-slate-800 text-purple-400 border-l-2 border-purple-500":"text-slate-400 hover:bg-slate-800/50 hover:text-slate-200 border-l-2 border-transparent"}`,children:[x.jsx(Ol,{size:12,className:"shrink-0 opacity-70"}),x.jsx("span",{className:"truncate",children:ie.name})]},ie.name))]})]}):x.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500 text-center px-4",children:[x.jsx(Ko,{size:32,className:"mb-4 opacity-50"}),x.jsx("p",{className:"text-xs",children:"Connect to an MCP server to view available tools and resources."})]})}),x.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-[#18181b] shrink-0",children:ye.isConnected?x.jsx("button",{onClick:()=>ye.disconnect(),className:"w-full py-2 px-3 rounded-md text-xs font-bold flex items-center justify-center gap-2 transition-all bg-red-500/10 text-red-400 hover:bg-red-500/20 border border-red-500/20",children:x.jsx("span",{children:"Disconnect"})}):x.jsx("div",{className:"space-y-2",children:x.jsxs("button",{onClick:()=>mn(!0),className:"w-full py-2 px-3 rounded-md text-sm font-bold flex items-center justify-center gap-2 transition-all bg-orange-600 hover:bg-orange-500 text-white shadow-lg shadow-orange-900/20",children:[x.jsx(Ko,{size:14}),x.jsx("span",{children:"Connect"})]})})})]}),e==="ws"&&x.jsxs("aside",{ref:A,className:"w-[var(--sidebar-width)] bg-slate-50 dark:bg-[#18181b] border-r border-slate-200 dark:border-slate-800 flex-shrink-0 flex flex-col relative group/sidebar h-screen hidden md:flex",style:{"--sidebar-width":`${R}px`},children:[x.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1.5 cursor-col-resize hover:bg-blue-500/50 transition-colors z-40 active:bg-blue-600 group-hover/sidebar:bg-blue-500/10",onMouseDown:M}),x.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 shrink-0",children:[x.jsxs("h1",{className:"font-bold text-base tracking-tight text-slate-900 dark:text-white truncate mb-3 flex items-center gap-2",children:[x.jsx(Oi,{size:18,className:"text-purple-500"}),x.jsx("span",{children:"WebSocket Tester"})]}),x.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-900/50 p-2 rounded-lg border border-slate-200 dark:border-slate-800",children:[x.jsx("div",{className:"flex-1 truncate text-xs font-mono text-slate-500 cursor-pointer hover:text-slate-800 dark:hover:text-slate-200 transition-colors",onClick:()=>{kt.isAnyConnected||(sn(!0),an(kt.baseUrl))},title:"Click to edit base URL",children:kt.baseUrl}),x.jsx("div",{className:`w-2 h-2 rounded-full shrink-0 ${kt.isAnyConnected?"bg-emerald-500 animate-pulse":"bg-slate-400"}`})]})]}),x.jsxs("div",{className:"p-3 space-y-4 flex-1 overflow-y-auto custom-scrollbar",children:[gn&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:x.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-800",children:[x.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Connection URL"}),x.jsx("button",{onClick:()=>sn(!1),className:"text-slate-500 hover:text-slate-800 dark:hover:text-white",children:x.jsx(Jr,{size:20})})]}),x.jsxs("form",{onSubmit:No,className:"p-6 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"WebSocket Server URL"}),x.jsx("input",{ref:lr,type:"text",value:Wr,onChange:ie=>an(ie.target.value),className:"w-full h-11 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-700 rounded-md px-4 text-sm text-slate-800 dark:text-white focus:outline-none focus:border-purple-500 font-mono",placeholder:"wss://echo.websocket.org"}),x.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Press Enter to save."})]}),x.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[x.jsx("button",{type:"button",onClick:()=>sn(!1),className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded text-sm font-bold",children:"Cancel"}),x.jsx("button",{type:"submit",className:"px-5 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded text-sm font-bold shadow-lg shadow-purple-900/20",children:"Save"})]})]})]})}),x.jsx("form",{onSubmit:ui,className:"mb-4",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",value:Hn,onChange:ie=>kn(ie.target.value),placeholder:"Add path/label...",className:"flex-1 bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded px-2 py-1.5 text-xs focus:outline-none focus:border-purple-500 text-slate-800 dark:text-white"}),x.jsx("button",{type:"submit",disabled:!Hn.trim(),className:"px-2 py-1.5 bg-purple-100 text-purple-600 dark:bg-slate-800 dark:text-purple-400 rounded hover:bg-purple-200 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:x.jsx(zm,{size:14})})]})}),x.jsxs("div",{className:"px-2 py-1 text-[10px] font-bold text-slate-500 uppercase tracking-widest flex justify-between items-center mb-1",children:[x.jsx("span",{children:"Active Paths"}),x.jsx("span",{className:"bg-slate-200 dark:bg-slate-800 px-1.5 py-0.5 rounded-full text-slate-500 dark:text-slate-400",children:kt.activePaths.length})]}),kt.activePaths.length===0&&x.jsxs("div",{className:"text-center py-8 px-4",children:[x.jsx(Oi,{size:24,className:"mx-auto mb-2 text-slate-400 opacity-50"}),x.jsx("p",{className:"text-xs text-slate-500 italic",children:"No active paths. Add one to start monitoring."})]}),kt.activePaths.map(ie=>{const Re=kt.pathData[ie.name];return x.jsxs("div",{className:`bg-white dark:bg-slate-950 border rounded p-2 text-xs relative group mb-2 transition-all ${ie.isConnected?"border-emerald-500/50 dark:border-emerald-500/30":"border-slate-200 dark:border-slate-800"}`,children:[x.jsxs("div",{className:"flex justify-between items-start mb-1",children:[x.jsxs("div",{className:"flex items-center gap-2 overflow-hidden flex-1",children:[x.jsx("div",{className:`w-2 h-2 rounded-full shrink-0 ${ie.isConnecting?"bg-yellow-500 animate-pulse":ie.isConnected?"bg-emerald-500 animate-pulse":ie.error?"bg-red-500":"bg-slate-400"}`}),x.jsx("span",{className:`font-bold truncate flex-1 font-mono ${ie.isConnected?"text-emerald-600 dark:text-emerald-400":"text-slate-700 dark:text-slate-200"}`,children:ie.name}),x.jsx("button",{onClick:()=>kt.togglePath(ie.id),disabled:ie.isConnecting,className:`w-8 h-4 rounded-full flex items-center transition-colors shrink-0 ${ie.isConnecting?"bg-yellow-500 cursor-wait":ie.isConnected?"bg-emerald-500 justify-end":"bg-slate-300 dark:bg-slate-700 justify-start"}`,title:ie.isConnecting?"Connecting...":ie.isConnected?"Disconnect":"Connect",children:ie.isConnecting?x.jsx("span",{className:"text-[8px] text-white mx-auto",children:"..."}):x.jsx("div",{className:"w-3 h-3 bg-white rounded-full shadow-sm mx-0.5"})})]}),x.jsx("button",{onClick:()=>kt.removePath(ie.id),disabled:ie.isConnected||ie.isConnecting,className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-all opacity-0 group-hover:opacity-100 focus:opacity-100 disabled:opacity-30 disabled:cursor-not-allowed",title:"Remove Path",children:x.jsx(Gp,{size:14})})]}),ie.error&&x.jsxs("div",{className:"mt-1 p-1.5 bg-red-500/10 border border-red-500/30 rounded text-[10px] text-red-400 flex items-start gap-1",children:[x.jsx("span",{className:"shrink-0",children:""}),x.jsx("span",{className:"flex-1 break-all",children:ie.error}),x.jsx("button",{onClick:()=>kt.clearPathError(ie.id),className:"text-red-300 hover:text-red-200 shrink-0",children:""})]}),Re&&!ie.error&&x.jsxs("div",{className:"text-[10px] text-slate-500 font-mono mt-1 flex justify-between pl-1",children:[x.jsxs("span",{children:["Count: ",Re.count]}),x.jsx("span",{children:Re.lastActivity})]})]},ie.id)}),x.jsxs("div",{children:[x.jsx("div",{className:"px-2 py-1 text-[10px] font-bold text-slate-500 uppercase tracking-widest flex justify-between items-center mb-1",children:x.jsx("span",{children:"Global Actions"})}),x.jsxs("button",{onClick:kt.clearData,className:"w-full text-left px-3 py-2 rounded-md text-xs text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800/50 hover:text-slate-900 dark:hover:text-slate-200 transition-colors flex items-center gap-2",children:[x.jsx(Gp,{size:12}),x.jsx("span",{children:"Clear All Data"})]})]})]}),x.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-[#18181b] shrink-0",children:x.jsx("p",{className:"text-[10px] text-slate-500 text-center italic",children:"Use Ctrl+Q to quickly edit the WebSocket URL."})})]}),e==="io"&&x.jsxs("aside",{ref:A,className:"w-[var(--sidebar-width)] bg-slate-50 dark:bg-[#18181b] border-r border-slate-200 dark:border-slate-800 flex-shrink-0 flex flex-col relative group/sidebar h-screen hidden md:flex",style:{"--sidebar-width":`${R}px`},children:[x.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1.5 cursor-col-resize hover:bg-blue-500/50 transition-colors z-40 active:bg-blue-600 group-hover/sidebar:bg-blue-500/10",onMouseDown:M}),x.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 shrink-0",children:[x.jsxs("h1",{className:"font-bold text-base tracking-tight text-slate-900 dark:text-white truncate mb-3 flex items-center gap-2",children:[x.jsx(Id,{size:18,className:"text-blue-500"}),x.jsx("span",{children:"Socket.IO Tester"})]}),x.jsxs("div",{className:"flex flex-col gap-2 bg-slate-100 dark:bg-slate-900/50 p-2 rounded-lg border border-slate-200 dark:border-slate-800",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("div",{className:"flex-1 truncate text-xs font-mono text-slate-500 cursor-pointer hover:text-slate-800 dark:hover:text-slate-200 transition-colors",onClick:()=>{nt.isConnected||(Ge(!0),nn(nt.url))},title:"Click or Ctrl+Q to edit URL",children:nt.url}),x.jsx("div",{className:`w-2 h-2 rounded-full shrink-0 ml-2 ${nt.isConnected?"bg-emerald-500 animate-pulse":"bg-red-500"}`})]}),x.jsx("button",{onClick:nt.isConnected?nt.disconnect:nt.connect,className:`w-full py-1.5 rounded text-xs font-bold transition-all flex items-center justify-center gap-2 ${nt.isConnected?"bg-red-100 text-red-600 hover:bg-red-200 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/30":"bg-blue-600 text-white hover:bg-blue-500 shadow-sm"}`,children:nt.isConnected?x.jsx(x.Fragment,{children:"Disconnect"}):x.jsx(x.Fragment,{children:"Connect"})})]})]}),x.jsxs("div",{className:"p-3 space-y-1 flex-1 overflow-y-auto custom-scrollbar",children:[De&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:x.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-800",children:[x.jsx("h2",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Connection URL"}),x.jsx("button",{onClick:()=>Ge(!1),className:"text-slate-500 hover:text-slate-800 dark:hover:text-white",children:x.jsx(Jr,{size:20})})]}),x.jsxs("form",{onSubmit:ci,className:"p-6 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Socket.IO Server URL"}),x.jsx("input",{ref:bn,type:"text",value:ht,onChange:ie=>nn(ie.target.value),className:"w-full h-11 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-700 rounded-md px-4 text-sm text-slate-800 dark:text-white focus:outline-none focus:border-blue-500 font-mono",placeholder:"http://localhost:3000"}),x.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Press Enter to save."})]}),x.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[x.jsx("button",{type:"button",onClick:()=>Ge(!1),className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded text-sm font-bold",children:"Cancel"}),x.jsx("button",{type:"submit",className:"px-5 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm font-bold shadow-lg shadow-blue-900/20",children:"Save"})]})]})]})}),Yn&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:x.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[x.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-800",children:[x.jsxs("h2",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[x.jsx($g,{size:18})," Emit Event"]}),x.jsx("button",{onClick:()=>ur(!1),className:"text-slate-500 hover:text-slate-800 dark:hover:text-white",children:x.jsx(Jr,{size:20})})]}),x.jsxs("form",{onSubmit:yn,className:"p-6 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"Event Name"}),x.jsx("input",{type:"text",value:di,onChange:ie=>Ro(ie.target.value),className:"w-full h-11 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-700 rounded-md px-4 text-sm text-slate-800 dark:text-white focus:outline-none focus:border-blue-500",placeholder:"message"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-slate-600 dark:text-slate-400 mb-2",children:"JSON Data"}),x.jsx("textarea",{value:Vi,onChange:ie=>ei(ie.target.value),className:"w-full h-32 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-700 rounded-md p-3 text-sm font-mono text-slate-800 dark:text-white focus:outline-none focus:border-blue-500 resize-none",placeholder:"{}"})]}),x.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[x.jsx("button",{type:"button",onClick:()=>ur(!1),className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded text-sm font-bold",children:"Cancel"}),x.jsx("button",{type:"submit",className:"px-5 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm font-bold shadow-lg shadow-blue-900/20",children:"Send"})]})]})]})}),x.jsx("form",{onSubmit:Ao,className:"mb-4",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",value:Se,onChange:ie=>Ze(ie.target.value),placeholder:"Add listener...",className:"flex-1 bg-white dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded px-2 py-1.5 text-xs focus:outline-none focus:border-blue-500 text-slate-800 dark:text-white"}),x.jsx("button",{type:"submit",disabled:!Se.trim(),className:"px-2 py-1.5 bg-blue-100 text-blue-600 dark:bg-slate-800 dark:text-blue-400 rounded hover:bg-blue-200 dark:hover:bg-slate-700 transition-colors disabled:opacity-50",children:x.jsx(zm,{size:14})})]})}),x.jsxs("div",{className:"px-2 py-1 text-[10px] font-bold text-slate-500 uppercase tracking-widest flex justify-between items-center mb-1",children:[x.jsx("span",{children:"Active Listeners"}),x.jsx("span",{className:"bg-slate-200 dark:bg-slate-800 px-1.5 py-0.5 rounded-full text-slate-500 dark:text-slate-400",children:nt.activeListeners.length})]}),nt.activeListeners.length===0&&x.jsxs("div",{className:"text-center py-8 px-4",children:[x.jsx(Oi,{size:24,className:"mx-auto mb-2 text-slate-400 opacity-50"}),x.jsx("p",{className:"text-xs text-slate-500 italic",children:"No active listeners. Add one to start monitoring events."})]}),nt.activeListeners.map(ie=>{const Re=nt.listenerData[ie.name];return x.jsxs("div",{className:`bg-white dark:bg-slate-950 border rounded p-2 text-xs relative group mb-2 transition-all ${ie.isEnabled?"border-slate-200 dark:border-slate-800":"border-slate-200 dark:border-slate-800 opacity-60"}`,children:[x.jsxs("div",{className:"flex justify-between items-start mb-1",children:[x.jsxs("div",{className:"flex items-center gap-2 overflow-hidden flex-1",children:[x.jsx("span",{className:`font-bold truncate flex-1 ${ie.isEnabled?"text-slate-700 dark:text-slate-200":"text-slate-500 dark:text-slate-500 line-through"}`,children:ie.name}),x.jsx("button",{onClick:()=>nt.toggleListener(ie.id),className:`w-8 h-4 rounded-full flex items-center transition-colors shrink-0 ${ie.isEnabled?"bg-green-500 justify-end":"bg-slate-300 dark:bg-slate-700 justify-start"}`,title:ie.isEnabled?"Disable Listener":"Enable Listener",children:x.jsx("div",{className:"w-3 h-3 bg-white rounded-full shadow-sm mx-0.5"})})]}),x.jsx("button",{onClick:()=>nt.removeListener(ie.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-all opacity-0 group-hover:opacity-100 focus:opacity-100",title:"Remove Listener",children:x.jsx(Gp,{size:14})})]}),Re&&x.jsxs("div",{className:"text-[10px] text-slate-500 font-mono mt-1 flex justify-between pl-1",children:[x.jsxs("span",{children:["Count: ",Re.count]}),x.jsx("span",{children:Re.timestamp})]})]},ie.id)})]})]}),x.jsxs("main",{className:"flex-1 overflow-y-auto h-screen bg-slate-50 dark:bg-slate-950 relative w-full flex flex-col transition-colors",children:[e==="api"?x.jsxs("div",{className:"w-full h-full flex flex-col",children:[x.jsx("header",{className:"sticky top-0 z-20 bg-white/90 dark:bg-slate-950/90 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 shadow-sm dark:shadow-lg transition-colors",children:x.jsx("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-800/50 bg-slate-50/50 dark:bg-slate-900/30 transition-colors",children:x.jsx("div",{className:"flex flex-col lg:flex-row gap-4 w-full mx-auto items-center",children:x.jsx("div",{className:"flex flex-1 w-full gap-3 items-center min-w-0",children:x.jsxs("div",{className:"relative flex-1",children:[x.jsx(gc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500",size:16}),x.jsx("input",{type:"text",placeholder:"Filter endpoints by path or summary...",value:ze,onChange:ie=>$(ie.target.value),className:"w-full h-10 bg-white dark:bg-slate-950 border border-slate-300 dark:border-slate-700 rounded-md pl-10 pr-4 text-sm text-slate-900 dark:text-slate-200 focus:outline-none focus:border-blue-500 transition-colors placeholder:text-slate-400 dark:placeholder:text-slate-600 shadow-sm"})]})})})})}),x.jsx("div",{className:"p-4 md:p-8 w-full mx-auto pb-4 min-w-0 flex-1 flex flex-col",children:wt?x.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-6 flex items-start gap-4 text-red-400",children:[x.jsx(Nd,{size:24,className:"shrink-0"}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-lg mb-1",children:"Failed to load specification"}),x.jsx("p",{className:"text-sm opacity-90",children:wt}),x.jsx("button",{onClick:()=>xn(""),className:"mt-4 text-xs font-bold underline hover:text-red-300",children:"Return to Demo API"})]})]}):x.jsxs(x.Fragment,{children:[D==="list"&&x.jsxs("div",{className:"mb-8 animate-in fade-in slide-in-from-bottom-2 duration-500",children:[x.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-2",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white break-words",children:P}),b&&x.jsxs("a",{href:b,target:"_blank",rel:"noopener noreferrer",title:"View Raw Specification",className:"text-xs font-mono text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 flex items-center gap-1.5 px-2 py-1 rounded bg-blue-500/10 border border-blue-500/20 hover:border-blue-500/40 transition-all font-bold",children:[x.jsx("span",{children:"raw spec"}),x.jsx(l2,{size:12})]})]}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm leading-relaxed max-w-3xl",children:P==="Cosmos Store API"?"This is a demonstration of a next-generation API documentation interface. It features interactive request building, simulated responses, and AI-assisted payload generation powered by Gemini.":`Documentation for ${P} v${j}. Explore endpoints, generate payloads, and execute requests below.`})]}),Ye?x.jsxs("div",{className:"flex flex-col items-center justify-center py-20 opacity-50",children:[x.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-500 mb-4"}),x.jsx("p",{className:"text-slate-500 text-sm",children:"Parsing Specification..."})]}):x.jsx(x.Fragment,{children:D==="list"?x.jsxs("div",{className:"space-y-6",children:[W.filter(ie=>z==="All"||z===ie.name).map(ie=>{const Re=Io.filter(Ct=>Ct.tags.includes(ie.name));return x.jsx(zJ,{tag:ie,endpoints:Re,baseUrl:H,securitySchemes:ce,authCredentials:re},ie.name)}),Io.length===0&&x.jsxs("div",{className:"text-center py-20",children:[x.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-slate-900 mb-4",children:x.jsx(gc,{className:"text-slate-600",size:32})}),x.jsx("h3",{className:"text-slate-300 font-medium",children:"No endpoints found"}),x.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Try adjusting your search criteria."})]})]}):x.jsx("div",{className:"animate-in fade-in slide-in-from-right-4 duration-300 h-full flex flex-col",children:Ra?x.jsx(w1,{endpoint:Ra,baseUrl:H,securitySchemes:ce,authCredentials:re,forcedOpen:!0},Ra.id):x.jsxs("div",{className:"flex flex-col items-center justify-center py-32 border border-slate-200 dark:border-slate-800 rounded-lg bg-white dark:bg-slate-900/20 border-dashed transition-colors h-full",children:[x.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-900 rounded-full flex items-center justify-center mb-4 border border-slate-200 dark:border-slate-800 transition-colors",children:x.jsx(Yb,{className:"text-slate-400 dark:text-slate-600",size:32})}),x.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-300",children:"Select an Endpoint"}),x.jsx("p",{className:"text-slate-600 dark:text-slate-500 mt-2 max-w-sm text-center",children:"Choose an endpoint from the sidebar to view its details, build requests, and test responses."})]})})})]})})]},"api"):e==="ws"?x.jsx("div",{className:"w-full h-full",children:x.jsx(Q9,{...kt})},"ws"):e==="io"?x.jsx("div",{className:"w-full h-full",children:x.jsx(t6,{...nt})},"io"):e==="mcp"?x.jsx("div",{className:"w-full h-full flex flex-col",children:ye.isConnected?x.jsxs(x.Fragment,{children:[x.jsx("header",{className:"sticky top-0 z-20 bg-white/90 dark:bg-slate-950/90 backdrop-blur-md border-b border-slate-200 dark:border-slate-800 shadow-sm dark:shadow-lg transition-colors",children:x.jsx("div",{className:"px-6 py-4 border-b border-slate-100 dark:border-slate-800/50 bg-slate-50/50 dark:bg-slate-900/30 transition-colors",children:x.jsx("div",{className:"flex flex-col lg:flex-row gap-4 w-full mx-auto items-center",children:x.jsxs("div",{className:"flex flex-1 w-full gap-3 items-center min-w-0",children:[x.jsxs("div",{className:"relative flex-1",children:[x.jsx(gc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500",size:16}),x.jsx("input",{type:"text",placeholder:"Filter tools, resources, and prompts...",value:ye.filter,onChange:ie=>ye.setFilter(ie.target.value),className:"w-full h-10 bg-white dark:bg-slate-950 border border-slate-300 dark:border-slate-700 rounded-md pl-10 pr-4 text-sm text-slate-900 dark:text-slate-200 focus:outline-none focus:border-orange-500 transition-colors placeholder:text-slate-400 dark:placeholder:text-slate-600 shadow-sm"})]}),x.jsxs("button",{onClick:()=>ye.disconnect(),className:"h-10 px-4 bg-white hover:bg-red-50 dark:bg-slate-800 dark:hover:bg-red-950/30 text-slate-700 hover:text-red-600 dark:text-slate-300 dark:hover:text-red-400 rounded-md border border-slate-300 hover:border-red-200 dark:border-slate-700 dark:hover:border-red-500/50 transition-all flex items-center gap-2 font-medium text-sm whitespace-nowrap shadow-sm",title:"Disconnect from MCP Server",children:[x.jsx(Ko,{size:16}),x.jsx("span",{className:"hidden sm:inline",children:"Disconnect"})]})]})})})}),x.jsx("div",{className:"p-4 md:p-6 w-full pb-20 min-w-0 flex-1 max-w-none",children:x.jsx("div",{className:"animate-in fade-in slide-in-from-right-4 duration-300 w-full",children:Pe?x.jsx(L7,{type:Pe.type,data:Pe.data,onRunTool:ye.runTool,forcedOpen:!0}):x.jsxs("div",{className:"flex flex-col items-center justify-center py-32 border border-slate-200 dark:border-slate-800 rounded-lg bg-white dark:bg-slate-900/20 border-dashed transition-colors",children:[x.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-900 rounded-full flex items-center justify-center mb-4 border border-slate-200 dark:border-slate-800",children:x.jsx(Xb,{className:"text-slate-400 dark:text-slate-600",size:32})}),x.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-300",children:"Select an Item"}),x.jsx("p",{className:"text-slate-600 dark:text-slate-500 mt-2 max-w-sm text-center",children:"Choose a tool or resource from the sidebar to view details and execute."})]})})})]}):x.jsx("div",{className:"flex flex-col items-center justify-center h-full text-slate-600 dark:text-slate-500 p-8",children:x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 border-2 border-slate-300 dark:border-slate-700 p-8 rounded-2xl flex flex-col items-center shadow-xl max-w-md w-full animate-in fade-in zoom-in-95 duration-500",children:[x.jsx(Ko,{size:64,className:"mb-6 text-orange-500"}),x.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-3",children:"MCP Not Connected"}),ye.error?x.jsxs("div",{className:"mb-6 p-4 bg-red-100 dark:bg-red-500/10 border-2 border-red-300 dark:border-red-500/30 rounded-lg text-red-700 dark:text-red-400 text-sm text-center space-y-2 w-full",children:[x.jsx("p",{className:"font-bold text-red-800 dark:text-red-300",children:" Connection Failed"}),x.jsx("p",{className:"leading-relaxed text-red-600 dark:text-red-400",children:ye.error})]}):x.jsx("p",{className:"text-sm text-center text-slate-600 dark:text-slate-400 mb-6 leading-relaxed",children:"Please connect to an MCP server (SSE mode) to inspect available tools, resources, and prompts."}),x.jsxs("div",{className:"flex flex-col w-full gap-3",children:[x.jsxs("button",{onClick:()=>mn(!0),className:"w-full h-12 bg-orange-600 hover:bg-orange-500 text-white rounded-lg font-bold text-base flex items-center justify-center gap-2 transition-all shadow-lg shadow-orange-600/30",children:[x.jsx(Hl,{size:18,fill:"currentColor"}),ye.error?"Try Different URL":"Connect Now"]}),ye.error&&x.jsxs("button",{onClick:()=>ye.connect(),disabled:ye.isConnecting,className:"w-full h-12 bg-slate-100 hover:bg-slate-200 dark:bg-slate-800 dark:hover:bg-slate-700 text-slate-800 dark:text-slate-200 rounded-lg font-bold text-base flex items-center justify-center gap-2 border-2 border-slate-300 dark:border-slate-600 transition-all",children:[ye.isConnecting?x.jsx(bo,{size:18,className:"animate-spin"}):x.jsx(Oi,{size:18}),"Retry Connection"]})]})]})})},"mcp"):null,x.jsx(OJ,{isOpen:Tn,onClose:()=>fe(!1),baseUrl:H,securitySchemes:ce,credentials:re,setCredentials:we}),x.jsx(UJ,{isOpen:Ee,onClose:()=>Te(!1),onLoad:xn,currentUrl:b}),Gt&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:x.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl shadow-2xl max-w-md w-full overflow-hidden animate-in zoom-in-95 duration-200",children:[x.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[x.jsx(Ko,{className:"text-orange-500",size:24}),"Connect to MCP Server"]}),x.jsx("button",{onClick:()=>mn(!1),className:"text-slate-500 hover:text-slate-800 dark:hover:text-white transition-colors",children:x.jsx(Jr,{size:20})})]}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Enter the URL of your Model Context Protocol server."})]}),x.jsxs("div",{className:"p-6 space-y-4",children:[ye.error&&x.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-md flex items-center gap-3 text-red-500 dark:text-red-400 text-xs shadow-sm animate-in fade-in slide-in-from-top-1",children:[x.jsx(Nd,{size:16,className:"shrink-0"}),x.jsx("div",{className:"flex-1 min-w-0 font-medium break-words leading-relaxed",children:ye.error})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Server URL"}),x.jsx("input",{type:"text",value:ye.url,onChange:ie=>ye.setUrl(ie.target.value),placeholder:"http://localhost:8000/mcp",className:`w-full h-10 bg-slate-50 dark:bg-slate-950 border rounded-md px-3 text-sm text-slate-800 dark:text-slate-200 focus:outline-none transition-colors placeholder:text-slate-400 dark:placeholder:text-slate-600 ${ye.error?"border-red-500/50 focus:border-red-500":"border-slate-200 dark:border-slate-700 focus:border-orange-500"}`,onKeyDown:async ie=>{ie.key==="Enter"&&await ye.connect()&&mn(!1)}})]}),x.jsx("div",{className:"pt-2",children:x.jsxs("button",{onClick:async()=>{await ye.connect()&&mn(!1)},disabled:ye.isConnecting,className:"w-full py-2.5 rounded-md text-sm font-bold text-white bg-orange-600 hover:bg-orange-500 shadow-lg shadow-orange-900/20 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-wait",children:[ye.isConnecting?x.jsx(bo,{size:16,className:"animate-spin"}):x.jsx(Hl,{size:16,fill:"currentColor"}),"Connect"]})})]}),x.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-950/50 border-t border-slate-200 dark:border-slate-800 text-xs text-slate-500 text-center",children:"Make sure your server supports SSE (Server-Sent Events)."})]})})]})]})}const bA=document.getElementById("root");if(!bA)throw new Error("Could not find root element to mount to");const HJ=qR.createRoot(bA);HJ.render(x.jsx(ET.StrictMode,{children:x.jsx(Y2,{children:x.jsx(jJ,{})})}));
